var Pz=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var cue=Pz((Tr,Cr)=>{function BI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function $f(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var DI={exports:{}},N0={},FI={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=Symbol.for("react.element"),Lz=Symbol.for("react.portal"),Iz=Symbol.for("react.fragment"),Bz=Symbol.for("react.strict_mode"),Dz=Symbol.for("react.profiler"),Fz=Symbol.for("react.provider"),Oz=Symbol.for("react.context"),kz=Symbol.for("react.forward_ref"),Nz=Symbol.for("react.suspense"),Uz=Symbol.for("react.memo"),zz=Symbol.for("react.lazy"),rC=Symbol.iterator;function Hz(n){return n===null||typeof n!="object"?null:(n=rC&&n[rC]||n["@@iterator"],typeof n=="function"?n:null)}var OI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kI=Object.assign,NI={};function Qf(n,e,t){this.props=n,this.context=e,this.refs=NI,this.updater=t||OI}Qf.prototype.isReactComponent={};Qf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Qf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function UI(){}UI.prototype=Qf.prototype;function z1(n,e,t){this.props=n,this.context=e,this.refs=NI,this.updater=t||OI}var H1=z1.prototype=new UI;H1.constructor=z1;kI(H1,Qf.prototype);H1.isPureReactComponent=!0;var sC=Array.isArray,zI=Object.prototype.hasOwnProperty,G1={current:null},HI={key:!0,ref:!0,__self:!0,__source:!0};function GI(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zI.call(e,i)&&!HI.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:wp,type:n,key:s,ref:o,props:r,_owner:G1.current}}function Gz(n,e){return{$$typeof:wp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function V1(n){return typeof n=="object"&&n!==null&&n.$$typeof===wp}function Vz(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oC=/\/+/g;function f_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Vz(""+n.key):e.toString(36)}function hy(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case wp:case Lz:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+f_(o,0):i,sC(r)?(t="",n!=null&&(t=n.replace(oC,"$&/")+"/"),hy(r,e,t,"",function(c){return c})):r!=null&&(V1(r)&&(r=Gz(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(oC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",sC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+f_(s,a);o+=hy(s,e,t,l,r)}else if(l=Hz(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+f_(s,a++),o+=hy(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jm(n,e,t){if(n==null)return n;var i=[],r=0;return hy(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Wz(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ki={current:null},dy={transition:null},jz={ReactCurrentDispatcher:Ki,ReactCurrentBatchConfig:dy,ReactCurrentOwner:G1};Nt.Children={map:Jm,forEach:function(n,e,t){Jm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jm(n,function(){e++}),e},toArray:function(n){return Jm(n,function(e){return e})||[]},only:function(n){if(!V1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Nt.Component=Qf;Nt.Fragment=Iz;Nt.Profiler=Dz;Nt.PureComponent=z1;Nt.StrictMode=Bz;Nt.Suspense=Nz;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jz;Nt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=kI({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G1.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)zI.call(e,l)&&!HI.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:wp,type:n.type,key:r,ref:s,props:i,_owner:o}};Nt.createContext=function(n){return n={$$typeof:Oz,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Fz,_context:n},n.Consumer=n};Nt.createElement=GI;Nt.createFactory=function(n){var e=GI.bind(null,n);return e.type=n,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(n){return{$$typeof:kz,render:n}};Nt.isValidElement=V1;Nt.lazy=function(n){return{$$typeof:zz,_payload:{_status:-1,_result:n},_init:Wz}};Nt.memo=function(n,e){return{$$typeof:Uz,type:n,compare:e===void 0?null:e}};Nt.startTransition=function(n){var e=dy.transition;dy.transition={};try{n()}finally{dy.transition=e}};Nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nt.useCallback=function(n,e){return Ki.current.useCallback(n,e)};Nt.useContext=function(n){return Ki.current.useContext(n)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(n){return Ki.current.useDeferredValue(n)};Nt.useEffect=function(n,e){return Ki.current.useEffect(n,e)};Nt.useId=function(){return Ki.current.useId()};Nt.useImperativeHandle=function(n,e,t){return Ki.current.useImperativeHandle(n,e,t)};Nt.useInsertionEffect=function(n,e){return Ki.current.useInsertionEffect(n,e)};Nt.useLayoutEffect=function(n,e){return Ki.current.useLayoutEffect(n,e)};Nt.useMemo=function(n,e){return Ki.current.useMemo(n,e)};Nt.useReducer=function(n,e,t){return Ki.current.useReducer(n,e,t)};Nt.useRef=function(n){return Ki.current.useRef(n)};Nt.useState=function(n){return Ki.current.useState(n)};Nt.useSyncExternalStore=function(n,e,t){return Ki.current.useSyncExternalStore(n,e,t)};Nt.useTransition=function(){return Ki.current.useTransition()};Nt.version="18.2.0";FI.exports=Nt;var O=FI.exports;const Ii=$f(O),Xz=BI({__proto__:null,default:Ii},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jz=O,Kz=Symbol.for("react.element"),Yz=Symbol.for("react.fragment"),qz=Object.prototype.hasOwnProperty,$z=Jz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qz={key:!0,ref:!0,__self:!0,__source:!0};function VI(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)qz.call(e,i)&&!Qz.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Kz,type:n,key:s,ref:o,props:r,_owner:$z.current}}N0.Fragment=Yz;N0.jsx=VI;N0.jsxs=VI;DI.exports=N0;var X=DI.exports,gS={},WI={exports:{}},Or={},jI={exports:{}},XI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,Y){var q=G.length;G.push(Y);e:for(;0<q;){var z=q-1>>>1,J=G[z];if(0<r(J,Y))G[z]=Y,G[q]=J,q=z;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Y=G[0],q=G.pop();if(q!==Y){G[0]=q;e:for(var z=0,J=G.length,_e=J>>>1;z<_e;){var Me=2*(z+1)-1,Ee=G[Me],ke=Me+1,Ke=G[ke];if(0>r(Ee,q))ke<J&&0>r(Ke,Ee)?(G[z]=Ke,G[ke]=q,z=ke):(G[z]=Ee,G[Me]=q,z=Me);else if(ke<J&&0>r(Ke,q))G[z]=Ke,G[ke]=q,z=ke;else break e}}return Y}function r(G,Y){var q=G.sortIndex-Y.sortIndex;return q!==0?q:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=G)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function w(G){if(x=!1,S(G),!y)if(t(l)!==null)y=!0,le(b);else{var Y=t(c);Y!==null&&ue(w,Y.startTime-G)}}function b(G,Y){y=!1,x&&(x=!1,g(B),B=-1),m=!0;var q=p;try{for(S(Y),d=t(l);d!==null&&(!(d.expirationTime>Y)||G&&!U());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var J=z(d.expirationTime<=Y);Y=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),S(Y)}else i(l);d=t(l)}if(d!==null)var _e=!0;else{var Me=t(c);Me!==null&&ue(w,Me.startTime-Y),_e=!1}return _e}finally{d=null,p=q,m=!1}}var T=!1,C=null,B=-1,P=5,L=-1;function U(){return!(n.unstable_now()-L<P)}function te(){if(C!==null){var G=n.unstable_now();L=G;var Y=!0;try{Y=C(!0,G)}finally{Y?ne():(T=!1,C=null)}}else T=!1}var ne;if(typeof A=="function")ne=function(){A(te)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=te,ne=function(){$.postMessage(null)}}else ne=function(){_(te,0)};function le(G){C=G,T||(T=!0,ne())}function ue(G,Y){B=_(function(){G(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,le(b))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var q=p;p=Y;try{return G()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=p;p=G;try{return Y()}finally{p=q}},n.unstable_scheduleCallback=function(G,Y,q){var z=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?z+q:z):q=z,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,G={id:u++,callback:Y,priorityLevel:G,startTime:q,expirationTime:J,sortIndex:-1},q>z?(G.sortIndex=q,e(c,G),t(l)===null&&G===t(c)&&(x?(g(B),B=-1):x=!0,ue(w,q-z))):(G.sortIndex=J,e(l,G),y||m||(y=!0,le(b))),G},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(G){var Y=p;return function(){var q=p;p=Y;try{return G.apply(this,arguments)}finally{p=q}}}})(XI);jI.exports=XI;var Zz=jI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=O,Br=Zz;function Be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KI=new Set,Bd={};function Uc(n,e){Cf(n,e),Cf(n+"Capture",e)}function Cf(n,e){for(Bd[n]=e,n=0;n<e.length;n++)KI.add(e[n])}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yS=Object.prototype.hasOwnProperty,eH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aC={},lC={};function tH(n){return yS.call(lC,n)?!0:yS.call(aC,n)?!1:eH.test(n)?lC[n]=!0:(aC[n]=!0,!1)}function nH(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function iH(n,e,t,i){if(e===null||typeof e>"u"||nH(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ai[n]=new Yi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ai[e]=new Yi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ai[n]=new Yi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ai[n]=new Yi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ai[n]=new Yi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ai[n]=new Yi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ai[n]=new Yi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ai[n]=new Yi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ai[n]=new Yi(n,5,!1,n.toLowerCase(),null,!1,!1)});var W1=/[\-:]([a-z])/g;function j1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(W1,j1);Ai[e]=new Yi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(W1,j1);Ai[e]=new Yi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(W1,j1);Ai[e]=new Yi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ai[n]=new Yi(n,1,!1,n.toLowerCase(),null,!1,!1)});Ai.xlinkHref=new Yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ai[n]=new Yi(n,1,!1,n.toLowerCase(),null,!0,!0)});function X1(n,e,t,i){var r=Ai.hasOwnProperty(e)?Ai[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iH(e,t,r,i)&&(t=null),i||r===null?tH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ra=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Km=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),Wu=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),vS=Symbol.for("react.profiler"),YI=Symbol.for("react.provider"),qI=Symbol.for("react.context"),K1=Symbol.for("react.forward_ref"),xS=Symbol.for("react.suspense"),_S=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),$I=Symbol.for("react.offscreen"),cC=Symbol.iterator;function Eh(n){return n===null||typeof n!="object"?null:(n=cC&&n[cC]||n["@@iterator"],typeof n=="function"?n:null)}var Mn=Object.assign,h_;function ed(n){if(h_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);h_=e&&e[1]||""}return`
`+h_+n}var d_=!1;function p_(n,e){if(!n||d_)return"";d_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{d_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ed(n):""}function rH(n){switch(n.tag){case 5:return ed(n.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return n=p_(n.type,!1),n;case 11:return n=p_(n.type.render,!1),n;case 1:return n=p_(n.type,!0),n;default:return""}}function AS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Wu:return"Fragment";case Vu:return"Portal";case vS:return"Profiler";case J1:return"StrictMode";case xS:return"Suspense";case _S:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case qI:return(n.displayName||"Context")+".Consumer";case YI:return(n._context.displayName||"Context")+".Provider";case K1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y1:return e=n.displayName||null,e!==null?e:AS(n.type)||"Memo";case Ca:e=n._payload,n=n._init;try{return AS(n(e))}catch{}}return null}function sH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AS(e);case 8:return e===J1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function el(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function QI(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oH(n){var e=QI(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ym(n){n._valueTracker||(n._valueTracker=oH(n))}function ZI(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=QI(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Uy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function SS(n,e){var t=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function uC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=el(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eB(n,e){e=e.checked,e!=null&&X1(n,"checked",e,!1)}function wS(n,e){eB(n,e);var t=el(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?MS(n,e.type,t):e.hasOwnProperty("defaultValue")&&MS(n,e.type,el(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function fC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function MS(n,e,t){(e!=="number"||Uy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var td=Array.isArray;function mf(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+el(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function ES(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function hC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Be(92));if(td(t)){if(1<t.length)throw Error(Be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:el(t)}}function tB(n,e){var t=el(e.value),i=el(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function dC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function nB(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?nB(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qm,iB=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qm=qm||document.createElement("div"),qm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Dd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aH=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(n){aH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ad[e]=ad[n]})});function rB(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ad.hasOwnProperty(n)&&ad[n]?(""+e).trim():e+"px"}function sB(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=rB(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var lH=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function TS(n,e){if(e){if(lH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function CS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RS=null;function q1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var PS=null,gf=null,yf=null;function pC(n){if(n=bp(n)){if(typeof PS!="function")throw Error(Be(280));var e=n.stateNode;e&&(e=V0(e),PS(n.stateNode,n.type,e))}}function oB(n){gf?yf?yf.push(n):yf=[n]:gf=n}function aB(){if(gf){var n=gf,e=yf;if(yf=gf=null,pC(n),e)for(n=0;n<e.length;n++)pC(e[n])}}function lB(n,e){return n(e)}function cB(){}var m_=!1;function uB(n,e,t){if(m_)return n(e,t);m_=!0;try{return lB(n,e,t)}finally{m_=!1,(gf!==null||yf!==null)&&(cB(),aB())}}function Fd(n,e){var t=n.stateNode;if(t===null)return null;var i=V0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Be(231,e,typeof t));return t}var LS=!1;if($o)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){LS=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{LS=!1}function cH(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var ld=!1,zy=null,Hy=!1,IS=null,uH={onError:function(n){ld=!0,zy=n}};function fH(n,e,t,i,r,s,o,a,l){ld=!1,zy=null,cH.apply(uH,arguments)}function hH(n,e,t,i,r,s,o,a,l){if(fH.apply(this,arguments),ld){if(ld){var c=zy;ld=!1,zy=null}else throw Error(Be(198));Hy||(Hy=!0,IS=c)}}function zc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function fB(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function mC(n){if(zc(n)!==n)throw Error(Be(188))}function dH(n){var e=n.alternate;if(!e){if(e=zc(n),e===null)throw Error(Be(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return mC(r),n;if(s===i)return mC(r),e;s=s.sibling}throw Error(Be(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(t.alternate!==i)throw Error(Be(190))}if(t.tag!==3)throw Error(Be(188));return t.stateNode.current===t?n:e}function hB(n){return n=dH(n),n!==null?dB(n):null}function dB(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dB(n);if(e!==null)return e;n=n.sibling}return null}var pB=Br.unstable_scheduleCallback,gC=Br.unstable_cancelCallback,pH=Br.unstable_shouldYield,mH=Br.unstable_requestPaint,Nn=Br.unstable_now,gH=Br.unstable_getCurrentPriorityLevel,$1=Br.unstable_ImmediatePriority,mB=Br.unstable_UserBlockingPriority,Gy=Br.unstable_NormalPriority,yH=Br.unstable_LowPriority,gB=Br.unstable_IdlePriority,U0=null,io=null;function vH(n){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(U0,n,void 0,(n.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:AH,xH=Math.log,_H=Math.LN2;function AH(n){return n>>>=0,n===0?32:31-(xH(n)/_H|0)|0}var $m=64,Qm=4194304;function nd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vy(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=nd(a):(s&=o,s!==0&&(i=nd(s)))}else o=t&~r,o!==0?i=nd(o):s!==0&&(i=nd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Rs(e),r=1<<t,i|=n[t],e&=~r;return i}function SH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wH(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Rs(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=SH(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function BS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yB(){var n=$m;return $m<<=1,!($m&4194240)&&($m=64),n}function g_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Rs(e),n[e]=t}function MH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Rs(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Q1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Rs(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Qt=0;function vB(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xB,Z1,_B,AB,SB,DS=!1,Zm=[],Na=null,Ua=null,za=null,Od=new Map,kd=new Map,Ia=[],EH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yC(n,e){switch(n){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(e.pointerId)}}function Th(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=bp(e),e!==null&&Z1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function bH(n,e,t,i,r){switch(e){case"focusin":return Na=Th(Na,n,e,t,i,r),!0;case"dragenter":return Ua=Th(Ua,n,e,t,i,r),!0;case"mouseover":return za=Th(za,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Od.set(s,Th(Od.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,kd.set(s,Th(kd.get(s)||null,n,e,t,i,r)),!0}return!1}function wB(n){var e=ic(n.target);if(e!==null){var t=zc(e);if(t!==null){if(e=t.tag,e===13){if(e=fB(t),e!==null){n.blockedOn=e,SB(n.priority,function(){_B(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function py(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=FS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);RS=i,t.target.dispatchEvent(i),RS=null}else return e=bp(t),e!==null&&Z1(e),n.blockedOn=t,!1;e.shift()}return!0}function vC(n,e,t){py(n)&&t.delete(e)}function TH(){DS=!1,Na!==null&&py(Na)&&(Na=null),Ua!==null&&py(Ua)&&(Ua=null),za!==null&&py(za)&&(za=null),Od.forEach(vC),kd.forEach(vC)}function Ch(n,e){n.blockedOn===e&&(n.blockedOn=null,DS||(DS=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,TH)))}function Nd(n){function e(r){return Ch(r,n)}if(0<Zm.length){Ch(Zm[0],n);for(var t=1;t<Zm.length;t++){var i=Zm[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Na!==null&&Ch(Na,n),Ua!==null&&Ch(Ua,n),za!==null&&Ch(za,n),Od.forEach(e),kd.forEach(e),t=0;t<Ia.length;t++)i=Ia[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ia.length&&(t=Ia[0],t.blockedOn===null);)wB(t),t.blockedOn===null&&Ia.shift()}var vf=ra.ReactCurrentBatchConfig,Wy=!0;function CH(n,e,t,i){var r=Qt,s=vf.transition;vf.transition=null;try{Qt=1,eM(n,e,t,i)}finally{Qt=r,vf.transition=s}}function RH(n,e,t,i){var r=Qt,s=vf.transition;vf.transition=null;try{Qt=4,eM(n,e,t,i)}finally{Qt=r,vf.transition=s}}function eM(n,e,t,i){if(Wy){var r=FS(n,e,t,i);if(r===null)b_(n,e,i,jy,t),yC(n,i);else if(bH(r,n,e,t,i))i.stopPropagation();else if(yC(n,i),e&4&&-1<EH.indexOf(n)){for(;r!==null;){var s=bp(r);if(s!==null&&xB(s),s=FS(n,e,t,i),s===null&&b_(n,e,i,jy,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else b_(n,e,i,null,t)}}var jy=null;function FS(n,e,t,i){if(jy=null,n=q1(i),n=ic(n),n!==null)if(e=zc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=fB(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return jy=n,null}function MB(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gH()){case $1:return 1;case mB:return 4;case Gy:case yH:return 16;case gB:return 536870912;default:return 16}default:return 16}}var Fa=null,tM=null,my=null;function EB(){if(my)return my;var n,e=tM,t=e.length,i,r="value"in Fa?Fa.value:Fa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return my=r.slice(n,1<i?1-i:void 0)}function gy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function eg(){return!0}function xC(){return!1}function kr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eg:xC,this.isPropagationStopped=xC,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=eg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=eg)},persist:function(){},isPersistent:eg}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nM=kr(Zf),Ep=Mn({},Zf,{view:0,detail:0}),PH=kr(Ep),y_,v_,Rh,z0=Mn({},Ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rh&&(Rh&&n.type==="mousemove"?(y_=n.screenX-Rh.screenX,v_=n.screenY-Rh.screenY):v_=y_=0,Rh=n),y_)},movementY:function(n){return"movementY"in n?n.movementY:v_}}),_C=kr(z0),LH=Mn({},z0,{dataTransfer:0}),IH=kr(LH),BH=Mn({},Ep,{relatedTarget:0}),x_=kr(BH),DH=Mn({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),FH=kr(DH),OH=Mn({},Zf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kH=kr(OH),NH=Mn({},Zf,{data:0}),AC=kr(NH),UH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=HH[n])?!!e[n]:!1}function iM(){return GH}var VH=Mn({},Ep,{key:function(n){if(n.key){var e=UH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iM,charCode:function(n){return n.type==="keypress"?gy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),WH=kr(VH),jH=Mn({},z0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SC=kr(jH),XH=Mn({},Ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iM}),JH=kr(XH),KH=Mn({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),YH=kr(KH),qH=Mn({},z0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$H=kr(qH),QH=[9,13,27,32],rM=$o&&"CompositionEvent"in window,cd=null;$o&&"documentMode"in document&&(cd=document.documentMode);var ZH=$o&&"TextEvent"in window&&!cd,bB=$o&&(!rM||cd&&8<cd&&11>=cd),wC=String.fromCharCode(32),MC=!1;function TB(n,e){switch(n){case"keyup":return QH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CB(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ju=!1;function eG(n,e){switch(n){case"compositionend":return CB(e);case"keypress":return e.which!==32?null:(MC=!0,wC);case"textInput":return n=e.data,n===wC&&MC?null:n;default:return null}}function tG(n,e){if(ju)return n==="compositionend"||!rM&&TB(n,e)?(n=EB(),my=tM=Fa=null,ju=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bB&&e.locale!=="ko"?null:e.data;default:return null}}var nG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!nG[n.type]:e==="textarea"}function RB(n,e,t,i){oB(i),e=Xy(e,"onChange"),0<e.length&&(t=new nM("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var ud=null,Ud=null;function iG(n){zB(n,0)}function H0(n){var e=Ku(n);if(ZI(e))return n}function rG(n,e){if(n==="change")return e}var PB=!1;if($o){var __;if($o){var A_="oninput"in document;if(!A_){var bC=document.createElement("div");bC.setAttribute("oninput","return;"),A_=typeof bC.oninput=="function"}__=A_}else __=!1;PB=__&&(!document.documentMode||9<document.documentMode)}function TC(){ud&&(ud.detachEvent("onpropertychange",LB),Ud=ud=null)}function LB(n){if(n.propertyName==="value"&&H0(Ud)){var e=[];RB(e,Ud,n,q1(n)),uB(iG,e)}}function sG(n,e,t){n==="focusin"?(TC(),ud=e,Ud=t,ud.attachEvent("onpropertychange",LB)):n==="focusout"&&TC()}function oG(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return H0(Ud)}function aG(n,e){if(n==="click")return H0(e)}function lG(n,e){if(n==="input"||n==="change")return H0(e)}function cG(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ds=typeof Object.is=="function"?Object.is:cG;function zd(n,e){if(Ds(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!yS.call(e,r)||!Ds(n[r],e[r]))return!1}return!0}function CC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function RC(n,e){var t=CC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=CC(t)}}function IB(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?IB(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function BB(){for(var n=window,e=Uy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Uy(n.document)}return e}function sM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function uG(n){var e=BB(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&IB(t.ownerDocument.documentElement,t)){if(i!==null&&sM(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=RC(t,s);var o=RC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fG=$o&&"documentMode"in document&&11>=document.documentMode,Xu=null,OS=null,fd=null,kS=!1;function PC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;kS||Xu==null||Xu!==Uy(i)||(i=Xu,"selectionStart"in i&&sM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),fd&&zd(fd,i)||(fd=i,i=Xy(OS,"onSelect"),0<i.length&&(e=new nM("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Xu)))}function tg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ju={animationend:tg("Animation","AnimationEnd"),animationiteration:tg("Animation","AnimationIteration"),animationstart:tg("Animation","AnimationStart"),transitionend:tg("Transition","TransitionEnd")},S_={},DB={};$o&&(DB=document.createElement("div").style,"AnimationEvent"in window||(delete Ju.animationend.animation,delete Ju.animationiteration.animation,delete Ju.animationstart.animation),"TransitionEvent"in window||delete Ju.transitionend.transition);function G0(n){if(S_[n])return S_[n];if(!Ju[n])return n;var e=Ju[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in DB)return S_[n]=e[t];return n}var FB=G0("animationend"),OB=G0("animationiteration"),kB=G0("animationstart"),NB=G0("transitionend"),UB=new Map,LC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(n,e){UB.set(n,e),Uc(e,[n])}for(var w_=0;w_<LC.length;w_++){var M_=LC[w_],hG=M_.toLowerCase(),dG=M_[0].toUpperCase()+M_.slice(1);ul(hG,"on"+dG)}ul(FB,"onAnimationEnd");ul(OB,"onAnimationIteration");ul(kB,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(NB,"onTransitionEnd");Cf("onMouseEnter",["mouseout","mouseover"]);Cf("onMouseLeave",["mouseout","mouseover"]);Cf("onPointerEnter",["pointerout","pointerover"]);Cf("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pG=new Set("cancel close invalid load scroll toggle".split(" ").concat(id));function IC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,hH(i,e,void 0,n),n.currentTarget=null}function zB(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;IC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;IC(r,a,c),s=l}}}if(Hy)throw n=IS,Hy=!1,IS=null,n}function an(n,e){var t=e[GS];t===void 0&&(t=e[GS]=new Set);var i=n+"__bubble";t.has(i)||(HB(e,n,2,!1),t.add(i))}function E_(n,e,t){var i=0;e&&(i|=4),HB(t,n,i,e)}var ng="_reactListening"+Math.random().toString(36).slice(2);function Hd(n){if(!n[ng]){n[ng]=!0,KI.forEach(function(t){t!=="selectionchange"&&(pG.has(t)||E_(t,!1,n),E_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ng]||(e[ng]=!0,E_("selectionchange",!1,e))}}function HB(n,e,t,i){switch(MB(e)){case 1:var r=CH;break;case 4:r=RH;break;default:r=eM}t=r.bind(null,e,t,n),r=void 0,!LS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function b_(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ic(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}uB(function(){var c=s,u=q1(t),d=[];e:{var p=UB.get(n);if(p!==void 0){var m=nM,y=n;switch(n){case"keypress":if(gy(t)===0)break e;case"keydown":case"keyup":m=WH;break;case"focusin":y="focus",m=x_;break;case"focusout":y="blur",m=x_;break;case"beforeblur":case"afterblur":m=x_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_C;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=IH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JH;break;case FB:case OB:case kB:m=FH;break;case NB:m=YH;break;case"scroll":m=PH;break;case"wheel":m=$H;break;case"copy":case"cut":case"paste":m=kH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=SC}var x=(e&4)!==0,_=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var A=c,S;A!==null;){S=A;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,g!==null&&(w=Fd(A,g),w!=null&&x.push(Gd(A,w,S)))),_)break;A=A.return}0<x.length&&(p=new m(p,y,null,t,u),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==RS&&(y=t.relatedTarget||t.fromElement)&&(ic(y)||y[Qo]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?ic(y):null,y!==null&&(_=zc(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=_C,w="onMouseLeave",g="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(x=SC,w="onPointerLeave",g="onPointerEnter",A="pointer"),_=m==null?p:Ku(m),S=y==null?p:Ku(y),p=new x(w,A+"leave",m,t,u),p.target=_,p.relatedTarget=S,w=null,ic(u)===c&&(x=new x(g,A+"enter",y,t,u),x.target=S,x.relatedTarget=_,w=x),_=w,m&&y)t:{for(x=m,g=y,A=0,S=x;S;S=gu(S))A++;for(S=0,w=g;w;w=gu(w))S++;for(;0<A-S;)x=gu(x),A--;for(;0<S-A;)g=gu(g),S--;for(;A--;){if(x===g||g!==null&&x===g.alternate)break t;x=gu(x),g=gu(g)}x=null}else x=null;m!==null&&BC(d,p,m,x,!1),y!==null&&_!==null&&BC(d,_,y,x,!0)}}e:{if(p=c?Ku(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=rG;else if(EC(p))if(PB)b=lG;else{b=oG;var T=sG}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=aG);if(b&&(b=b(n,c))){RB(d,b,t,u);break e}T&&T(n,p,c),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&MS(p,"number",p.value)}switch(T=c?Ku(c):window,n){case"focusin":(EC(T)||T.contentEditable==="true")&&(Xu=T,OS=c,fd=null);break;case"focusout":fd=OS=Xu=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,PC(d,t,u);break;case"selectionchange":if(fG)break;case"keydown":case"keyup":PC(d,t,u)}var C;if(rM)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else ju?TB(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(bB&&t.locale!=="ko"&&(ju||B!=="onCompositionStart"?B==="onCompositionEnd"&&ju&&(C=EB()):(Fa=u,tM="value"in Fa?Fa.value:Fa.textContent,ju=!0)),T=Xy(c,B),0<T.length&&(B=new AC(B,n,null,t,u),d.push({event:B,listeners:T}),C?B.data=C:(C=CB(t),C!==null&&(B.data=C)))),(C=ZH?eG(n,t):tG(n,t))&&(c=Xy(c,"onBeforeInput"),0<c.length&&(u=new AC("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=C))}zB(d,e)})}function Gd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Xy(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Fd(n,t),s!=null&&i.unshift(Gd(n,s,r)),s=Fd(n,e),s!=null&&i.push(Gd(n,s,r))),n=n.return}return i}function gu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function BC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Fd(t,s),l!=null&&o.unshift(Gd(t,l,a))):r||(l=Fd(t,s),l!=null&&o.push(Gd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var mG=/\r\n?/g,gG=/\u0000|\uFFFD/g;function DC(n){return(typeof n=="string"?n:""+n).replace(mG,`
`).replace(gG,"")}function ig(n,e,t){if(e=DC(e),DC(n)!==e&&t)throw Error(Be(425))}function Jy(){}var NS=null,US=null;function zS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var HS=typeof setTimeout=="function"?setTimeout:void 0,yG=typeof clearTimeout=="function"?clearTimeout:void 0,FC=typeof Promise=="function"?Promise:void 0,vG=typeof queueMicrotask=="function"?queueMicrotask:typeof FC<"u"?function(n){return FC.resolve(null).then(n).catch(xG)}:HS;function xG(n){setTimeout(function(){throw n})}function T_(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Nd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Nd(e)}function Ha(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function OC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var eh=Math.random().toString(36).slice(2),eo="__reactFiber$"+eh,Vd="__reactProps$"+eh,Qo="__reactContainer$"+eh,GS="__reactEvents$"+eh,_G="__reactListeners$"+eh,AG="__reactHandles$"+eh;function ic(n){var e=n[eo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qo]||t[eo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=OC(n);n!==null;){if(t=n[eo])return t;n=OC(n)}return e}n=t,t=n.parentNode}return null}function bp(n){return n=n[eo]||n[Qo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ku(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Be(33))}function V0(n){return n[Vd]||null}var VS=[],Yu=-1;function fl(n){return{current:n}}function fn(n){0>Yu||(n.current=VS[Yu],VS[Yu]=null,Yu--)}function rn(n,e){Yu++,VS[Yu]=n.current,n.current=e}var tl={},Fi=fl(tl),lr=fl(!1),wc=tl;function Rf(n,e){var t=n.type.contextTypes;if(!t)return tl;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function cr(n){return n=n.childContextTypes,n!=null}function Ky(){fn(lr),fn(Fi)}function kC(n,e,t){if(Fi.current!==tl)throw Error(Be(168));rn(Fi,e),rn(lr,t)}function GB(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Be(108,sH(n)||"Unknown",r));return Mn({},t,i)}function Yy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||tl,wc=Fi.current,rn(Fi,n),rn(lr,lr.current),!0}function NC(n,e,t){var i=n.stateNode;if(!i)throw Error(Be(169));t?(n=GB(n,e,wc),i.__reactInternalMemoizedMergedChildContext=n,fn(lr),fn(Fi),rn(Fi,n)):fn(lr),rn(lr,t)}var Oo=null,W0=!1,C_=!1;function VB(n){Oo===null?Oo=[n]:Oo.push(n)}function SG(n){W0=!0,VB(n)}function hl(){if(!C_&&Oo!==null){C_=!0;var n=0,e=Qt;try{var t=Oo;for(Qt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Oo=null,W0=!1}catch(r){throw Oo!==null&&(Oo=Oo.slice(n+1)),pB($1,hl),r}finally{Qt=e,C_=!1}}return null}var qu=[],$u=0,qy=null,$y=0,ns=[],is=0,Mc=null,Uo=1,zo="";function Wl(n,e){qu[$u++]=$y,qu[$u++]=qy,qy=n,$y=e}function WB(n,e,t){ns[is++]=Uo,ns[is++]=zo,ns[is++]=Mc,Mc=n;var i=Uo;n=zo;var r=32-Rs(i)-1;i&=~(1<<r),t+=1;var s=32-Rs(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Uo=1<<32-Rs(e)+r|t<<r|i,zo=s+n}else Uo=1<<s|t<<r|i,zo=n}function oM(n){n.return!==null&&(Wl(n,1),WB(n,1,0))}function aM(n){for(;n===qy;)qy=qu[--$u],qu[$u]=null,$y=qu[--$u],qu[$u]=null;for(;n===Mc;)Mc=ns[--is],ns[is]=null,zo=ns[--is],ns[is]=null,Uo=ns[--is],ns[is]=null}var Rr=null,Er=null,pn=!1,Es=null;function jB(n,e){var t=rs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function UC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Rr=n,Er=Ha(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Rr=n,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Mc!==null?{id:Uo,overflow:zo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=rs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Rr=n,Er=null,!0):!1;default:return!1}}function WS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function jS(n){if(pn){var e=Er;if(e){var t=e;if(!UC(n,e)){if(WS(n))throw Error(Be(418));e=Ha(t.nextSibling);var i=Rr;e&&UC(n,e)?jB(i,t):(n.flags=n.flags&-4097|2,pn=!1,Rr=n)}}else{if(WS(n))throw Error(Be(418));n.flags=n.flags&-4097|2,pn=!1,Rr=n}}}function zC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rr=n}function rg(n){if(n!==Rr)return!1;if(!pn)return zC(n),pn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!zS(n.type,n.memoizedProps)),e&&(e=Er)){if(WS(n))throw XB(),Error(Be(418));for(;e;)jB(n,e),e=Ha(e.nextSibling)}if(zC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Er=Ha(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Er=null}}else Er=Rr?Ha(n.stateNode.nextSibling):null;return!0}function XB(){for(var n=Er;n;)n=Ha(n.nextSibling)}function Pf(){Er=Rr=null,pn=!1}function lM(n){Es===null?Es=[n]:Es.push(n)}var wG=ra.ReactCurrentBatchConfig;function As(n,e){if(n&&n.defaultProps){e=Mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Qy=fl(null),Zy=null,Qu=null,cM=null;function uM(){cM=Qu=Zy=null}function fM(n){var e=Qy.current;fn(Qy),n._currentValue=e}function XS(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function xf(n,e){Zy=n,cM=Qu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(or=!0),n.firstContext=null)}function os(n){var e=n._currentValue;if(cM!==n)if(n={context:n,memoizedValue:e,next:null},Qu===null){if(Zy===null)throw Error(Be(308));Qu=n,Zy.dependencies={lanes:0,firstContext:n}}else Qu=Qu.next=n;return e}var rc=null;function hM(n){rc===null?rc=[n]:rc.push(n)}function JB(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,hM(e)):(t.next=r.next,r.next=t),e.interleaved=t,Zo(n,i)}function Zo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ra=!1;function dM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KB(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Gt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Zo(n,t)}return r=i.interleaved,r===null?(e.next=e,hM(i)):(e.next=r.next,r.next=e),i.interleaved=e,Zo(n,t)}function yy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Q1(n,t)}}function HC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function e0(n,e,t,i){var r=n.updateQueue;Ra=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,x=a;switch(p=e,m=t,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(m,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,d,p):y,p==null)break e;d=Mn({},d,p);break e;case 2:Ra=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);bc|=o,n.lanes=o,n.memoizedState=d}}function GC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Be(191,r));r.call(i)}}}var YB=new JI.Component().refs;function JS(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var j0={isMounted:function(n){return(n=n._reactInternals)?zc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ji(),r=Wa(n),s=Wo(i,r);s.payload=e,t!=null&&(s.callback=t),e=Ga(n,s,r),e!==null&&(Ps(e,n,r,i),yy(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ji(),r=Wa(n),s=Wo(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ga(n,s,r),e!==null&&(Ps(e,n,r,i),yy(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ji(),i=Wa(n),r=Wo(t,i);r.tag=2,e!=null&&(r.callback=e),e=Ga(n,r,i),e!==null&&(Ps(e,n,i,t),yy(e,n,i))}};function VC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!zd(t,i)||!zd(r,s):!0}function qB(n,e,t){var i=!1,r=tl,s=e.contextType;return typeof s=="object"&&s!==null?s=os(s):(r=cr(e)?wc:Fi.current,i=e.contextTypes,s=(i=i!=null)?Rf(n,r):tl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function WC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&j0.enqueueReplaceState(e,e.state,null)}function KS(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=YB,dM(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=os(s):(s=cr(e)?wc:Fi.current,r.context=Rf(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(JS(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&j0.enqueueReplaceState(r,r.state,null),e0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ph(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Be(309));var i=t.stateNode}if(!i)throw Error(Be(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===YB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Be(284));if(!t._owner)throw Error(Be(290,n))}return n}function sg(n,e){throw n=Object.prototype.toString.call(e),Error(Be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function jC(n){var e=n._init;return e(n._payload)}function $B(n){function e(g,A){if(n){var S=g.deletions;S===null?(g.deletions=[A],g.flags|=16):S.push(A)}}function t(g,A){if(!n)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function i(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=ja(g,A),g.index=0,g.sibling=null,g}function s(g,A,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<A?(g.flags|=2,A):S):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,A,S,w){return A===null||A.tag!==6?(A=F_(S,g.mode,w),A.return=g,A):(A=r(A,S),A.return=g,A)}function l(g,A,S,w){var b=S.type;return b===Wu?u(g,A,S.props.children,w,S.key):A!==null&&(A.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ca&&jC(b)===A.type)?(w=r(A,S.props),w.ref=Ph(g,A,S),w.return=g,w):(w=wy(S.type,S.key,S.props,null,g.mode,w),w.ref=Ph(g,A,S),w.return=g,w)}function c(g,A,S,w){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=O_(S,g.mode,w),A.return=g,A):(A=r(A,S.children||[]),A.return=g,A)}function u(g,A,S,w,b){return A===null||A.tag!==7?(A=mc(S,g.mode,w,b),A.return=g,A):(A=r(A,S),A.return=g,A)}function d(g,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=F_(""+A,g.mode,S),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Km:return S=wy(A.type,A.key,A.props,null,g.mode,S),S.ref=Ph(g,null,A),S.return=g,S;case Vu:return A=O_(A,g.mode,S),A.return=g,A;case Ca:var w=A._init;return d(g,w(A._payload),S)}if(td(A)||Eh(A))return A=mc(A,g.mode,S,null),A.return=g,A;sg(g,A)}return null}function p(g,A,S,w){var b=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(g,A,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Km:return S.key===b?l(g,A,S,w):null;case Vu:return S.key===b?c(g,A,S,w):null;case Ca:return b=S._init,p(g,A,b(S._payload),w)}if(td(S)||Eh(S))return b!==null?null:u(g,A,S,w,null);sg(g,S)}return null}function m(g,A,S,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(S)||null,a(A,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Km:return g=g.get(w.key===null?S:w.key)||null,l(A,g,w,b);case Vu:return g=g.get(w.key===null?S:w.key)||null,c(A,g,w,b);case Ca:var T=w._init;return m(g,A,S,T(w._payload),b)}if(td(w)||Eh(w))return g=g.get(S)||null,u(A,g,w,b,null);sg(A,w)}return null}function y(g,A,S,w){for(var b=null,T=null,C=A,B=A=0,P=null;C!==null&&B<S.length;B++){C.index>B?(P=C,C=null):P=C.sibling;var L=p(g,C,S[B],w);if(L===null){C===null&&(C=P);break}n&&C&&L.alternate===null&&e(g,C),A=s(L,A,B),T===null?b=L:T.sibling=L,T=L,C=P}if(B===S.length)return t(g,C),pn&&Wl(g,B),b;if(C===null){for(;B<S.length;B++)C=d(g,S[B],w),C!==null&&(A=s(C,A,B),T===null?b=C:T.sibling=C,T=C);return pn&&Wl(g,B),b}for(C=i(g,C);B<S.length;B++)P=m(C,g,B,S[B],w),P!==null&&(n&&P.alternate!==null&&C.delete(P.key===null?B:P.key),A=s(P,A,B),T===null?b=P:T.sibling=P,T=P);return n&&C.forEach(function(U){return e(g,U)}),pn&&Wl(g,B),b}function x(g,A,S,w){var b=Eh(S);if(typeof b!="function")throw Error(Be(150));if(S=b.call(S),S==null)throw Error(Be(151));for(var T=b=null,C=A,B=A=0,P=null,L=S.next();C!==null&&!L.done;B++,L=S.next()){C.index>B?(P=C,C=null):P=C.sibling;var U=p(g,C,L.value,w);if(U===null){C===null&&(C=P);break}n&&C&&U.alternate===null&&e(g,C),A=s(U,A,B),T===null?b=U:T.sibling=U,T=U,C=P}if(L.done)return t(g,C),pn&&Wl(g,B),b;if(C===null){for(;!L.done;B++,L=S.next())L=d(g,L.value,w),L!==null&&(A=s(L,A,B),T===null?b=L:T.sibling=L,T=L);return pn&&Wl(g,B),b}for(C=i(g,C);!L.done;B++,L=S.next())L=m(C,g,B,L.value,w),L!==null&&(n&&L.alternate!==null&&C.delete(L.key===null?B:L.key),A=s(L,A,B),T===null?b=L:T.sibling=L,T=L);return n&&C.forEach(function(te){return e(g,te)}),pn&&Wl(g,B),b}function _(g,A,S,w){if(typeof S=="object"&&S!==null&&S.type===Wu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Km:e:{for(var b=S.key,T=A;T!==null;){if(T.key===b){if(b=S.type,b===Wu){if(T.tag===7){t(g,T.sibling),A=r(T,S.props.children),A.return=g,g=A;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ca&&jC(b)===T.type){t(g,T.sibling),A=r(T,S.props),A.ref=Ph(g,T,S),A.return=g,g=A;break e}t(g,T);break}else e(g,T);T=T.sibling}S.type===Wu?(A=mc(S.props.children,g.mode,w,S.key),A.return=g,g=A):(w=wy(S.type,S.key,S.props,null,g.mode,w),w.ref=Ph(g,A,S),w.return=g,g=w)}return o(g);case Vu:e:{for(T=S.key;A!==null;){if(A.key===T)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){t(g,A.sibling),A=r(A,S.children||[]),A.return=g,g=A;break e}else{t(g,A);break}else e(g,A);A=A.sibling}A=O_(S,g.mode,w),A.return=g,g=A}return o(g);case Ca:return T=S._init,_(g,A,T(S._payload),w)}if(td(S))return y(g,A,S,w);if(Eh(S))return x(g,A,S,w);sg(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(t(g,A.sibling),A=r(A,S),A.return=g,g=A):(t(g,A),A=F_(S,g.mode,w),A.return=g,g=A),o(g)):t(g,A)}return _}var Lf=$B(!0),QB=$B(!1),Tp={},ro=fl(Tp),Wd=fl(Tp),jd=fl(Tp);function sc(n){if(n===Tp)throw Error(Be(174));return n}function pM(n,e){switch(rn(jd,e),rn(Wd,n),rn(ro,Tp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=bS(e,n)}fn(ro),rn(ro,e)}function If(){fn(ro),fn(Wd),fn(jd)}function ZB(n){sc(jd.current);var e=sc(ro.current),t=bS(e,n.type);e!==t&&(rn(Wd,n),rn(ro,t))}function mM(n){Wd.current===n&&(fn(ro),fn(Wd))}var xn=fl(0);function t0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var R_=[];function gM(){for(var n=0;n<R_.length;n++)R_[n]._workInProgressVersionPrimary=null;R_.length=0}var vy=ra.ReactCurrentDispatcher,P_=ra.ReactCurrentBatchConfig,Ec=0,wn=null,Yn=null,ci=null,n0=!1,hd=!1,Xd=0,MG=0;function Ti(){throw Error(Be(321))}function yM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ds(n[t],e[t]))return!1;return!0}function vM(n,e,t,i,r,s){if(Ec=s,wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vy.current=n===null||n.memoizedState===null?CG:RG,n=t(i,r),hd){s=0;do{if(hd=!1,Xd=0,25<=s)throw Error(Be(301));s+=1,ci=Yn=null,e.updateQueue=null,vy.current=PG,n=t(i,r)}while(hd)}if(vy.current=i0,e=Yn!==null&&Yn.next!==null,Ec=0,ci=Yn=wn=null,n0=!1,e)throw Error(Be(300));return n}function xM(){var n=Xd!==0;return Xd=0,n}function $s(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?wn.memoizedState=ci=n:ci=ci.next=n,ci}function as(){if(Yn===null){var n=wn.alternate;n=n!==null?n.memoizedState:null}else n=Yn.next;var e=ci===null?wn.memoizedState:ci.next;if(e!==null)ci=e,Yn=n;else{if(n===null)throw Error(Be(310));Yn=n,n={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},ci===null?wn.memoizedState=ci=n:ci=ci.next=n}return ci}function Jd(n,e){return typeof e=="function"?e(n):e}function L_(n){var e=as(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var i=Yn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ec&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,wn.lanes|=u,bc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Ds(i,e.memoizedState)||(or=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,wn.lanes|=s,bc|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function I_(n){var e=as(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Ds(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function eD(){}function tD(n,e){var t=wn,i=as(),r=e(),s=!Ds(i.memoizedState,r);if(s&&(i.memoizedState=r,or=!0),i=i.queue,_M(rD.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||ci!==null&&ci.memoizedState.tag&1){if(t.flags|=2048,Kd(9,iD.bind(null,t,i,r,e),void 0,null),fi===null)throw Error(Be(349));Ec&30||nD(t,e,r)}return r}function nD(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=wn.updateQueue,e===null?(e={lastEffect:null,stores:null},wn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iD(n,e,t,i){e.value=t,e.getSnapshot=i,sD(e)&&oD(n)}function rD(n,e,t){return t(function(){sD(e)&&oD(n)})}function sD(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ds(n,t)}catch{return!0}}function oD(n){var e=Zo(n,1);e!==null&&Ps(e,n,1,-1)}function XC(n){var e=$s();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:n},e.queue=n,n=n.dispatch=TG.bind(null,wn,n),[e.memoizedState,n]}function Kd(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=wn.updateQueue,e===null?(e={lastEffect:null,stores:null},wn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function aD(){return as().memoizedState}function xy(n,e,t,i){var r=$s();wn.flags|=n,r.memoizedState=Kd(1|e,t,void 0,i===void 0?null:i)}function X0(n,e,t,i){var r=as();i=i===void 0?null:i;var s=void 0;if(Yn!==null){var o=Yn.memoizedState;if(s=o.destroy,i!==null&&yM(i,o.deps)){r.memoizedState=Kd(e,t,s,i);return}}wn.flags|=n,r.memoizedState=Kd(1|e,t,s,i)}function JC(n,e){return xy(8390656,8,n,e)}function _M(n,e){return X0(2048,8,n,e)}function lD(n,e){return X0(4,2,n,e)}function cD(n,e){return X0(4,4,n,e)}function uD(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function fD(n,e,t){return t=t!=null?t.concat([n]):null,X0(4,4,uD.bind(null,e,n),t)}function AM(){}function hD(n,e){var t=as();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&yM(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function dD(n,e){var t=as();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&yM(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function pD(n,e,t){return Ec&21?(Ds(t,e)||(t=yB(),wn.lanes|=t,bc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,or=!0),n.memoizedState=t)}function EG(n,e){var t=Qt;Qt=t!==0&&4>t?t:4,n(!0);var i=P_.transition;P_.transition={};try{n(!1),e()}finally{Qt=t,P_.transition=i}}function mD(){return as().memoizedState}function bG(n,e,t){var i=Wa(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},gD(n))yD(e,t);else if(t=JB(n,e,t,i),t!==null){var r=ji();Ps(t,n,i,r),vD(t,e,i)}}function TG(n,e,t){var i=Wa(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(gD(n))yD(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Ds(a,o)){var l=e.interleaved;l===null?(r.next=r,hM(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=JB(n,e,r,i),t!==null&&(r=ji(),Ps(t,n,i,r),vD(t,e,i))}}function gD(n){var e=n.alternate;return n===wn||e!==null&&e===wn}function yD(n,e){hd=n0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vD(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Q1(n,t)}}var i0={readContext:os,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},CG={readContext:os,useCallback:function(n,e){return $s().memoizedState=[n,e===void 0?null:e],n},useContext:os,useEffect:JC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,xy(4194308,4,uD.bind(null,e,n),t)},useLayoutEffect:function(n,e){return xy(4194308,4,n,e)},useInsertionEffect:function(n,e){return xy(4,2,n,e)},useMemo:function(n,e){var t=$s();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=$s();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=bG.bind(null,wn,n),[i.memoizedState,n]},useRef:function(n){var e=$s();return n={current:n},e.memoizedState=n},useState:XC,useDebugValue:AM,useDeferredValue:function(n){return $s().memoizedState=n},useTransition:function(){var n=XC(!1),e=n[0];return n=EG.bind(null,n[1]),$s().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=wn,r=$s();if(pn){if(t===void 0)throw Error(Be(407));t=t()}else{if(t=e(),fi===null)throw Error(Be(349));Ec&30||nD(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,JC(rD.bind(null,i,s,n),[n]),i.flags|=2048,Kd(9,iD.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=$s(),e=fi.identifierPrefix;if(pn){var t=zo,i=Uo;t=(i&~(1<<32-Rs(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Xd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=MG++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},RG={readContext:os,useCallback:hD,useContext:os,useEffect:_M,useImperativeHandle:fD,useInsertionEffect:lD,useLayoutEffect:cD,useMemo:dD,useReducer:L_,useRef:aD,useState:function(){return L_(Jd)},useDebugValue:AM,useDeferredValue:function(n){var e=as();return pD(e,Yn.memoizedState,n)},useTransition:function(){var n=L_(Jd)[0],e=as().memoizedState;return[n,e]},useMutableSource:eD,useSyncExternalStore:tD,useId:mD,unstable_isNewReconciler:!1},PG={readContext:os,useCallback:hD,useContext:os,useEffect:_M,useImperativeHandle:fD,useInsertionEffect:lD,useLayoutEffect:cD,useMemo:dD,useReducer:I_,useRef:aD,useState:function(){return I_(Jd)},useDebugValue:AM,useDeferredValue:function(n){var e=as();return Yn===null?e.memoizedState=n:pD(e,Yn.memoizedState,n)},useTransition:function(){var n=I_(Jd)[0],e=as().memoizedState;return[n,e]},useMutableSource:eD,useSyncExternalStore:tD,useId:mD,unstable_isNewReconciler:!1};function Bf(n,e){try{var t="",i=e;do t+=rH(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function B_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function YS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var LG=typeof WeakMap=="function"?WeakMap:Map;function xD(n,e,t){t=Wo(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){s0||(s0=!0,sw=i),YS(n,e)},t}function _D(n,e,t){t=Wo(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){YS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){YS(n,e),typeof i!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function KC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new LG;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=jG.bind(null,n,e,t),e.then(n,n))}function YC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function qC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Wo(-1,1),e.tag=2,Ga(t,e,1))),t.lanes|=1),n)}var IG=ra.ReactCurrentOwner,or=!1;function Wi(n,e,t,i){e.child=n===null?QB(e,null,t,i):Lf(e,n.child,t,i)}function $C(n,e,t,i,r){t=t.render;var s=e.ref;return xf(e,r),i=vM(n,e,t,i,s,r),t=xM(),n!==null&&!or?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ea(n,e,r)):(pn&&t&&oM(e),e.flags|=1,Wi(n,e,i,r),e.child)}function QC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!RM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,AD(n,e,s,i,r)):(n=wy(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:zd,t(o,i)&&n.ref===e.ref)return ea(n,e,r)}return e.flags|=1,n=ja(s,i),n.ref=e.ref,n.return=e,e.child=n}function AD(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(zd(s,i)&&n.ref===e.ref)if(or=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(or=!0);else return e.lanes=n.lanes,ea(n,e,r)}return qS(n,e,t,i,r)}function SD(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(ef,Sr),Sr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,rn(ef,Sr),Sr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,rn(ef,Sr),Sr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,rn(ef,Sr),Sr|=i;return Wi(n,e,r,t),e.child}function wD(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function qS(n,e,t,i,r){var s=cr(t)?wc:Fi.current;return s=Rf(e,s),xf(e,r),t=vM(n,e,t,i,s,r),i=xM(),n!==null&&!or?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ea(n,e,r)):(pn&&i&&oM(e),e.flags|=1,Wi(n,e,t,r),e.child)}function ZC(n,e,t,i,r){if(cr(t)){var s=!0;Yy(e)}else s=!1;if(xf(e,r),e.stateNode===null)_y(n,e),qB(e,t,i),KS(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=os(c):(c=cr(t)?wc:Fi.current,c=Rf(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&WC(e,o,i,c),Ra=!1;var p=e.memoizedState;o.state=p,e0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||lr.current||Ra?(typeof u=="function"&&(JS(e,t,u,i),l=e.memoizedState),(a=Ra||VC(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,KB(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:As(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=os(l):(l=cr(t)?wc:Fi.current,l=Rf(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&WC(e,o,i,l),Ra=!1,p=e.memoizedState,o.state=p,e0(e,i,o,r);var y=e.memoizedState;a!==d||p!==y||lr.current||Ra?(typeof m=="function"&&(JS(e,t,m,i),y=e.memoizedState),(c=Ra||VC(e,t,c,i,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return $S(n,e,t,i,s,r)}function $S(n,e,t,i,r,s){wD(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&NC(e,t,!1),ea(n,e,s);i=e.stateNode,IG.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Lf(e,n.child,null,s),e.child=Lf(e,null,a,s)):Wi(n,e,a,s),e.memoizedState=i.state,r&&NC(e,t,!0),e.child}function MD(n){var e=n.stateNode;e.pendingContext?kC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&kC(n,e.context,!1),pM(n,e.containerInfo)}function eR(n,e,t,i,r){return Pf(),lM(r),e.flags|=256,Wi(n,e,t,i),e.child}var QS={dehydrated:null,treeContext:null,retryLane:0};function ZS(n){return{baseLanes:n,cachePool:null,transitions:null}}function ED(n,e,t){var i=e.pendingProps,r=xn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),rn(xn,r&1),n===null)return jS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Y0(o,i,0,null),n=mc(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=ZS(t),e.memoizedState=QS,n):SM(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return BG(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ja(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ja(a,s):(s=mc(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?ZS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=QS,i}return s=n.child,n=s.sibling,i=ja(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function SM(n,e){return e=Y0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function og(n,e,t,i){return i!==null&&lM(i),Lf(e,n.child,null,t),n=SM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function BG(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=B_(Error(Be(422))),og(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Y0({mode:"visible",children:i.children},r,0,null),s=mc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Lf(e,n.child,null,o),e.child.memoizedState=ZS(o),e.memoizedState=QS,s);if(!(e.mode&1))return og(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Be(419)),i=B_(s,i,void 0),og(n,e,o,i)}if(a=(o&n.childLanes)!==0,or||a){if(i=fi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Zo(n,r),Ps(i,n,r,-1))}return CM(),i=B_(Error(Be(421))),og(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=XG.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Er=Ha(r.nextSibling),Rr=e,pn=!0,Es=null,n!==null&&(ns[is++]=Uo,ns[is++]=zo,ns[is++]=Mc,Uo=n.id,zo=n.overflow,Mc=e),e=SM(e,i.children),e.flags|=4096,e)}function tR(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),XS(n.return,e,t)}function D_(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function bD(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Wi(n,e,i.children,t),i=xn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tR(n,t,e);else if(n.tag===19)tR(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(rn(xn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&t0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),D_(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&t0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}D_(e,!0,t,null,s);break;case"together":D_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _y(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ea(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),bc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Be(153));if(e.child!==null){for(n=e.child,t=ja(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ja(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function DG(n,e,t){switch(e.tag){case 3:MD(e),Pf();break;case 5:ZB(e);break;case 1:cr(e.type)&&Yy(e);break;case 4:pM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;rn(Qy,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(rn(xn,xn.current&1),e.flags|=128,null):t&e.child.childLanes?ED(n,e,t):(rn(xn,xn.current&1),n=ea(n,e,t),n!==null?n.sibling:null);rn(xn,xn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return bD(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),rn(xn,xn.current),i)break;return null;case 22:case 23:return e.lanes=0,SD(n,e,t)}return ea(n,e,t)}var TD,ew,CD,RD;TD=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ew=function(){};CD=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,sc(ro.current);var s=null;switch(t){case"input":r=SS(n,r),i=SS(n,i),s=[];break;case"select":r=Mn({},r,{value:void 0}),i=Mn({},i,{value:void 0}),s=[];break;case"textarea":r=ES(n,r),i=ES(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Jy)}TS(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&an("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RD=function(n,e,t,i){t!==i&&(e.flags|=4)};function Lh(n,e){if(!pn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ci(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function FG(n,e,t){var i=e.pendingProps;switch(aM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(e),null;case 1:return cr(e.type)&&Ky(),Ci(e),null;case 3:return i=e.stateNode,If(),fn(lr),fn(Fi),gM(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(rg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Es!==null&&(lw(Es),Es=null))),ew(n,e),Ci(e),null;case 5:mM(e);var r=sc(jd.current);if(t=e.type,n!==null&&e.stateNode!=null)CD(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Be(166));return Ci(e),null}if(n=sc(ro.current),rg(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[eo]=e,i[Vd]=s,n=(e.mode&1)!==0,t){case"dialog":an("cancel",i),an("close",i);break;case"iframe":case"object":case"embed":an("load",i);break;case"video":case"audio":for(r=0;r<id.length;r++)an(id[r],i);break;case"source":an("error",i);break;case"img":case"image":case"link":an("error",i),an("load",i);break;case"details":an("toggle",i);break;case"input":uC(i,s),an("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},an("invalid",i);break;case"textarea":hC(i,s),an("invalid",i)}TS(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ig(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ig(i.textContent,a,n),r=["children",""+a]):Bd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&an("scroll",i)}switch(t){case"input":Ym(i),fC(i,s,!0);break;case"textarea":Ym(i),dC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Jy)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=nB(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[eo]=e,n[Vd]=i,TD(n,e,!1,!1),e.stateNode=n;e:{switch(o=CS(t,i),t){case"dialog":an("cancel",n),an("close",n),r=i;break;case"iframe":case"object":case"embed":an("load",n),r=i;break;case"video":case"audio":for(r=0;r<id.length;r++)an(id[r],n);r=i;break;case"source":an("error",n),r=i;break;case"img":case"image":case"link":an("error",n),an("load",n),r=i;break;case"details":an("toggle",n),r=i;break;case"input":uC(n,i),r=SS(n,i),an("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Mn({},i,{value:void 0}),an("invalid",n);break;case"textarea":hC(n,i),r=ES(n,i),an("invalid",n);break;default:r=i}TS(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sB(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iB(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Dd(n,l):typeof l=="number"&&Dd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&an("scroll",n):l!=null&&X1(n,s,l,o))}switch(t){case"input":Ym(n),fC(n,i,!1);break;case"textarea":Ym(n),dC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+el(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?mf(n,!!i.multiple,s,!1):i.defaultValue!=null&&mf(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Jy)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ci(e),null;case 6:if(n&&e.stateNode!=null)RD(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Be(166));if(t=sc(jd.current),sc(ro.current),rg(e)){if(i=e.stateNode,t=e.memoizedProps,i[eo]=e,(s=i.nodeValue!==t)&&(n=Rr,n!==null))switch(n.tag){case 3:ig(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ig(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[eo]=e,e.stateNode=i}return Ci(e),null;case 13:if(fn(xn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(pn&&Er!==null&&e.mode&1&&!(e.flags&128))XB(),Pf(),e.flags|=98560,s=!1;else if(s=rg(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[eo]=e}else Pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ci(e),s=!1}else Es!==null&&(lw(Es),Es=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||xn.current&1?$n===0&&($n=3):CM())),e.updateQueue!==null&&(e.flags|=4),Ci(e),null);case 4:return If(),ew(n,e),n===null&&Hd(e.stateNode.containerInfo),Ci(e),null;case 10:return fM(e.type._context),Ci(e),null;case 17:return cr(e.type)&&Ky(),Ci(e),null;case 19:if(fn(xn),s=e.memoizedState,s===null)return Ci(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Lh(s,!1);else{if($n!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=t0(n),o!==null){for(e.flags|=128,Lh(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return rn(xn,xn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Nn()>Df&&(e.flags|=128,i=!0,Lh(s,!1),e.lanes=4194304)}else{if(!i)if(n=t0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Lh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pn)return Ci(e),null}else 2*Nn()-s.renderingStartTime>Df&&t!==1073741824&&(e.flags|=128,i=!0,Lh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,t=xn.current,rn(xn,i?t&1|2:t&1),e):(Ci(e),null);case 22:case 23:return TM(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Sr&1073741824&&(Ci(e),e.subtreeFlags&6&&(e.flags|=8192)):Ci(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function OG(n,e){switch(aM(e),e.tag){case 1:return cr(e.type)&&Ky(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return If(),fn(lr),fn(Fi),gM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return mM(e),null;case 13:if(fn(xn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Pf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return fn(xn),null;case 4:return If(),null;case 10:return fM(e.type._context),null;case 22:case 23:return TM(),null;case 24:return null;default:return null}}var ag=!1,Li=!1,kG=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Zu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Rn(n,e,i)}else t.current=null}function tw(n,e,t){try{t()}catch(i){Rn(n,e,i)}}var nR=!1;function NG(n,e){if(NS=Wy,n=BB(),sM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(US={focusedElem:n,selectionRange:t},Wy=!1,Qe=e;Qe!==null;)if(e=Qe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Qe=n;else for(;Qe!==null;){e=Qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:As(e.type,x),_);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(w){Rn(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}return y=nR,nR=!1,y}function dd(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&tw(e,t,s)}r=r.next}while(r!==i)}}function J0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function nw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function PD(n){var e=n.alternate;e!==null&&(n.alternate=null,PD(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[eo],delete e[Vd],delete e[GS],delete e[_G],delete e[AG])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function LD(n){return n.tag===5||n.tag===3||n.tag===4}function iR(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||LD(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function iw(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Jy));else if(i!==4&&(n=n.child,n!==null))for(iw(n,e,t),n=n.sibling;n!==null;)iw(n,e,t),n=n.sibling}function rw(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(rw(n,e,t),n=n.sibling;n!==null;)rw(n,e,t),n=n.sibling}var vi=null,ws=!1;function ya(n,e,t){for(t=t.child;t!==null;)ID(n,e,t),t=t.sibling}function ID(n,e,t){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(U0,t)}catch{}switch(t.tag){case 5:Li||Zu(t,e);case 6:var i=vi,r=ws;vi=null,ya(n,e,t),vi=i,ws=r,vi!==null&&(ws?(n=vi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):vi.removeChild(t.stateNode));break;case 18:vi!==null&&(ws?(n=vi,t=t.stateNode,n.nodeType===8?T_(n.parentNode,t):n.nodeType===1&&T_(n,t),Nd(n)):T_(vi,t.stateNode));break;case 4:i=vi,r=ws,vi=t.stateNode.containerInfo,ws=!0,ya(n,e,t),vi=i,ws=r;break;case 0:case 11:case 14:case 15:if(!Li&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tw(t,e,o),r=r.next}while(r!==i)}ya(n,e,t);break;case 1:if(!Li&&(Zu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Rn(t,e,a)}ya(n,e,t);break;case 21:ya(n,e,t);break;case 22:t.mode&1?(Li=(i=Li)||t.memoizedState!==null,ya(n,e,t),Li=i):ya(n,e,t);break;default:ya(n,e,t)}}function rR(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new kG),e.forEach(function(i){var r=JG.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ps(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vi=a.stateNode,ws=!1;break e;case 3:vi=a.stateNode.containerInfo,ws=!0;break e;case 4:vi=a.stateNode.containerInfo,ws=!0;break e}a=a.return}if(vi===null)throw Error(Be(160));ID(s,o,r),vi=null,ws=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Rn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BD(e,n),e=e.sibling}function BD(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ps(e,n),qs(n),i&4){try{dd(3,n,n.return),J0(3,n)}catch(x){Rn(n,n.return,x)}try{dd(5,n,n.return)}catch(x){Rn(n,n.return,x)}}break;case 1:ps(e,n),qs(n),i&512&&t!==null&&Zu(t,t.return);break;case 5:if(ps(e,n),qs(n),i&512&&t!==null&&Zu(t,t.return),n.flags&32){var r=n.stateNode;try{Dd(r,"")}catch(x){Rn(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eB(r,s),CS(a,o);var c=CS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?sB(r,d):u==="dangerouslySetInnerHTML"?iB(r,d):u==="children"?Dd(r,d):X1(r,u,d,c)}switch(a){case"input":wS(r,s);break;case"textarea":tB(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?mf(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?mf(r,!!s.multiple,s.defaultValue,!0):mf(r,!!s.multiple,s.multiple?[]:"",!1))}r[Vd]=s}catch(x){Rn(n,n.return,x)}}break;case 6:if(ps(e,n),qs(n),i&4){if(n.stateNode===null)throw Error(Be(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){Rn(n,n.return,x)}}break;case 3:if(ps(e,n),qs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Nd(e.containerInfo)}catch(x){Rn(n,n.return,x)}break;case 4:ps(e,n),qs(n);break;case 13:ps(e,n),qs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(EM=Nn())),i&4&&rR(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Li=(c=Li)||u,ps(e,n),Li=c):ps(e,n),qs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Qe=n,u=n.child;u!==null;){for(d=Qe=u;Qe!==null;){switch(p=Qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:dd(4,p,p.return);break;case 1:Zu(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Rn(i,t,x)}}break;case 5:Zu(p,p.return);break;case 22:if(p.memoizedState!==null){oR(d);continue}}m!==null?(m.return=p,Qe=m):oR(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rB("display",o))}catch(x){Rn(n,n.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Rn(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ps(e,n),qs(n),i&4&&rR(n);break;case 21:break;default:ps(e,n),qs(n)}}function qs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(LD(t)){var i=t;break e}t=t.return}throw Error(Be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Dd(r,""),i.flags&=-33);var s=iR(n);rw(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=iR(n);iw(n,a,o);break;default:throw Error(Be(161))}}catch(l){Rn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function UG(n,e,t){Qe=n,DD(n)}function DD(n,e,t){for(var i=(n.mode&1)!==0;Qe!==null;){var r=Qe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ag;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Li;a=ag;var c=Li;if(ag=o,(Li=l)&&!c)for(Qe=r;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?aR(r):l!==null?(l.return=o,Qe=l):aR(r);for(;s!==null;)Qe=s,DD(s),s=s.sibling;Qe=r,ag=a,Li=c}sR(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Qe=s):sR(n)}}function sR(n){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Li||J0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Li)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:As(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&GC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}GC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Nd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Li||e.flags&512&&nw(e)}catch(p){Rn(e,e.return,p)}}if(e===n){Qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function oR(n){for(;Qe!==null;){var e=Qe;if(e===n){Qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function aR(n){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{J0(4,e)}catch(l){Rn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Rn(e,r,l)}}var s=e.return;try{nw(e)}catch(l){Rn(e,s,l)}break;case 5:var o=e.return;try{nw(e)}catch(l){Rn(e,o,l)}}}catch(l){Rn(e,e.return,l)}if(e===n){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var zG=Math.ceil,r0=ra.ReactCurrentDispatcher,wM=ra.ReactCurrentOwner,ss=ra.ReactCurrentBatchConfig,Gt=0,fi=null,jn=null,_i=0,Sr=0,ef=fl(0),$n=0,Yd=null,bc=0,K0=0,MM=0,pd=null,tr=null,EM=0,Df=1/0,Fo=null,s0=!1,sw=null,Va=null,lg=!1,Oa=null,o0=0,md=0,ow=null,Ay=-1,Sy=0;function ji(){return Gt&6?Nn():Ay!==-1?Ay:Ay=Nn()}function Wa(n){return n.mode&1?Gt&2&&_i!==0?_i&-_i:wG.transition!==null?(Sy===0&&(Sy=yB()),Sy):(n=Qt,n!==0||(n=window.event,n=n===void 0?16:MB(n.type)),n):1}function Ps(n,e,t,i){if(50<md)throw md=0,ow=null,Error(Be(185));Mp(n,t,i),(!(Gt&2)||n!==fi)&&(n===fi&&(!(Gt&2)&&(K0|=t),$n===4&&Ba(n,_i)),ur(n,i),t===1&&Gt===0&&!(e.mode&1)&&(Df=Nn()+500,W0&&hl()))}function ur(n,e){var t=n.callbackNode;wH(n,e);var i=Vy(n,n===fi?_i:0);if(i===0)t!==null&&gC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&gC(t),e===1)n.tag===0?SG(lR.bind(null,n)):VB(lR.bind(null,n)),vG(function(){!(Gt&6)&&hl()}),t=null;else{switch(vB(i)){case 1:t=$1;break;case 4:t=mB;break;case 16:t=Gy;break;case 536870912:t=gB;break;default:t=Gy}t=GD(t,FD.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function FD(n,e){if(Ay=-1,Sy=0,Gt&6)throw Error(Be(327));var t=n.callbackNode;if(_f()&&n.callbackNode!==t)return null;var i=Vy(n,n===fi?_i:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=a0(n,i);else{e=i;var r=Gt;Gt|=2;var s=kD();(fi!==n||_i!==e)&&(Fo=null,Df=Nn()+500,pc(n,e));do try{VG();break}catch(a){OD(n,a)}while(1);uM(),r0.current=s,Gt=r,jn!==null?e=0:(fi=null,_i=0,e=$n)}if(e!==0){if(e===2&&(r=BS(n),r!==0&&(i=r,e=aw(n,r))),e===1)throw t=Yd,pc(n,0),Ba(n,i),ur(n,Nn()),t;if(e===6)Ba(n,i);else{if(r=n.current.alternate,!(i&30)&&!HG(r)&&(e=a0(n,i),e===2&&(s=BS(n),s!==0&&(i=s,e=aw(n,s))),e===1))throw t=Yd,pc(n,0),Ba(n,i),ur(n,Nn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Be(345));case 2:jl(n,tr,Fo);break;case 3:if(Ba(n,i),(i&130023424)===i&&(e=EM+500-Nn(),10<e)){if(Vy(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ji(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=HS(jl.bind(null,n,tr,Fo),e);break}jl(n,tr,Fo);break;case 4:if(Ba(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Rs(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Nn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*zG(i/1960))-i,10<i){n.timeoutHandle=HS(jl.bind(null,n,tr,Fo),i);break}jl(n,tr,Fo);break;case 5:jl(n,tr,Fo);break;default:throw Error(Be(329))}}}return ur(n,Nn()),n.callbackNode===t?FD.bind(null,n):null}function aw(n,e){var t=pd;return n.current.memoizedState.isDehydrated&&(pc(n,e).flags|=256),n=a0(n,e),n!==2&&(e=tr,tr=t,e!==null&&lw(e)),n}function lw(n){tr===null?tr=n:tr.push.apply(tr,n)}function HG(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Ds(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(n,e){for(e&=~MM,e&=~K0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Rs(e),i=1<<t;n[t]=-1,e&=~i}}function lR(n){if(Gt&6)throw Error(Be(327));_f();var e=Vy(n,0);if(!(e&1))return ur(n,Nn()),null;var t=a0(n,e);if(n.tag!==0&&t===2){var i=BS(n);i!==0&&(e=i,t=aw(n,i))}if(t===1)throw t=Yd,pc(n,0),Ba(n,e),ur(n,Nn()),t;if(t===6)throw Error(Be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,jl(n,tr,Fo),ur(n,Nn()),null}function bM(n,e){var t=Gt;Gt|=1;try{return n(e)}finally{Gt=t,Gt===0&&(Df=Nn()+500,W0&&hl())}}function Tc(n){Oa!==null&&Oa.tag===0&&!(Gt&6)&&_f();var e=Gt;Gt|=1;var t=ss.transition,i=Qt;try{if(ss.transition=null,Qt=1,n)return n()}finally{Qt=i,ss.transition=t,Gt=e,!(Gt&6)&&hl()}}function TM(){Sr=ef.current,fn(ef)}function pc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,yG(t)),jn!==null)for(t=jn.return;t!==null;){var i=t;switch(aM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ky();break;case 3:If(),fn(lr),fn(Fi),gM();break;case 5:mM(i);break;case 4:If();break;case 13:fn(xn);break;case 19:fn(xn);break;case 10:fM(i.type._context);break;case 22:case 23:TM()}t=t.return}if(fi=n,jn=n=ja(n.current,null),_i=Sr=e,$n=0,Yd=null,MM=K0=bc=0,tr=pd=null,rc!==null){for(e=0;e<rc.length;e++)if(t=rc[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}rc=null}return n}function OD(n,e){do{var t=jn;try{if(uM(),vy.current=i0,n0){for(var i=wn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}n0=!1}if(Ec=0,ci=Yn=wn=null,hd=!1,Xd=0,wM.current=null,t===null||t.return===null){$n=1,Yd=e,jn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=_i,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=YC(o);if(m!==null){m.flags&=-257,qC(m,o,a,s,e),m.mode&1&&KC(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){KC(s,c,e),CM();break e}l=Error(Be(426))}}else if(pn&&a.mode&1){var _=YC(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),qC(_,o,a,s,e),lM(Bf(l,a));break e}}s=l=Bf(l,a),$n!==4&&($n=2),pd===null?pd=[s]:pd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=xD(s,l,e);HC(s,g);break e;case 1:a=l;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Va===null||!Va.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=_D(s,a,e);HC(s,w);break e}}s=s.return}while(s!==null)}UD(t)}catch(b){e=b,jn===t&&t!==null&&(jn=t=t.return);continue}break}while(1)}function kD(){var n=r0.current;return r0.current=i0,n===null?i0:n}function CM(){($n===0||$n===3||$n===2)&&($n=4),fi===null||!(bc&268435455)&&!(K0&268435455)||Ba(fi,_i)}function a0(n,e){var t=Gt;Gt|=2;var i=kD();(fi!==n||_i!==e)&&(Fo=null,pc(n,e));do try{GG();break}catch(r){OD(n,r)}while(1);if(uM(),Gt=t,r0.current=i,jn!==null)throw Error(Be(261));return fi=null,_i=0,$n}function GG(){for(;jn!==null;)ND(jn)}function VG(){for(;jn!==null&&!pH();)ND(jn)}function ND(n){var e=HD(n.alternate,n,Sr);n.memoizedProps=n.pendingProps,e===null?UD(n):jn=e,wM.current=null}function UD(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=OG(t,e),t!==null){t.flags&=32767,jn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{$n=6,jn=null;return}}else if(t=FG(t,e,Sr),t!==null){jn=t;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=n}while(e!==null);$n===0&&($n=5)}function jl(n,e,t){var i=Qt,r=ss.transition;try{ss.transition=null,Qt=1,WG(n,e,t,i)}finally{ss.transition=r,Qt=i}return null}function WG(n,e,t,i){do _f();while(Oa!==null);if(Gt&6)throw Error(Be(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(MH(n,s),n===fi&&(jn=fi=null,_i=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lg||(lg=!0,GD(Gy,function(){return _f(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ss.transition,ss.transition=null;var o=Qt;Qt=1;var a=Gt;Gt|=4,wM.current=null,NG(n,t),BD(t,n),uG(US),Wy=!!NS,US=NS=null,n.current=t,UG(t),mH(),Gt=a,Qt=o,ss.transition=s}else n.current=t;if(lg&&(lg=!1,Oa=n,o0=r),s=n.pendingLanes,s===0&&(Va=null),vH(t.stateNode),ur(n,Nn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(s0)throw s0=!1,n=sw,sw=null,n;return o0&1&&n.tag!==0&&_f(),s=n.pendingLanes,s&1?n===ow?md++:(md=0,ow=n):md=0,hl(),null}function _f(){if(Oa!==null){var n=vB(o0),e=ss.transition,t=Qt;try{if(ss.transition=null,Qt=16>n?16:n,Oa===null)var i=!1;else{if(n=Oa,Oa=null,o0=0,Gt&6)throw Error(Be(331));var r=Gt;for(Gt|=4,Qe=n.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Qe=c;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:dd(8,u,s)}var d=u.child;if(d!==null)d.return=u,Qe=d;else for(;Qe!==null;){u=Qe;var p=u.sibling,m=u.return;if(PD(u),u===c){Qe=null;break}if(p!==null){p.return=m,Qe=p;break}Qe=m}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Qe=g;break e}Qe=s.return}}var A=n.current;for(Qe=A;Qe!==null;){o=Qe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Qe=S;else e:for(o=A;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:J0(9,a)}}catch(b){Rn(a,a.return,b)}if(a===o){Qe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Qe=w;break e}Qe=a.return}}if(Gt=r,hl(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(U0,n)}catch{}i=!0}return i}finally{Qt=t,ss.transition=e}}return!1}function cR(n,e,t){e=Bf(t,e),e=xD(n,e,1),n=Ga(n,e,1),e=ji(),n!==null&&(Mp(n,1,e),ur(n,e))}function Rn(n,e,t){if(n.tag===3)cR(n,n,t);else for(;e!==null;){if(e.tag===3){cR(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Va===null||!Va.has(i))){n=Bf(t,n),n=_D(e,n,1),e=Ga(e,n,1),n=ji(),e!==null&&(Mp(e,1,n),ur(e,n));break}}e=e.return}}function jG(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ji(),n.pingedLanes|=n.suspendedLanes&t,fi===n&&(_i&t)===t&&($n===4||$n===3&&(_i&130023424)===_i&&500>Nn()-EM?pc(n,0):MM|=t),ur(n,e)}function zD(n,e){e===0&&(n.mode&1?(e=Qm,Qm<<=1,!(Qm&130023424)&&(Qm=4194304)):e=1);var t=ji();n=Zo(n,e),n!==null&&(Mp(n,e,t),ur(n,t))}function XG(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),zD(n,t)}function JG(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Be(314))}i!==null&&i.delete(e),zD(n,t)}var HD;HD=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||lr.current)or=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return or=!1,DG(n,e,t);or=!!(n.flags&131072)}else or=!1,pn&&e.flags&1048576&&WB(e,$y,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;_y(n,e),n=e.pendingProps;var r=Rf(e,Fi.current);xf(e,t),r=vM(null,e,i,n,r,t);var s=xM();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(i)?(s=!0,Yy(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,dM(e),r.updater=j0,e.stateNode=r,r._reactInternals=e,KS(e,i,n,t),e=$S(null,e,i,!0,s,t)):(e.tag=0,pn&&s&&oM(e),Wi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(_y(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=YG(i),n=As(i,n),r){case 0:e=qS(null,e,i,n,t);break e;case 1:e=ZC(null,e,i,n,t);break e;case 11:e=$C(null,e,i,n,t);break e;case 14:e=QC(null,e,i,As(i.type,n),t);break e}throw Error(Be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:As(i,r),qS(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:As(i,r),ZC(n,e,i,r,t);case 3:e:{if(MD(e),n===null)throw Error(Be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,KB(n,e),e0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Bf(Error(Be(423)),e),e=eR(n,e,i,t,r);break e}else if(i!==r){r=Bf(Error(Be(424)),e),e=eR(n,e,i,t,r);break e}else for(Er=Ha(e.stateNode.containerInfo.firstChild),Rr=e,pn=!0,Es=null,t=QB(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Pf(),i===r){e=ea(n,e,t);break e}Wi(n,e,i,t)}e=e.child}return e;case 5:return ZB(e),n===null&&jS(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,zS(i,r)?o=null:s!==null&&zS(i,s)&&(e.flags|=32),wD(n,e),Wi(n,e,o,t),e.child;case 6:return n===null&&jS(e),null;case 13:return ED(n,e,t);case 4:return pM(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Lf(e,null,i,t):Wi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:As(i,r),$C(n,e,i,r,t);case 7:return Wi(n,e,e.pendingProps,t),e.child;case 8:return Wi(n,e,e.pendingProps.children,t),e.child;case 12:return Wi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,rn(Qy,i._currentValue),i._currentValue=o,s!==null)if(Ds(s.value,o)){if(s.children===r.children&&!lr.current){e=ea(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Wo(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),XS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),XS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,xf(e,t),r=os(r),i=i(r),e.flags|=1,Wi(n,e,i,t),e.child;case 14:return i=e.type,r=As(i,e.pendingProps),r=As(i.type,r),QC(n,e,i,r,t);case 15:return AD(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:As(i,r),_y(n,e),e.tag=1,cr(i)?(n=!0,Yy(e)):n=!1,xf(e,t),qB(e,i,r),KS(e,i,r,t),$S(null,e,i,!0,n,t);case 19:return bD(n,e,t);case 22:return SD(n,e,t)}throw Error(Be(156,e.tag))};function GD(n,e){return pB(n,e)}function KG(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(n,e,t,i){return new KG(n,e,t,i)}function RM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function YG(n){if(typeof n=="function")return RM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===K1)return 11;if(n===Y1)return 14}return 2}function ja(n,e){var t=n.alternate;return t===null?(t=rs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function wy(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")RM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Wu:return mc(t.children,r,s,e);case J1:o=8,r|=8;break;case vS:return n=rs(12,t,e,r|2),n.elementType=vS,n.lanes=s,n;case xS:return n=rs(13,t,e,r),n.elementType=xS,n.lanes=s,n;case _S:return n=rs(19,t,e,r),n.elementType=_S,n.lanes=s,n;case $I:return Y0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case YI:o=10;break e;case qI:o=9;break e;case K1:o=11;break e;case Y1:o=14;break e;case Ca:o=16,i=null;break e}throw Error(Be(130,n==null?n:typeof n,""))}return e=rs(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function mc(n,e,t,i){return n=rs(7,n,i,e),n.lanes=t,n}function Y0(n,e,t,i){return n=rs(22,n,i,e),n.elementType=$I,n.lanes=t,n.stateNode={isHidden:!1},n}function F_(n,e,t){return n=rs(6,n,null,e),n.lanes=t,n}function O_(n,e,t){return e=rs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function qG(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g_(0),this.expirationTimes=g_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g_(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function PM(n,e,t,i,r,s,o,a,l){return n=new qG(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},dM(s),n}function $G(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function VD(n){if(!n)return tl;n=n._reactInternals;e:{if(zc(n)!==n||n.tag!==1)throw Error(Be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(n.tag===1){var t=n.type;if(cr(t))return GB(n,t,e)}return e}function WD(n,e,t,i,r,s,o,a,l){return n=PM(t,i,!0,n,r,s,o,a,l),n.context=VD(null),t=n.current,i=ji(),r=Wa(t),s=Wo(i,r),s.callback=e??null,Ga(t,s,r),n.current.lanes=r,Mp(n,r,i),ur(n,i),n}function q0(n,e,t,i){var r=e.current,s=ji(),o=Wa(r);return t=VD(t),e.context===null?e.context=t:e.pendingContext=t,e=Wo(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ga(r,e,o),n!==null&&(Ps(n,r,o,s),yy(n,r,o)),o}function l0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function uR(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function LM(n,e){uR(n,e),(n=n.alternate)&&uR(n,e)}function QG(){return null}var jD=typeof reportError=="function"?reportError:function(n){console.error(n)};function IM(n){this._internalRoot=n}$0.prototype.render=IM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Be(409));q0(n,e,null,null)};$0.prototype.unmount=IM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Tc(function(){q0(null,n,null,null)}),e[Qo]=null}};function $0(n){this._internalRoot=n}$0.prototype.unstable_scheduleHydration=function(n){if(n){var e=AB();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ia.length&&e!==0&&e<Ia[t].priority;t++);Ia.splice(t,0,n),t===0&&wB(n)}};function BM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Q0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fR(){}function ZG(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=l0(o);s.call(c)}}var o=WD(e,i,n,0,null,!1,!1,"",fR);return n._reactRootContainer=o,n[Qo]=o.current,Hd(n.nodeType===8?n.parentNode:n),Tc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=l0(l);a.call(c)}}var l=PM(n,0,!1,null,null,!1,!1,"",fR);return n._reactRootContainer=l,n[Qo]=l.current,Hd(n.nodeType===8?n.parentNode:n),Tc(function(){q0(e,l,t,i)}),l}function Z0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=l0(o);a.call(l)}}q0(e,o,n,r)}else o=ZG(t,e,n,r,i);return l0(o)}xB=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=nd(e.pendingLanes);t!==0&&(Q1(e,t|1),ur(e,Nn()),!(Gt&6)&&(Df=Nn()+500,hl()))}break;case 13:Tc(function(){var i=Zo(n,1);if(i!==null){var r=ji();Ps(i,n,1,r)}}),LM(n,1)}};Z1=function(n){if(n.tag===13){var e=Zo(n,134217728);if(e!==null){var t=ji();Ps(e,n,134217728,t)}LM(n,134217728)}};_B=function(n){if(n.tag===13){var e=Wa(n),t=Zo(n,e);if(t!==null){var i=ji();Ps(t,n,e,i)}LM(n,e)}};AB=function(){return Qt};SB=function(n,e){var t=Qt;try{return Qt=n,e()}finally{Qt=t}};PS=function(n,e,t){switch(e){case"input":if(wS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=V0(i);if(!r)throw Error(Be(90));ZI(i),wS(i,r)}}}break;case"textarea":tB(n,t);break;case"select":e=t.value,e!=null&&mf(n,!!t.multiple,e,!1)}};lB=bM;cB=Tc;var e4={usingClientEntryPoint:!1,Events:[bp,Ku,V0,oB,aB,bM]},Ih={findFiberByHostInstance:ic,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},t4={bundleType:Ih.bundleType,version:Ih.version,rendererPackageName:Ih.rendererPackageName,rendererConfig:Ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hB(n),n===null?null:n.stateNode},findFiberByHostInstance:Ih.findFiberByHostInstance||QG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{U0=cg.inject(t4),io=cg}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e4;Or.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BM(e))throw Error(Be(200));return $G(n,e,null,t)};Or.createRoot=function(n,e){if(!BM(n))throw Error(Be(299));var t=!1,i="",r=jD;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=PM(n,1,!1,null,null,t,!1,i,r),n[Qo]=e.current,Hd(n.nodeType===8?n.parentNode:n),new IM(e)};Or.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Be(188)):(n=Object.keys(n).join(","),Error(Be(268,n)));return n=hB(e),n=n===null?null:n.stateNode,n};Or.flushSync=function(n){return Tc(n)};Or.hydrate=function(n,e,t){if(!Q0(e))throw Error(Be(200));return Z0(null,n,e,!0,t)};Or.hydrateRoot=function(n,e,t){if(!BM(n))throw Error(Be(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=jD;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=WD(e,null,n,1,t??null,r,!1,s,o),n[Qo]=e.current,Hd(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new $0(e)};Or.render=function(n,e,t){if(!Q0(e))throw Error(Be(200));return Z0(null,n,e,!1,t)};Or.unmountComponentAtNode=function(n){if(!Q0(n))throw Error(Be(40));return n._reactRootContainer?(Tc(function(){Z0(null,null,n,!1,function(){n._reactRootContainer=null,n[Qo]=null})}),!0):!1};Or.unstable_batchedUpdates=bM;Or.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Q0(t))throw Error(Be(200));if(n==null||n._reactInternals===void 0)throw Error(Be(38));return Z0(n,e,t,!1,i)};Or.version="18.2.0-next-9e3b772b8-20220608";function XD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XD)}catch(n){console.error(n)}}XD(),WI.exports=Or;var DM=WI.exports;const n4=$f(DM),i4=BI({__proto__:null,default:n4},[DM]);var hR=DM;gS.createRoot=hR.createRoot,gS.hydrateRoot=hR.hydrateRoot;/**
 * @remix-run/router v1.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pn(){return Pn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pn.apply(this,arguments)}var On;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(On||(On={}));const dR="popstate";function r4(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return qd("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Rc(r)}return o4(e,t,null,n)}function Ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s4(){return Math.random().toString(36).substr(2,8)}function pR(n,e){return{usr:n.state,key:n.key,idx:e}}function qd(n,e,t,i){return t===void 0&&(t=null),Pn({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?sa(e):e,{state:t,key:e&&e.key||i||s4()})}function Rc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function sa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function o4(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=On.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Pn({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=On.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:x.location,delta:g})}function p(_,g){a=On.Push;let A=qd(x.location,_,g);t&&t(A,_),c=u()+1;let S=pR(A,c),w=x.createHref(A);try{o.pushState(S,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(w)}s&&l&&l({action:a,location:x.location,delta:1})}function m(_,g){a=On.Replace;let A=qd(x.location,_,g);t&&t(A,_),c=u();let S=pR(A,c),w=x.createHref(A);o.replaceState(S,"",w),s&&l&&l({action:a,location:x.location,delta:0})}function y(_){let g=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof _=="string"?_:Rc(_);return Ft(g,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,g)}let x={get action(){return a},get location(){return n(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(dR,d),l=_,()=>{r.removeEventListener(dR,d),l=null}},createHref(_){return e(r,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(_){return o.go(_)}};return x}var kn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kn||(kn={}));const a4=new Set(["lazy","caseSensitive","path","id","index","children"]);function l4(n){return n.index===!0}function cw(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let o=[...t,s],a=typeof r.id=="string"?r.id:o.join("-");if(Ft(r.index!==!0||!r.children,"Cannot specify children on an index route"),Ft(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),l4(r)){let l=Pn({},r,e(r),{id:a});return i[a]=l,l}else{let l=Pn({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=cw(r.children,e,o,i)),l}})}function tf(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?sa(e):e,r=nl(i.pathname||"/",t);if(r==null)return null;let s=JD(n);u4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=x4(s[a],A4(r));return o}function c4(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function JD(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ft(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=jo([i,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JD(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:y4(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of KD(s.path))r(s,o,l)}),e}function KD(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=KD(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function u4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:v4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const f4=/^:\w+$/,h4=3,d4=2,p4=1,m4=10,g4=-2,mR=n=>n==="*";function y4(n,e){let t=n.split("/"),i=t.length;return t.some(mR)&&(i+=g4),e&&(i+=d4),t.filter(r=>!mR(r)).reduce((r,s)=>r+(f4.test(s)?h4:s===""?p4:m4),i)}function v4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function x4(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=uw({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let d=a.route;s.push({params:i,pathname:jo([r,u.pathname]),pathnameBase:E4(jo([r,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(r=jo([r,u.pathnameBase]))}return s}function uw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=_4(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?c[p]=void 0:c[p]=S4(y||"",p),c},{}),pathname:s,pathnameBase:o,pattern:n}}function _4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Cc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function A4(n){try{return decodeURI(n)}catch(e){return Cc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function S4(n,e){try{return decodeURIComponent(n)}catch(t){return Cc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function nl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function w4(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?sa(n):n;return{pathname:t?t.startsWith("/")?t:M4(t,e):e,search:b4(i),hash:T4(r)}}function M4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function k_(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ev(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function FM(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=sa(n):(r=Pn({},n),Ft(!r.pathname||!r.pathname.includes("?"),k_("?","pathname","search",r)),Ft(!r.pathname||!r.pathname.includes("#"),k_("#","pathname","hash",r)),Ft(!r.search||!r.search.includes("#"),k_("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else if(i){let d=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d.pop();r.pathname=p.join("/")}a="/"+d.join("/")}else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=w4(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const jo=n=>n.join("/").replace(/\/\/+/g,"/"),E4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),b4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,T4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class OM{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function YD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const qD=["post","put","patch","delete"],C4=new Set(qD),R4=["get",...qD],P4=new Set(R4),L4=new Set([301,302,303,307,308]),I4=new Set([307,308]),N_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},B4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$D=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D4=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),QD="remix-router-transitions";function F4(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Ft(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let D=n.detectErrorBoundary;r=j=>({hasErrorBoundary:D(j)})}else r=D4;let s={},o=cw(n.routes,r,void 0,s),a,l=n.basename||"/",c=Pn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},n.future),u=null,d=new Set,p=null,m=null,y=null,x=n.hydrationData!=null,_=tf(o,n.history.location,l),g=null;if(_==null){let D=ts(404,{pathname:n.history.location.pathname}),{matches:j,route:ee}=wR(o);_=j,g={[ee.id]:D}}let A=!_.some(D=>D.route.lazy)&&(!_.some(D=>D.route.loader)||n.hydrationData!=null),S,w={historyAction:n.history.action,location:n.history.location,matches:_,initialized:A,navigation:N_,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||g,fetchers:new Map,blockers:new Map},b=On.Pop,T=!1,C,B=!1,P=new Map,L=null,U=!1,te=!1,ne=[],V=[],$=new Map,le=0,ue=-1,G=new Map,Y=new Set,q=new Map,z=new Map,J=new Set,_e=new Map,Me=new Map,Ee=!1;function ke(){if(u=n.history.listen(D=>{let{action:j,location:ee,delta:Z}=D;if(Ee){Ee=!1;return}Cc(Me.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=Le({currentLocation:w.location,nextLocation:ee,historyAction:j});if(ce&&Z!=null){Ee=!0,n.history.go(Z*-1),bt(ce,{state:"blocked",location:ee,proceed(){bt(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),n.history.go(Z)},reset(){let Re=new Map(w.blockers);Re.set(ce,Bh),qe({blockers:Re})}});return}return be(j,ee)}),t){X4(e,P);let D=()=>J4(e,P);e.addEventListener("pagehide",D),L=()=>e.removeEventListener("pagehide",D)}return w.initialized||be(On.Pop,w.location),S}function Ke(){u&&u(),L&&L(),d.clear(),C&&C.abort(),w.fetchers.forEach((D,j)=>Q(j)),w.blockers.forEach((D,j)=>ct(j))}function rt(D){return d.add(D),()=>d.delete(D)}function qe(D,j){j===void 0&&(j={}),w=Pn({},w,D);let ee=[],Z=[];c.v7_fetcherPersist&&w.fetchers.forEach((ce,Re)=>{ce.state==="idle"&&(J.has(Re)?Z.push(Re):ee.push(Re))}),[...d].forEach(ce=>ce(w,{deletedFetchers:Z,unstable_viewTransitionOpts:j.viewTransitionOpts,unstable_flushSync:j.flushSync===!0})),c.v7_fetcherPersist&&(ee.forEach(ce=>w.fetchers.delete(ce)),Z.forEach(ce=>Q(ce)))}function ut(D,j,ee){var Z,ce;let{flushSync:Re}=ee===void 0?{}:ee,Oe=w.actionData!=null&&w.navigation.formMethod!=null&&Ms(w.navigation.formMethod)&&w.navigation.state==="loading"&&((Z=D.state)==null?void 0:Z._isRedirect)!==!0,ze;j.actionData?Object.keys(j.actionData).length>0?ze=j.actionData:ze=null:Oe?ze=w.actionData:ze=null;let Ve=j.loaderData?SR(w.loaderData,j.loaderData,j.matches||[],j.errors):w.loaderData,$e=w.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Vt,Yt)=>$e.set(Yt,Bh)));let Ut=T===!0||w.navigation.formMethod!=null&&Ms(w.navigation.formMethod)&&((ce=D.state)==null?void 0:ce._isRedirect)!==!0;a&&(o=a,a=void 0),U||b===On.Pop||(b===On.Push?n.history.push(D,D.state):b===On.Replace&&n.history.replace(D,D.state));let mt;if(b===On.Pop){let Vt=P.get(w.location.pathname);Vt&&Vt.has(D.pathname)?mt={currentLocation:w.location,nextLocation:D}:P.has(D.pathname)&&(mt={currentLocation:D,nextLocation:w.location})}else if(B){let Vt=P.get(w.location.pathname);Vt?Vt.add(D.pathname):(Vt=new Set([D.pathname]),P.set(w.location.pathname,Vt)),mt={currentLocation:w.location,nextLocation:D}}qe(Pn({},j,{actionData:ze,loaderData:Ve,historyAction:b,location:D,initialized:!0,navigation:N_,revalidation:"idle",restoreScrollPosition:Te(D,j.matches||w.matches),preventScrollReset:Ut,blockers:$e}),{viewTransitionOpts:mt,flushSync:Re===!0}),b=On.Pop,T=!1,B=!1,U=!1,te=!1,ne=[],V=[]}async function Ue(D,j){if(typeof D=="number"){n.history.go(D);return}let ee=fw(w.location,w.matches,l,c.v7_prependBasename,D,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:Z,submission:ce,error:Re}=gR(c.v7_normalizeFormMethod,!1,ee,j),Oe=w.location,ze=qd(w.location,Z,j&&j.state);ze=Pn({},ze,n.history.encodeLocation(ze));let Ve=j&&j.replace!=null?j.replace:void 0,$e=On.Push;Ve===!0?$e=On.Replace:Ve===!1||ce!=null&&Ms(ce.formMethod)&&ce.formAction===w.location.pathname+w.location.search&&($e=On.Replace);let Ut=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,mt=(j&&j.unstable_flushSync)===!0,Vt=Le({currentLocation:Oe,nextLocation:ze,historyAction:$e});if(Vt){bt(Vt,{state:"blocked",location:ze,proceed(){bt(Vt,{state:"proceeding",proceed:void 0,reset:void 0,location:ze}),Ue(D,j)},reset(){let Yt=new Map(w.blockers);Yt.set(Vt,Bh),qe({blockers:Yt})}});return}return await be($e,ze,{submission:ce,pendingError:Re,preventScrollReset:Ut,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition,flushSync:mt})}function W(){if(vt(),qe({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){be(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}be(b||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function be(D,j,ee){C&&C.abort(),C=null,b=D,U=(ee&&ee.startUninterruptedRevalidation)===!0,Ce(w.location,w.matches),T=(ee&&ee.preventScrollReset)===!0,B=(ee&&ee.enableViewTransition)===!0;let Z=a||o,ce=ee&&ee.overrideNavigation,Re=tf(Z,j,l),Oe=(ee&&ee.flushSync)===!0;if(!Re){let Yt=ts(404,{pathname:j.pathname}),{matches:En,route:Jn}=wR(Z);Pt(),ut(j,{matches:En,loaderData:{},errors:{[Jn.id]:Yt}},{flushSync:Oe});return}if(w.initialized&&!te&&z4(w.location,j)&&!(ee&&ee.submission&&Ms(ee.submission.formMethod))){ut(j,{matches:Re},{flushSync:Oe});return}C=new AbortController;let ze=Fh(n.history,j,C.signal,ee&&ee.submission),Ve,$e;if(ee&&ee.pendingError)$e={[gd(Re).route.id]:ee.pendingError};else if(ee&&ee.submission&&Ms(ee.submission.formMethod)){let Yt=await xe(ze,j,ee.submission,Re,{replace:ee.replace,flushSync:Oe});if(Yt.shortCircuited)return;Ve=Yt.pendingActionData,$e=Yt.pendingActionError,ce=U_(j,ee.submission),Oe=!1,ze=new Request(ze.url,{signal:ze.signal})}let{shortCircuited:Ut,loaderData:mt,errors:Vt}=await Pe(ze,j,Re,ce,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,Oe,Ve,$e);Ut||(C=null,ut(j,Pn({matches:Re},Ve?{actionData:Ve}:{},{loaderData:mt,errors:Vt})))}async function xe(D,j,ee,Z,ce){ce===void 0&&(ce={}),vt();let Re=W4(j,ee);qe({navigation:Re},{flushSync:ce.flushSync===!0});let Oe,ze=dw(Z,j);if(!ze.route.action&&!ze.route.lazy)Oe={type:kn.error,error:ts(405,{method:D.method,pathname:j.pathname,routeId:ze.route.id})};else if(Oe=await Dh("action",D,ze,Z,s,r,l),D.signal.aborted)return{shortCircuited:!0};if(Af(Oe)){let Ve;return ce&&ce.replace!=null?Ve=ce.replace:Ve=Oe.location===w.location.pathname+w.location.search,await je(w,Oe,{submission:ee,replace:Ve}),{shortCircuited:!0}}if(yd(Oe)){let Ve=gd(Z,ze.route.id);return(ce&&ce.replace)!==!0&&(b=On.Push),{pendingActionData:{},pendingActionError:{[Ve.route.id]:Oe.error}}}if(oc(Oe))throw ts(400,{type:"defer-action"});return{pendingActionData:{[ze.route.id]:Oe.data}}}async function Pe(D,j,ee,Z,ce,Re,Oe,ze,Ve,$e){let Ut=Z||U_(j,ce),mt=ce||Re||bR(Ut),Vt=a||o,[Yt,En]=yR(n.history,w,ee,mt,j,te,ne,V,q,Y,Vt,l,Ve,$e);if(Pt(ae=>!(ee&&ee.some(de=>de.route.id===ae))||Yt&&Yt.some(de=>de.route.id===ae)),ue=++le,Yt.length===0&&En.length===0){let ae=Xe();return ut(j,Pn({matches:ee,loaderData:{},errors:$e||null},Ve?{actionData:Ve}:{},ae?{fetchers:new Map(w.fetchers)}:{}),{flushSync:ze}),{shortCircuited:!0}}if(!U){En.forEach(de=>{let De=w.fetchers.get(de.key),Ze=Oh(void 0,De?De.data:void 0);w.fetchers.set(de.key,Ze)});let ae=Ve||w.actionData;qe(Pn({navigation:Ut},ae?Object.keys(ae).length===0?{actionData:null}:{actionData:ae}:{},En.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:ze})}En.forEach(ae=>{$.has(ae.key)&&pe(ae.key),ae.controller&&$.set(ae.key,ae.controller)});let Jn=()=>En.forEach(ae=>pe(ae.key));C&&C.signal.addEventListener("abort",Jn);let{results:Ur,loaderResults:aa,fetcherResults:fs}=await lt(w.matches,ee,Yt,En,D);if(D.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Jn),En.forEach(ae=>$.delete(ae.key));let Ni=MR(Ur);if(Ni){if(Ni.idx>=Yt.length){let ae=En[Ni.idx-Yt.length].key;Y.add(ae)}return await je(w,Ni.result,{replace:Oe}),{shortCircuited:!0}}let{loaderData:la,errors:Al}=AR(w,ee,Yt,aa,$e,En,fs,_e);_e.forEach((ae,de)=>{ae.subscribe(De=>{(De||ae.done)&&_e.delete(de)})});let k=Xe(),oe=Ie(ue),he=k||oe||En.length>0;return Pn({loaderData:la,errors:Al},he?{fetchers:new Map(w.fetchers)}:{})}function we(D,j,ee,Z){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(D)&&pe(D);let ce=(Z&&Z.unstable_flushSync)===!0,Re=a||o,Oe=fw(w.location,w.matches,l,c.v7_prependBasename,ee,j,Z==null?void 0:Z.relative),ze=tf(Re,Oe,l);if(!ze){F(D,j,ts(404,{pathname:Oe}),{flushSync:ce});return}let{path:Ve,submission:$e,error:Ut}=gR(c.v7_normalizeFormMethod,!0,Oe,Z);if(Ut){F(D,j,Ut,{flushSync:ce});return}let mt=dw(ze,Ve);if(T=(Z&&Z.preventScrollReset)===!0,$e&&Ms($e.formMethod)){nt(D,j,Ve,mt,ze,ce,$e);return}q.set(D,{routeId:j,path:Ve}),Ge(D,j,Ve,mt,ze,ce,$e)}async function nt(D,j,ee,Z,ce,Re,Oe){if(vt(),q.delete(D),!Z.route.action&&!Z.route.lazy){let De=ts(405,{method:Oe.formMethod,pathname:ee,routeId:j});F(D,j,De,{flushSync:Re});return}let ze=w.fetchers.get(D);se(D,j4(Oe,ze),{flushSync:Re});let Ve=new AbortController,$e=Fh(n.history,ee,Ve.signal,Oe);$.set(D,Ve);let Ut=le,mt=await Dh("action",$e,Z,ce,s,r,l);if($e.signal.aborted){$.get(D)===Ve&&$.delete(D);return}if(J.has(D)){se(D,ba(void 0));return}if(Af(mt))if($.delete(D),ue>Ut){se(D,ba(void 0));return}else return Y.add(D),se(D,Oh(Oe)),je(w,mt,{fetcherSubmission:Oe});if(yd(mt)){F(D,j,mt.error);return}if(oc(mt))throw ts(400,{type:"defer-action"});let Vt=w.navigation.location||w.location,Yt=Fh(n.history,Vt,Ve.signal),En=a||o,Jn=w.navigation.state!=="idle"?tf(En,w.navigation.location,l):w.matches;Ft(Jn,"Didn't find any matches after fetcher action");let Ur=++le;G.set(D,Ur);let aa=Oh(Oe,mt.data);w.fetchers.set(D,aa);let[fs,Ni]=yR(n.history,w,Jn,Oe,Vt,te,ne,V,q,Y,En,l,{[Z.route.id]:mt.data},void 0);Ni.filter(De=>De.key!==D).forEach(De=>{let Ze=De.key,ft=w.fetchers.get(Ze),dt=Oh(void 0,ft?ft.data:void 0);w.fetchers.set(Ze,dt),$.has(Ze)&&pe(Ze),De.controller&&$.set(Ze,De.controller)}),qe({fetchers:new Map(w.fetchers)});let la=()=>Ni.forEach(De=>pe(De.key));Ve.signal.addEventListener("abort",la);let{results:Al,loaderResults:k,fetcherResults:oe}=await lt(w.matches,Jn,fs,Ni,Yt);if(Ve.signal.aborted)return;Ve.signal.removeEventListener("abort",la),G.delete(D),$.delete(D),Ni.forEach(De=>$.delete(De.key));let he=MR(Al);if(he){if(he.idx>=fs.length){let De=Ni[he.idx-fs.length].key;Y.add(De)}return je(w,he.result)}let{loaderData:ae,errors:de}=AR(w,w.matches,fs,k,void 0,Ni,oe,_e);if(w.fetchers.has(D)){let De=ba(mt.data);w.fetchers.set(D,De)}Ie(Ur),w.navigation.state==="loading"&&Ur>ue?(Ft(b,"Expected pending action"),C&&C.abort(),ut(w.navigation.location,{matches:Jn,loaderData:ae,errors:de,fetchers:new Map(w.fetchers)})):(qe({errors:de,loaderData:SR(w.loaderData,ae,Jn,de),fetchers:new Map(w.fetchers)}),te=!1)}async function Ge(D,j,ee,Z,ce,Re,Oe){let ze=w.fetchers.get(D);se(D,Oh(Oe,ze?ze.data:void 0),{flushSync:Re});let Ve=new AbortController,$e=Fh(n.history,ee,Ve.signal);$.set(D,Ve);let Ut=le,mt=await Dh("loader",$e,Z,ce,s,r,l);if(oc(mt)&&(mt=await tF(mt,$e.signal,!0)||mt),$.get(D)===Ve&&$.delete(D),!$e.signal.aborted){if(J.has(D)){se(D,ba(void 0));return}if(Af(mt))if(ue>Ut){se(D,ba(void 0));return}else{Y.add(D),await je(w,mt);return}if(yd(mt)){F(D,j,mt.error);return}Ft(!oc(mt),"Unhandled fetcher deferred data"),se(D,ba(mt.data))}}async function je(D,j,ee){let{submission:Z,fetcherSubmission:ce,replace:Re}=ee===void 0?{}:ee;j.revalidate&&(te=!0);let Oe=qd(D.location,j.location,{_isRedirect:!0});if(Ft(Oe,"Expected a location on the redirect navigation"),t){let Vt=!1;if(j.reloadDocument)Vt=!0;else if($D.test(j.location)){const Yt=n.history.createURL(j.location);Vt=Yt.origin!==e.location.origin||nl(Yt.pathname,l)==null}if(Vt){Re?e.location.replace(j.location):e.location.assign(j.location);return}}C=null;let ze=Re===!0?On.Replace:On.Push,{formMethod:Ve,formAction:$e,formEncType:Ut}=D.navigation;!Z&&!ce&&Ve&&$e&&Ut&&(Z=bR(D.navigation));let mt=Z||ce;if(I4.has(j.status)&&mt&&Ms(mt.formMethod))await be(ze,Oe,{submission:Pn({},mt,{formAction:j.location}),preventScrollReset:T});else{let Vt=U_(Oe,Z);await be(ze,Oe,{overrideNavigation:Vt,fetcherSubmission:ce,preventScrollReset:T})}}async function lt(D,j,ee,Z,ce){let Re=await Promise.all([...ee.map(Ve=>Dh("loader",ce,Ve,j,s,r,l)),...Z.map(Ve=>Ve.matches&&Ve.match&&Ve.controller?Dh("loader",Fh(n.history,Ve.path,Ve.controller.signal),Ve.match,Ve.matches,s,r,l):{type:kn.error,error:ts(404,{pathname:Ve.path})})]),Oe=Re.slice(0,ee.length),ze=Re.slice(ee.length);return await Promise.all([ER(D,ee,Oe,Oe.map(()=>ce.signal),!1,w.loaderData),ER(D,Z.map(Ve=>Ve.match),ze,Z.map(Ve=>Ve.controller?Ve.controller.signal:null),!0)]),{results:Re,loaderResults:Oe,fetcherResults:ze}}function vt(){te=!0,ne.push(...Pt()),q.forEach((D,j)=>{$.has(j)&&(V.push(j),pe(j))})}function se(D,j,ee){ee===void 0&&(ee={}),w.fetchers.set(D,j),qe({fetchers:new Map(w.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function F(D,j,ee,Z){Z===void 0&&(Z={});let ce=gd(w.matches,j);Q(D),qe({errors:{[ce.route.id]:ee},fetchers:new Map(w.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function I(D){return c.v7_fetcherPersist&&(z.set(D,(z.get(D)||0)+1),J.has(D)&&J.delete(D)),w.fetchers.get(D)||B4}function Q(D){let j=w.fetchers.get(D);$.has(D)&&!(j&&j.state==="loading"&&G.has(D))&&pe(D),q.delete(D),G.delete(D),Y.delete(D),J.delete(D),w.fetchers.delete(D)}function ge(D){if(c.v7_fetcherPersist){let j=(z.get(D)||0)-1;j<=0?(z.delete(D),J.add(D)):z.set(D,j)}else Q(D);qe({fetchers:new Map(w.fetchers)})}function pe(D){let j=$.get(D);Ft(j,"Expected fetch controller: "+D),j.abort(),$.delete(D)}function Se(D){for(let j of D){let ee=I(j),Z=ba(ee.data);w.fetchers.set(j,Z)}}function Xe(){let D=[],j=!1;for(let ee of Y){let Z=w.fetchers.get(ee);Ft(Z,"Expected fetcher: "+ee),Z.state==="loading"&&(Y.delete(ee),D.push(ee),j=!0)}return Se(D),j}function Ie(D){let j=[];for(let[ee,Z]of G)if(Z<D){let ce=w.fetchers.get(ee);Ft(ce,"Expected fetcher: "+ee),ce.state==="loading"&&(pe(ee),G.delete(ee),j.push(ee))}return Se(j),j.length>0}function Ne(D,j){let ee=w.blockers.get(D)||Bh;return Me.get(D)!==j&&Me.set(D,j),ee}function ct(D){w.blockers.delete(D),Me.delete(D)}function bt(D,j){let ee=w.blockers.get(D)||Bh;Ft(ee.state==="unblocked"&&j.state==="blocked"||ee.state==="blocked"&&j.state==="blocked"||ee.state==="blocked"&&j.state==="proceeding"||ee.state==="blocked"&&j.state==="unblocked"||ee.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+j.state);let Z=new Map(w.blockers);Z.set(D,j),qe({blockers:Z})}function Le(D){let{currentLocation:j,nextLocation:ee,historyAction:Z}=D;if(Me.size===0)return;Me.size>1&&Cc(!1,"A router only supports one blocker at a time");let ce=Array.from(Me.entries()),[Re,Oe]=ce[ce.length-1],ze=w.blockers.get(Re);if(!(ze&&ze.state==="proceeding")&&Oe({currentLocation:j,nextLocation:ee,historyAction:Z}))return Re}function Pt(D){let j=[];return _e.forEach((ee,Z)=>{(!D||D(Z))&&(ee.cancel(),j.push(Z),_e.delete(Z))}),j}function K(D,j,ee){if(p=D,y=j,m=ee||null,!x&&w.navigation===N_){x=!0;let Z=Te(w.location,w.matches);Z!=null&&qe({restoreScrollPosition:Z})}return()=>{p=null,y=null,m=null}}function ye(D,j){return m&&m(D,j.map(Z=>c4(Z,w.loaderData)))||D.key}function Ce(D,j){if(p&&y){let ee=ye(D,j);p[ee]=y()}}function Te(D,j){if(p){let ee=ye(D,j),Z=p[ee];if(typeof Z=="number")return Z}return null}function ot(D){s={},a=cw(D,r,void 0,s)}return S={get basename(){return l},get state(){return w},get routes(){return o},get window(){return e},initialize:ke,subscribe:rt,enableScrollRestoration:K,navigate:Ue,fetch:we,revalidate:W,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:I,deleteFetcher:ge,dispose:Ke,getBlocker:Ne,deleteBlocker:ct,_internalFetchControllers:$,_internalActiveDeferreds:_e,_internalSetRoutes:ot},S}function O4(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function fw(n,e,t,i,r,s,o){let a,l;if(s){a=[];for(let u of e)if(a.push(u),u.route.id===s){l=u;break}}else a=e,l=e[e.length-1];let c=FM(r||".",ev(a).map(u=>u.pathnameBase),nl(n.pathname,t)||n.pathname,o==="path");return r==null&&(c.search=n.search,c.hash=n.hash),(r==null||r===""||r===".")&&l&&l.route.index&&!kM(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(c.pathname=c.pathname==="/"?t:jo([t,c.pathname])),Rc(c)}function gR(n,e,t,i){if(!i||!O4(i))return{path:t};if(i.formMethod&&!V4(i.formMethod))return{path:t,error:ts(405,{method:i.formMethod})};let r=()=>({path:t,error:ts(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=eF(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ms(o))return r();let p=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((m,y)=>{let[x,_]=y;return""+m+x+"="+_+`
`},""):String(i.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:p}}}else if(i.formEncType==="application/json"){if(!Ms(o))return r();try{let p=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Ft(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=hw(i.formData),c=i.formData;else if(i.body instanceof FormData)l=hw(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=_R(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=_R(l)}catch{return r()}let u={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ms(u.formMethod))return{path:t,submission:u};let d=sa(t);return e&&d.search&&kM(d.search)&&l.append("index",""),d.search="?"+l,{path:Rc(d),submission:u}}function k4(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function yR(n,e,t,i,r,s,o,a,l,c,u,d,p,m){let y=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,x=n.createURL(e.location),_=n.createURL(r),g=m?Object.keys(m)[0]:void 0,S=k4(t,g).filter((b,T)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(N4(e.loaderData,e.matches[T],b)||o.some(P=>P===b.route.id))return!0;let C=e.matches[T],B=b;return vR(b,Pn({currentUrl:x,currentParams:C.params,nextUrl:_,nextParams:B.params},i,{actionResult:y,defaultShouldRevalidate:s||x.pathname+x.search===_.pathname+_.search||x.search!==_.search||ZD(C,B)}))}),w=[];return l.forEach((b,T)=>{if(!t.some(U=>U.route.id===b.routeId))return;let C=tf(u,b.path,d);if(!C){w.push({key:T,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let B=e.fetchers.get(T),P=dw(C,b.path),L=!1;c.has(T)?L=!1:a.includes(T)?L=!0:B&&B.state!=="idle"&&B.data===void 0?L=s:L=vR(P,Pn({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:t[t.length-1].params},i,{actionResult:y,defaultShouldRevalidate:s})),L&&w.push({key:T,routeId:b.routeId,path:b.path,matches:C,match:P,controller:new AbortController})}),[S,w]}function N4(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function ZD(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function vR(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function xR(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];Ft(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Cc(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!a4.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,Pn({},e(r),{lazy:void 0}))}async function Dh(n,e,t,i,r,s,o,a){a===void 0&&(a={});let l,c,u,d=y=>{let x,_=new Promise((g,A)=>x=A);return u=()=>x(),e.signal.addEventListener("abort",u),Promise.race([y({request:e,params:t.params,context:a.requestContext}),_])};try{let y=t.route[n];if(t.route.lazy)if(y){let x,_=await Promise.all([d(y).catch(g=>{x=g}),xR(t.route,s,r)]);if(x)throw x;c=_[0]}else if(await xR(t.route,s,r),y=t.route[n],y)c=await d(y);else if(n==="action"){let x=new URL(e.url),_=x.pathname+x.search;throw ts(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:kn.data,data:void 0};else if(y)c=await d(y);else{let x=new URL(e.url),_=x.pathname+x.search;throw ts(404,{pathname:_})}Ft(c!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(y){l=kn.error,c=y}finally{u&&e.signal.removeEventListener("abort",u)}if(G4(c)){let y=c.status;if(L4.has(y)){let g=c.headers.get("Location");if(Ft(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!$D.test(g))g=fw(new URL(e.url),i.slice(0,i.indexOf(t)+1),o,!0,g);else if(!a.isStaticRequest){let A=new URL(e.url),S=g.startsWith("//")?new URL(A.protocol+g):new URL(g),w=nl(S.pathname,o)!=null;S.origin===A.origin&&w&&(g=S.pathname+S.search+S.hash)}if(a.isStaticRequest)throw c.headers.set("Location",g),c;return{type:kn.redirect,status:y,location:g,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===kn.error?kn.error:kn.data,response:c};let x,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?x=await c.json():x=await c.text(),l===kn.error?{type:l,error:new OM(y,c.statusText,x),headers:c.headers}:{type:kn.data,data:x,statusCode:c.status,headers:c.headers}}if(l===kn.error)return{type:l,error:c};if(H4(c)){var p,m;return{type:kn.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((m=c.init)==null?void 0:m.headers)&&new Headers(c.init.headers)}}return{type:kn.data,data:c}}function Fh(n,e,t,i){let r=n.createURL(eF(e)).toString(),s={signal:t};if(i&&Ms(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=hw(i.formData):s.body=i.formData}return new Request(r,s)}function hw(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function _R(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function U4(n,e,t,i,r){let s={},o=null,a,l=!1,c={};return t.forEach((u,d)=>{let p=e[d].route.id;if(Ft(!Af(u),"Cannot handle redirect results in processLoaderData"),yd(u)){let m=gd(n,p),y=u.error;i&&(y=Object.values(i)[0],i=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=y),s[p]=void 0,l||(l=!0,a=YD(u.error)?u.error.status:500),u.headers&&(c[p]=u.headers)}else oc(u)?(r.set(p,u.deferredData),s[p]=u.deferredData.data):s[p]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[p]=u.headers)}),i&&(o=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function AR(n,e,t,i,r,s,o,a){let{loaderData:l,errors:c}=U4(e,t,i,r,a);for(let u=0;u<s.length;u++){let{key:d,match:p,controller:m}=s[u];Ft(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let y=o[u];if(!(m&&m.signal.aborted))if(yd(y)){let x=gd(n.matches,p==null?void 0:p.route.id);c&&c[x.route.id]||(c=Pn({},c,{[x.route.id]:y.error})),n.fetchers.delete(d)}else if(Af(y))Ft(!1,"Unhandled fetcher revalidation redirect");else if(oc(y))Ft(!1,"Unhandled fetcher deferred data");else{let x=ba(y.data);n.fetchers.set(d,x)}}return{loaderData:l,errors:c}}function SR(n,e,t,i){let r=Pn({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):n[o]!==void 0&&s.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function gd(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function wR(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ts(n,e){let{pathname:t,routeId:i,method:r,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",r&&t&&i?a="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):n===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",r&&t&&i?a="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new OM(n||500,o,new Error(a),!0)}function MR(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Af(t))return{result:t,idx:e}}}function eF(n){let e=typeof n=="string"?sa(n):n;return Rc(Pn({},e,{hash:""}))}function z4(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function oc(n){return n.type===kn.deferred}function yd(n){return n.type===kn.error}function Af(n){return(n&&n.type)===kn.redirect}function H4(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function G4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function V4(n){return P4.has(n.toLowerCase())}function Ms(n){return C4.has(n.toLowerCase())}async function ER(n,e,t,i,r,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let c=n.find(d=>d.route.id===l.route.id),u=c!=null&&!ZD(c,l)&&(s&&s[l.route.id])!==void 0;if(oc(a)&&(r||u)){let d=i[o];Ft(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await tF(a,d,r).then(p=>{p&&(t[o]=p||t[o])})}}}async function tF(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:kn.data,data:n.deferredData.unwrappedData}}catch(r){return{type:kn.error,error:r}}return{type:kn.data,data:n.deferredData.data}}}function kM(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function dw(n,e){let t=typeof e=="string"?sa(e).search:e.search;if(n[n.length-1].route.index&&kM(t||""))return n[n.length-1];let i=ev(n);return i[i.length-1]}function bR(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function U_(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function W4(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Oh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function j4(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ba(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function X4(n,e){try{let t=n.sessionStorage.getItem(QD);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function J4(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(QD,JSON.stringify(t))}catch(i){Cc(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c0(){return c0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},c0.apply(this,arguments)}const Cp=O.createContext(null),NM=O.createContext(null),Hc=O.createContext(null),tv=O.createContext(null),dl=O.createContext({outlet:null,matches:[],isDataRoute:!1}),nF=O.createContext(null);function K4(n,e){let{relative:t}=e===void 0?{}:e;Rp()||Ft(!1);let{basename:i,navigator:r}=O.useContext(Hc),{hash:s,pathname:o,search:a}=nv(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:jo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Rp(){return O.useContext(tv)!=null}function Pp(){return Rp()||Ft(!1),O.useContext(tv).location}function iF(n){O.useContext(Hc).static||O.useLayoutEffect(n)}function Y4(){let{isDataRoute:n}=O.useContext(dl);return n?cV():q4()}function q4(){Rp()||Ft(!1);let n=O.useContext(Cp),{basename:e,navigator:t}=O.useContext(Hc),{matches:i}=O.useContext(dl),{pathname:r}=Pp(),s=JSON.stringify(ev(i).map(l=>l.pathnameBase)),o=O.useRef(!1);return iF(()=>{o.current=!0}),O.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let u=FM(l,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:jo([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,s,r,n])}const $4=O.createContext(null);function Q4(n){let e=O.useContext(dl).outlet;return e&&O.createElement($4.Provider,{value:n},e)}function nv(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=O.useContext(dl),{pathname:r}=Pp(),s=JSON.stringify(ev(i).map((o,a)=>a===i.length-1?o.pathname:o.pathnameBase));return O.useMemo(()=>FM(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function Z4(n,e,t){Rp()||Ft(!1);let{navigator:i}=O.useContext(Hc),{matches:r}=O.useContext(dl),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Pp(),c;if(e){var u;let x=typeof e=="string"?sa(e):e;a==="/"||(u=x.pathname)!=null&&u.startsWith(a)||Ft(!1),c=x}else c=l;let d=c.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=tf(n,{pathname:p}),y=rV(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:jo([a,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:jo([a,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),r,t);return e&&y?O.createElement(tv.Provider,{value:{location:c0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:On.Pop}},y):y}function eV(){let n=lV(),e=YD(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:r},t):null,s)}const tV=O.createElement(eV,null);class nV extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?O.createElement(dl.Provider,{value:this.props.routeContext},O.createElement(nF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iV(n){let{routeContext:e,match:t,children:i}=n,r=O.useContext(Cp);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(dl.Provider,{value:e},i)}function rV(n,e,t){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ft(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;t&&(d=l.route.errorElement||tV);let p=e.concat(s.slice(0,c+1)),m=()=>{let y;return u?y=d:l.route.Component?y=O.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,O.createElement(iV,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:t!=null},children:y})};return t&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?O.createElement(nV,{location:t.location,revalidation:t.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var rF=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(rF||{}),u0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(u0||{});function sV(n){let e=O.useContext(Cp);return e||Ft(!1),e}function oV(n){let e=O.useContext(NM);return e||Ft(!1),e}function aV(n){let e=O.useContext(dl);return e||Ft(!1),e}function sF(n){let e=aV(),t=e.matches[e.matches.length-1];return t.route.id||Ft(!1),t.route.id}function lV(){var n;let e=O.useContext(nF),t=oV(u0.UseRouteError),i=sF(u0.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function cV(){let{router:n}=sV(rF.UseNavigateStable),e=sF(u0.UseNavigateStable),t=O.useRef(!1);return iF(()=>{t.current=!0}),O.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,c0({fromRouteId:e},s)))},[n,e])}function uV(n){return Q4(n.context)}function fV(n){let{basename:e="/",children:t=null,location:i,navigationType:r=On.Pop,navigator:s,static:o=!1}=n;Rp()&&Ft(!1);let a=e.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=sa(i));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:m="default"}=i,y=O.useMemo(()=>{let x=nl(c,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:p,key:m},navigationType:r}},[a,c,u,d,p,m,r]);return y==null?null:O.createElement(Hc.Provider,{value:l},O.createElement(tv.Provider,{children:t,value:y}))}new Promise(()=>{});function hV(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:O.createElement(n.Component),Component:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ff.apply(this,arguments)}function oF(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function dV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pV(n,e){return n.button===0&&(!e||e==="_self")&&!dV(n)}const mV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gV=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function yV(n,e){return F4({basename:e==null?void 0:e.basename,future:Ff({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:r4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||vV(),routes:n,mapRouteProperties:hV,window:e==null?void 0:e.window}).initialize()}function vV(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Ff({},e,{errors:xV(e.errors)})),e}function xV(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new OM(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const aF=O.createContext({isTransitioning:!1}),_V=O.createContext(new Map),AV="startTransition",TR=Xz[AV],SV="flushSync",CR=i4[SV];function wV(n){TR?TR(n):n()}function kh(n){CR?CR(n):n()}class MV{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function EV(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=O.useState(t.state),[o,a]=O.useState(),[l,c]=O.useState({isTransitioning:!1}),[u,d]=O.useState(),[p,m]=O.useState(),[y,x]=O.useState(),_=O.useRef(new Map),{v7_startTransition:g}=i||{},A=O.useCallback(C=>{g?wV(C):C()},[g]),S=O.useCallback((C,B)=>{let{deletedFetchers:P,unstable_flushSync:L,unstable_viewTransitionOpts:U}=B;P.forEach(ne=>_.current.delete(ne)),C.fetchers.forEach((ne,V)=>{ne.data!==void 0&&_.current.set(V,ne.data)});let te=t.window==null||typeof t.window.document.startViewTransition!="function";if(!U||te){L?kh(()=>s(C)):A(()=>s(C));return}if(L){kh(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let ne=t.window.document.startViewTransition(()=>{kh(()=>s(C))});ne.finished.finally(()=>{kh(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),kh(()=>m(ne));return}p?(u&&u.resolve(),p.skipTransition(),x({state:C,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(a(C),c({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,p,u,_,A]);O.useLayoutEffect(()=>t.subscribe(S),[t,S]),O.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new MV)},[l]),O.useEffect(()=>{if(u&&o&&t.window){let C=o,B=u.promise,P=t.window.document.startViewTransition(async()=>{A(()=>s(C)),await B});P.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(P)}},[A,o,u,t.window]),O.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,p,r.location,o]),O.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),x(void 0))},[l.isTransitioning,y]);let w=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,B,P)=>t.navigate(C,{state:B,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(C,B,P)=>t.navigate(C,{replace:!0,state:B,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[t]),b=t.basename||"/",T=O.useMemo(()=>({router:t,navigator:w,static:!1,basename:b}),[t,w,b]);return O.createElement(O.Fragment,null,O.createElement(Cp.Provider,{value:T},O.createElement(NM.Provider,{value:r},O.createElement(_V.Provider,{value:_.current},O.createElement(aF.Provider,{value:l},O.createElement(fV,{basename:b,location:r.location,navigationType:r.historyAction,navigator:w},r.initialized?O.createElement(bV,{routes:t.routes,state:r}):e))))),null)}function bV(n){let{routes:e,state:t}=n;return Z4(e,void 0,t)}const TV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lp=O.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=oF(e,mV),{basename:m}=O.useContext(Hc),y,x=!1;if(typeof c=="string"&&CV.test(c)&&(y=c,TV))try{let S=new URL(window.location.href),w=c.startsWith("//")?new URL(S.protocol+c):new URL(c),b=nl(w.pathname,m);w.origin===S.origin&&b!=null?c=b+w.search+w.hash:x=!0}catch{}let _=K4(c,{relative:r}),g=PV(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:d});function A(S){i&&i(S),S.defaultPrevented||g(S)}return O.createElement("a",Ff({},p,{href:y||_,onClick:x||s?i:A,ref:t,target:l}))}),lF=O.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=oF(e,gV),p=nv(l,{relative:d.relative}),m=Pp(),y=O.useContext(NM),{navigator:x}=O.useContext(Hc),_=y!=null&&LV(p)&&c===!0,g=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,A=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(A=A.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase());const w=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let b=A===g||!o&&A.startsWith(g)&&A.charAt(w)==="/",T=S!=null&&(S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/"),C={isActive:b,isPending:T,isTransitioning:_},B=b?i:void 0,P;typeof s=="function"?P=s(C):P=[s,b?"active":null,T?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(C):a;return O.createElement(Lp,Ff({},d,{"aria-current":B,className:P,ref:t,style:L,to:l,unstable_viewTransition:c}),typeof u=="function"?u(C):u)});var pw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(pw||(pw={}));var RR;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(RR||(RR={}));function RV(n){let e=O.useContext(Cp);return e||Ft(!1),e}function PV(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Y4(),c=Pp(),u=nv(n,{relative:o});return O.useCallback(d=>{if(pV(d,t)){d.preventDefault();let p=i!==void 0?i:Rc(c)===Rc(u);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,i,r,t,n,s,o,a])}function LV(n,e){e===void 0&&(e={});let t=O.useContext(aF);t==null&&Ft(!1);let{basename:i}=RV(pw.useViewTransitionState),r=nv(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=nl(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=nl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return uw(r.pathname,o)!=null||uw(r.pathname,s)!=null}function IV(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var UM=!1;if(typeof window<"u"){var PR={get passive(){UM=!0}};window.addEventListener("testPassive",null,PR),window.removeEventListener("testPassive",null,PR)}var f0=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),gc=[],h0=!1,cF=-1,vd=void 0,tc=void 0,xd=void 0,uF=function(e){return gc.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},d0=function(e){var t=e||window.event;return uF(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},BV=function(e){if(xd===void 0){var t=!!e&&e.reserveScrollBarGap===!0,i=window.innerWidth-document.documentElement.clientWidth;if(t&&i>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);xd=document.body.style.paddingRight,document.body.style.paddingRight=r+i+"px"}}vd===void 0&&(vd=document.body.style.overflow,document.body.style.overflow="hidden")},DV=function(){xd!==void 0&&(document.body.style.paddingRight=xd,xd=void 0),vd!==void 0&&(document.body.style.overflow=vd,vd=void 0)},FV=function(){return window.requestAnimationFrame(function(){if(tc===void 0){tc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,i=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-i,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&t>=r&&(document.body.style.top=-(t+s))})},300)}})},OV=function(){if(tc!==void 0){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=tc.position,document.body.style.top=tc.top,document.body.style.left=tc.left,window.scrollTo(t,e),tc=void 0}},kV=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},NV=function(e,t){var i=e.targetTouches[0].clientY-cF;return uF(e.target)?!1:t&&t.scrollTop===0&&i>0||kV(t)&&i<0?d0(e):(e.stopPropagation(),!0)},UV=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!gc.some(function(r){return r.targetElement===e})){var i={targetElement:e,options:t||{}};gc=[].concat(IV(gc),[i]),f0?FV():BV(t),f0&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(cF=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&NV(r,e)},h0||(document.addEventListener("touchmove",d0,UM?{passive:!1}:void 0),h0=!0))}},zV=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}gc=gc.filter(function(t){return t.targetElement!==e}),f0&&(e.ontouchstart=null,e.ontouchmove=null,h0&&gc.length===0&&(document.removeEventListener("touchmove",d0,UM?{passive:!1}:void 0),h0=!1)),f0?OV():DV()};const fF=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),iv=O.createContext({}),rv=O.createContext(null),sv=typeof document<"u",zM=sv?O.useLayoutEffect:O.useEffect,hF=O.createContext({strict:!1});function HV(n,e,t,i){const{visualElement:r}=O.useContext(iv),s=O.useContext(hF),o=O.useContext(rv),a=O.useContext(fF).reducedMotion,l=O.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;O.useInsertionEffect(()=>{c&&c.update(t,o)});const u=O.useRef(!!window.HandoffAppearAnimations);return zM(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),O.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function nf(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function GV(n,e,t){return O.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):nf(t)&&(t.current=i))},[e])}function $d(n){return typeof n=="string"||Array.isArray(n)}function ov(n){return typeof n=="object"&&typeof n.start=="function"}const HM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GM=["initial",...HM];function av(n){return ov(n.animate)||GM.some(e=>$d(n[e]))}function dF(n){return!!(av(n)||n.variants)}function VV(n,e){if(av(n)){const{initial:t,animate:i}=n;return{initial:t===!1||$d(t)?t:void 0,animate:$d(i)?i:void 0}}return n.inherit!==!1?e:{}}function WV(n){const{initial:e,animate:t}=VV(n,O.useContext(iv));return O.useMemo(()=>({initial:e,animate:t}),[LR(e),LR(t)])}function LR(n){return Array.isArray(n)?n.join(" "):n}const IR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qd={};for(const n in IR)Qd[n]={isEnabled:e=>IR[n].some(t=>!!e[t])};function jV(n){for(const e in n)Qd[e]={...Qd[e],...n[e]}}const VM=O.createContext({}),pF=O.createContext({}),XV=Symbol.for("motionComponentSymbol");function JV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&jV(n);function s(a,l){let c;const u={...O.useContext(fF),...a,layoutId:KV(a)},{isStatic:d}=u,p=WV(a),m=i(a,d);if(!d&&sv){p.visualElement=HV(r,m,u,e);const y=O.useContext(pF),x=O.useContext(hF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,x,n,y))}return O.createElement(iv.Provider,{value:p},c&&p.visualElement?O.createElement(c,{visualElement:p.visualElement,...u}):null,t(r,a,GV(m,p.visualElement,l),m,d,p.visualElement))}const o=O.forwardRef(s);return o[XV]=r,o}function KV({layoutId:n}){const e=O.useContext(VM).id;return e&&n!==void 0?e+"-"+n:n}function YV(n){function e(i,r={}){return JV(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const qV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WM(n){return typeof n!="string"||n.includes("-")?!1:!!(qV.indexOf(n)>-1||/[A-Z]/.test(n))}const p0={};function $V(n){Object.assign(p0,n)}const Ip=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gc=new Set(Ip);function mF(n,{layout:e,layoutId:t}){return Gc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!p0[n]||n==="opacity")}const fr=n=>!!(n&&n.getVelocity),QV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZV=Ip.length;function e5(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<ZV;o++){const a=Ip[o];if(n[a]!==void 0){const l=QV[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const gF=n=>e=>typeof e=="string"&&e.startsWith(n),yF=gF("--"),mw=gF("var(--"),t5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,n5=(n,e)=>e&&typeof n=="number"?e.transform(n):n,il=(n,e,t)=>Math.min(Math.max(t,n),e),Vc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},_d={...Vc,transform:n=>il(0,1,n)},ug={...Vc,default:1},Ad=n=>Math.round(n*1e5)/1e5,lv=/(-)?([\d]*\.?[\d])+/g,vF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,i5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bp(n){return typeof n=="string"}const Dp=n=>({test:e=>Bp(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ta=Dp("deg"),so=Dp("%"),gt=Dp("px"),r5=Dp("vh"),s5=Dp("vw"),BR={...so,parse:n=>so.parse(n)/100,transform:n=>so.transform(n*100)},DR={...Vc,transform:Math.round},xF={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,radius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,size:gt,top:gt,right:gt,bottom:gt,left:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,rotate:Ta,rotateX:Ta,rotateY:Ta,rotateZ:Ta,scale:ug,scaleX:ug,scaleY:ug,scaleZ:ug,skew:Ta,skewX:Ta,skewY:Ta,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:_d,originX:BR,originY:BR,originZ:gt,zIndex:DR,fillOpacity:_d,strokeOpacity:_d,numOctaves:DR};function jM(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if(yF(d)){s[d]=p;continue}const m=xF[d],y=n5(p,m);if(Gc.has(d)){if(l=!0,o[d]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):r[d]=y}if(e.transform||(l||i?r.transform=e5(n.transform,t,u,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const XM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _F(n,e,t){for(const i in e)!fr(e[i])&&!mF(i,t)&&(n[i]=e[i])}function o5({transformTemplate:n},e,t){return O.useMemo(()=>{const i=XM();return jM(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function a5(n,e,t){const i=n.style||{},r={};return _F(r,i,n),Object.assign(r,o5(n,e,t)),n.transformValues?n.transformValues(r):r}function l5(n,e,t){const i={},r=a5(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const c5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function m0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||c5.has(n)}let AF=n=>!m0(n);function u5(n){n&&(AF=e=>e.startsWith("on")?!m0(e):n(e))}try{u5(require("@emotion/is-prop-valid").default)}catch{}function f5(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(AF(r)||t===!0&&m0(r)||!e&&!m0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function FR(n,e,t){return typeof n=="string"?n:gt.transform(e+t*n)}function h5(n,e,t){const i=FR(e,n.x,n.width),r=FR(t,n.y,n.height);return`${i} ${r}`}const d5={offset:"stroke-dashoffset",array:"stroke-dasharray"},p5={offset:"strokeDashoffset",array:"strokeDasharray"};function m5(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?d5:p5;n[s.offset]=gt.transform(-i);const o=gt.transform(e),a=gt.transform(t);n[s.array]=`${o} ${a}`}function JM(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,p){if(jM(n,c,u,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:x}=n;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=h5(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&m5(m,o,a,l,!1)}const SF=()=>({...XM(),attrs:{}}),KM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function g5(n,e,t,i){const r=O.useMemo(()=>{const s=SF();return JM(s,e,{enableHardwareAcceleration:!1},KM(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};_F(s,n.style,n),r.style={...s,...r.style}}return r}function y5(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(WM(t)?g5:l5)(i,s,o,t),u={...f5(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=O.useMemo(()=>fr(d)?d.get():d,[d]);return O.createElement(t,{...u,children:p})}}const YM=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function wF(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const MF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EF(n,e,t,i){wF(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(MF.has(r)?r:YM(r),e.attrs[r])}function qM(n,e){const{style:t}=n,i={};for(const r in t)(fr(t[r])||e.style&&fr(e.style[r])||mF(r,n))&&(i[r]=t[r]);return i}function bF(n,e){const t=qM(n,e);for(const i in n)if(fr(n[i])||fr(e[i])){const r=Ip.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function $M(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function TF(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const g0=n=>Array.isArray(n),v5=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),x5=n=>g0(n)?n[n.length-1]||0:n;function My(n){const e=fr(n)?n.get():n;return v5(e)?e.toValue():e}function _5({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:A5(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const CF=n=>(e,t)=>{const i=O.useContext(iv),r=O.useContext(rv),s=()=>_5(n,e,i,r);return t?s():TF(s)};function A5(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=My(s[p]);let{initial:o,animate:a}=n;const l=av(n),c=dF(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!ov(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=$M(n,m);if(!y)return;const{transitionEnd:x,transition:_,...g}=y;for(const A in g){let S=g[A];if(Array.isArray(S)){const w=u?S.length-1:0;S=S[w]}S!==null&&(r[A]=S)}for(const A in x)r[A]=x[A]}),r}const Bn=n=>n;class OR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function S5(n){let e=new OR,t=new OR,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&r,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const fg=["prepare","read","update","preRender","render","postRender"],w5=40;function M5(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=fg.reduce((d,p)=>(d[p]=S5(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,w5),1),r.timestamp=d,r.isProcessing=!0,fg.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:fg.reduce((d,p)=>{const m=s[p];return d[p]=(y,x=!1,_=!1)=>(t||l(),m.schedule(y,x,_)),d},{}),cancel:d=>fg.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:sn,cancel:ta,state:li,steps:z_}=M5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0),E5={useVisualState:CF({scrapeMotionValuesFromProps:bF,createRenderState:SF,onMount:(n,e,{renderState:t,latestValues:i})=>{sn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),sn.render(()=>{JM(t,i,{enableHardwareAcceleration:!1},KM(e.tagName),n.transformTemplate),EF(e,t)})}})},b5={useVisualState:CF({scrapeMotionValuesFromProps:qM,createRenderState:XM})};function T5(n,{forwardMotionProps:e=!1},t,i){return{...WM(n)?E5:b5,preloadedFeatures:t,useRender:y5(e),createVisualElement:i,Component:n}}function Ho(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const RF=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function cv(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const C5=n=>e=>RF(e)&&n(e,cv(e));function Xo(n,e,t,i){return Ho(n,e,C5(t),i)}const R5=(n,e)=>t=>e(n(t)),Xa=(...n)=>n.reduce(R5);function PF(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const kR=PF("dragHorizontal"),NR=PF("dragVertical");function LF(n){let e=!1;if(n==="y")e=NR();else if(n==="x")e=kR();else{const t=kR(),i=NR();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function IF(){const n=LF(!0);return n?(n(),!1):!0}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function UR(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||IF())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&sn.update(()=>a[i](s,o))};return Xo(n.current,t,r,{passive:!n.getProps()[i]})}class P5 extends pl{mount(){this.unmount=Xa(UR(this.node,!0),UR(this.node,!1))}unmount(){}}class L5 extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xa(Ho(this.node.current,"focus",()=>this.onFocus()),Ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BF=(n,e)=>e?n===e?!0:BF(n,e.parentElement):!1;function H_(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,cv(t))}class I5 extends pl{constructor(){super(...arguments),this.removeStartListeners=Bn,this.removeEndListeners=Bn,this.removeAccessibleListeners=Bn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Xo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();sn.update(()=>{BF(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=Xo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Xa(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||H_("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&sn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ho(this.node.current,"keyup",o),H_("down",(a,l)=>{this.startPress(a,l)})},t=Ho(this.node.current,"keydown",e),i=()=>{this.isPressing&&H_("cancel",(s,o)=>this.cancelPress(s,o))},r=Ho(this.node.current,"blur",i);this.removeAccessibleListeners=Xa(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&sn.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!IF()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&sn.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Xo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Ho(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xa(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gw=new WeakMap,G_=new WeakMap,B5=n=>{const e=gw.get(n.target);e&&e(n)},D5=n=>{n.forEach(B5)};function F5({root:n,...e}){const t=n||document;G_.has(t)||G_.set(t,{});const i=G_.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(D5,{root:n,...e})),i[r]}function O5(n,e,t){const i=F5(e);return gw.set(n,t),i.observe(n),()=>{gw.delete(n),i.unobserve(n)}}const k5={some:0,all:1};class N5 extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:k5[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return O5(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(U5(e,t))&&this.startObserver()}unmount(){}}function U5({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const z5={inView:{Feature:N5},tap:{Feature:I5},focus:{Feature:L5},hover:{Feature:P5}};function DF(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function H5(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function G5(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function uv(n,e,t){const i=n.getProps();return $M(i,e,t!==void 0?t:i.custom,H5(n),G5(n))}const V5="framerAppearId",W5="data-"+YM(V5);let j5=Bn,QM=Bn;const Ja=n=>n*1e3,Jo=n=>n/1e3,X5={current:!1},FF=n=>Array.isArray(n)&&typeof n[0]=="number";function OF(n){return!!(!n||typeof n=="string"&&kF[n]||FF(n)||Array.isArray(n)&&n.every(OF))}const rd=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,kF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rd([0,.65,.55,1]),circOut:rd([.55,0,1,.45]),backIn:rd([.31,.01,.66,-.59]),backOut:rd([.33,1.53,.69,.99])};function NF(n){if(n)return FF(n)?rd(n):Array.isArray(n)?n.map(NF):kF[n]}function J5(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=NF(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function K5(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const UF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Y5=1e-7,q5=12;function $5(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=UF(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>Y5&&++a<q5);return o}function Fp(n,e,t,i){if(n===e&&t===i)return Bn;const r=s=>$5(s,0,1,n,t);return s=>s===0||s===1?s:UF(r(s),e,i)}const Q5=Fp(.42,0,1,1),Z5=Fp(0,0,.58,1),zF=Fp(.42,0,.58,1),e8=n=>Array.isArray(n)&&typeof n[0]!="number",HF=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,GF=n=>e=>1-n(1-e),VF=n=>1-Math.sin(Math.acos(n)),ZM=GF(VF),t8=HF(ZM),WF=Fp(.33,1.53,.69,.99),eE=GF(WF),n8=HF(eE),i8=n=>(n*=2)<1?.5*eE(n):.5*(2-Math.pow(2,-10*(n-1))),r8={linear:Bn,easeIn:Q5,easeInOut:zF,easeOut:Z5,circIn:VF,circInOut:t8,circOut:ZM,backIn:eE,backInOut:n8,backOut:WF,anticipate:i8},zR=n=>{if(Array.isArray(n)){QM(n.length===4);const[e,t,i,r]=n;return Fp(e,t,i,r)}else if(typeof n=="string")return r8[n];return n},tE=(n,e)=>t=>!!(Bp(t)&&i5.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),jF=(n,e,t)=>i=>{if(!Bp(i))return i;const[r,s,o,a]=i.match(lv);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},s8=n=>il(0,255,n),V_={...Vc,transform:n=>Math.round(s8(n))},ac={test:tE("rgb","red"),parse:jF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+V_.transform(n)+", "+V_.transform(e)+", "+V_.transform(t)+", "+Ad(_d.transform(i))+")"};function o8(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const yw={test:tE("#"),parse:o8,transform:ac.transform},rf={test:tE("hsl","hue"),parse:jF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+so.transform(Ad(e))+", "+so.transform(Ad(t))+", "+Ad(_d.transform(i))+")"},Vi={test:n=>ac.test(n)||yw.test(n)||rf.test(n),parse:n=>ac.test(n)?ac.parse(n):rf.test(n)?rf.parse(n):yw.parse(n),transform:n=>Bp(n)?n:n.hasOwnProperty("red")?ac.transform(n):rf.transform(n)},An=(n,e,t)=>-t*n+t*e+n;function W_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function a8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=W_(l,a,n+1/3),s=W_(l,a,n),o=W_(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const j_=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},l8=[yw,ac,rf],c8=n=>l8.find(e=>e.test(n));function HR(n){const e=c8(n);let t=e.parse(n);return e===rf&&(t=a8(t)),t}const XF=(n,e)=>{const t=HR(n),i=HR(e),r={...t};return s=>(r.red=j_(t.red,i.red,s),r.green=j_(t.green,i.green,s),r.blue=j_(t.blue,i.blue,s),r.alpha=An(t.alpha,i.alpha,s),ac.transform(r))};function u8(n){var e,t;return isNaN(n)&&Bp(n)&&(((e=n.match(lv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(vF))===null||t===void 0?void 0:t.length)||0)>0}const JF={regex:t5,countKey:"Vars",token:"${v}",parse:Bn},KF={regex:vF,countKey:"Colors",token:"${c}",parse:Vi.parse},YF={regex:lv,countKey:"Numbers",token:"${n}",parse:Vc.parse};function X_(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function y0(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&X_(t,JF),X_(t,KF),X_(t,YF),t}function qF(n){return y0(n).values}function $F(n){const{values:e,numColors:t,numVars:i,tokenised:r}=y0(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(JF.token,o[l]):l<i+t?a=a.replace(KF.token,Vi.transform(o[l])):a=a.replace(YF.token,Ad(o[l]));return a}}const f8=n=>typeof n=="number"?0:n;function h8(n){const e=qF(n);return $F(n)(e.map(f8))}const rl={test:u8,parse:qF,createTransformer:$F,getAnimatableNone:h8},QF=(n,e)=>t=>`${t>0?e:n}`;function ZF(n,e){return typeof n=="number"?t=>An(n,e,t):Vi.test(n)?XF(n,e):n.startsWith("var(")?QF(n,e):tO(n,e)}const eO=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>ZF(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},d8=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=ZF(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},tO=(n,e)=>{const t=rl.createTransformer(e),i=y0(n),r=y0(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Xa(eO(i.values,r.values),t):QF(n,e)},Zd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},GR=(n,e)=>t=>An(n,e,t);function p8(n){return typeof n=="number"?GR:typeof n=="string"?Vi.test(n)?XF:tO:Array.isArray(n)?eO:typeof n=="object"?d8:GR}function m8(n,e,t){const i=[],r=t||p8(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Bn:e;a=Xa(l,a)}i.push(a)}return i}function nO(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(QM(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=m8(e,i,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=Zd(n[u],n[u+1],c);return o[u](d)};return t?c=>l(il(n[0],n[s-1],c)):l}function g8(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Zd(0,e,i);n.push(An(t,1,r))}}function y8(n){const e=[0];return g8(e,n.length-1),e}function v8(n,e){return n.map(t=>t*e)}function x8(n,e){return n.map(()=>e||zF).splice(0,n.length-1)}function v0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=e8(i)?i.map(zR):zR(i),s={done:!1,value:e[0]},o=v8(t&&t.length===e.length?t:y8(e),n),a=nO(o,e,{ease:Array.isArray(r)?r:x8(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function iO(n,e){return e?n*(1e3/e):0}const _8=5;function rO(n,e,t){const i=Math.max(e-_8,0);return iO(t-n(i),e-i)}const J_=.001,A8=.01,VR=10,S8=.05,w8=1;function M8({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;j5(n<=Ja(VR));let o=1-e;o=il(S8,w8,o),n=il(A8,VR,Jo(n)),o<1?(r=c=>{const u=c*o,d=u*n,p=u-t,m=vw(c,o),y=Math.exp(-d);return J_-p/m*y},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-d),x=vw(Math.pow(c,2),o);return(-r(c)+J_>0?-1:1)*((p-m)*y)/x}):(r=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-J_+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=b8(r,s,a);if(n=Ja(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const E8=12;function b8(n,e,t){let i=t;for(let r=1;r<E8;r++)i=i-n(i)/e(i);return i}function vw(n,e){return n*Math.sqrt(1-e*e)}const T8=["duration","bounce"],C8=["stiffness","damping","mass"];function WR(n,e){return e.some(t=>n[t]!==void 0)}function R8(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!WR(n,C8)&&WR(n,T8)){const t=M8(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function sO({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:p}=R8(i),m=u?-Jo(u):0,y=l/(2*Math.sqrt(a*c)),x=s-r,_=Jo(Math.sqrt(a/c)),g=Math.abs(x)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let A;if(y<1){const S=vw(_,y);A=w=>{const b=Math.exp(-y*_*w);return s-b*((m+y*_*x)/S*Math.sin(S*w)+x*Math.cos(S*w))}}else if(y===1)A=S=>s-Math.exp(-_*S)*(x+(m+_*x)*S);else{const S=_*Math.sqrt(y*y-1);A=w=>{const b=Math.exp(-y*_*w),T=Math.min(S*w,300);return s-b*((m+y*_*x)*Math.sinh(T)+S*x*Math.cosh(T))/S}}return{calculatedDuration:p&&d||null,next:S=>{const w=A(S);if(p)o.done=S>=d;else{let b=m;S!==0&&(y<1?b=rO(A,S,w):b=0);const T=Math.abs(b)<=t,C=Math.abs(s-w)<=e;o.done=T&&C}return o.value=o.done?s:w,o}}}function jR({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],p={done:!1,value:d},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,y=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let x=t*e;const _=d+x,g=o===void 0?_:o(_);g!==_&&(x=g-d);const A=B=>-x*Math.exp(-B/i),S=B=>g+A(B),w=B=>{const P=A(B),L=S(B);p.done=Math.abs(P)<=c,p.value=p.done?g:L};let b,T;const C=B=>{m(p.value)&&(b=B,T=sO({keyframes:[p.value,y(p.value)],velocity:rO(S,B,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:B=>{let P=!1;return!T&&b===void 0&&(P=!0,w(B),C(B)),b!==void 0&&B>b?T.next(B-b):(!P&&w(B),p)}}}const P8=n=>{const e=({timestamp:t})=>n(t);return{start:()=>sn.update(e,!0),stop:()=>ta(e),now:()=>li.isProcessing?li.timestamp:performance.now()}},XR=2e4;function JR(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<XR;)e+=t,i=n.next(e);return e>=XR?1/0:e}const L8={decay:jR,inertia:jR,tween:v0,keyframes:v0,spring:sO};function x0({autoplay:n=!0,delay:e=0,driver:t=P8,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...p}){let m=1,y=!1,x,_;const g=()=>{_=new Promise(z=>{x=z})};g();let A;const S=L8[r]||v0;let w;S!==v0&&typeof i[0]!="number"&&(w=nO([0,100],i,{clamp:!1}),i=[0,100]);const b=S({...p,keyframes:i});let T;a==="mirror"&&(T=S({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let C="idle",B=null,P=null,L=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=JR(b));const{calculatedDuration:U}=b;let te=1/0,ne=1/0;U!==null&&(te=U+o,ne=te*(s+1)-o);let V=0;const $=z=>{if(P===null)return;m>0&&(P=Math.min(P,z)),m<0&&(P=Math.min(z-ne/m,P)),B!==null?V=B:V=Math.round(z-P)*m;const J=V-e*(m>=0?1:-1),_e=m>=0?J<0:J>ne;V=Math.max(J,0),C==="finished"&&B===null&&(V=ne);let Me=V,Ee=b;if(s){const qe=V/te;let ut=Math.floor(qe),Ue=qe%1;!Ue&&qe>=1&&(Ue=1),Ue===1&&ut--,ut=Math.min(ut,s+1);const W=!!(ut%2);W&&(a==="reverse"?(Ue=1-Ue,o&&(Ue-=o/te)):a==="mirror"&&(Ee=T));let be=il(0,1,Ue);V>ne&&(be=a==="reverse"&&W?1:0),Me=be*te}const ke=_e?{done:!1,value:i[0]}:Ee.next(Me);w&&(ke.value=w(ke.value));let{done:Ke}=ke;!_e&&U!==null&&(Ke=m>=0?V>=ne:V<=0);const rt=B===null&&(C==="finished"||C==="running"&&Ke);return d&&d(ke.value),rt&&G(),ke},le=()=>{A&&A.stop(),A=void 0},ue=()=>{C="idle",le(),x(),g(),P=L=null},G=()=>{C="finished",u&&u(),le(),x()},Y=()=>{if(y)return;A||(A=t($));const z=A.now();l&&l(),B!==null?P=z-B:(!P||C==="finished")&&(P=z),C==="finished"&&g(),L=P,B=null,C="running",A.start()};n&&Y();const q={then(z,J){return _.then(z,J)},get time(){return Jo(V)},set time(z){z=Ja(z),V=z,B!==null||!A||m===0?B=z:P=A.now()-z/m},get duration(){const z=b.calculatedDuration===null?JR(b):b.calculatedDuration;return Jo(z)},get speed(){return m},set speed(z){z===m||!A||(m=z,q.time=Jo(V))},get state(){return C},play:Y,pause:()=>{C="paused",B=V},stop:()=>{y=!0,C!=="idle"&&(C="idle",c&&c(),ue())},cancel:()=>{L!==null&&$(L),ue()},complete:()=>{C="finished"},sample:z=>(P=0,$(z))};return q}function I8(n){let e;return()=>(e===void 0&&(e=n()),e)}const B8=I8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),D8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hg=10,F8=2e4,O8=(n,e)=>e.type==="spring"||n==="backgroundColor"||!OF(e.ease);function k8(n,e,{onUpdate:t,onComplete:i,...r}){if(!(B8()&&D8.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(A=>{a=A})};c();let{keyframes:u,duration:d=300,ease:p,times:m}=r;if(O8(e,r)){const A=x0({...r,repeat:0,delay:0});let S={done:!1,value:u[0]};const w=[];let b=0;for(;!S.done&&b<F8;)S=A.sample(b),w.push(S.value),b+=hg;m=void 0,u=w,d=b-hg,p="linear"}const y=J5(n.owner.current,e,u,{...r,duration:d,ease:p,times:m});r.syncStart&&(y.startTime=li.isProcessing?li.timestamp:document.timeline?document.timeline.currentTime:performance.now());const x=()=>y.cancel(),_=()=>{sn.update(x),a(),c()};return y.onfinish=()=>{n.set(K5(u,r)),i&&i(),_()},{then(A,S){return l.then(A,S)},attachTimeline(A){return y.timeline=A,y.onfinish=null,Bn},get time(){return Jo(y.currentTime||0)},set time(A){y.currentTime=Ja(A)},get speed(){return y.playbackRate},set speed(A){y.playbackRate=A},get duration(){return Jo(d)},play:()=>{o||(y.play(),ta(x))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:A}=y;if(A){const S=x0({...r,autoplay:!1});n.setWithVelocity(S.sample(A-hg).value,S.sample(A).value,hg)}_()},complete:()=>y.finish(),cancel:_}}function N8({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Bn,pause:Bn,stop:Bn,then:s=>(s(),Promise.resolve()),cancel:Bn,complete:Bn});return e?x0({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const U8={type:"spring",stiffness:500,damping:25,restSpeed:10},z8=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),H8={type:"keyframes",duration:.8},G8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V8=(n,{keyframes:e})=>e.length>2?H8:Gc.has(n)?n.startsWith("scale")?z8(e[1]):U8:G8,xw=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rl.test(e)||e==="0")&&!e.startsWith("url(")),W8=new Set(["brightness","contrast","saturate","opacity"]);function j8(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(lv)||[];if(!i)return n;const r=t.replace(i,"");let s=W8.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const X8=/([a-z-]*)\(.*?\)/g,_w={...rl,getAnimatableNone:n=>{const e=n.match(X8);return e?e.map(j8).join(" "):n}},J8={...xF,color:Vi,backgroundColor:Vi,outlineColor:Vi,fill:Vi,stroke:Vi,borderColor:Vi,borderTopColor:Vi,borderRightColor:Vi,borderBottomColor:Vi,borderLeftColor:Vi,filter:_w,WebkitFilter:_w},nE=n=>J8[n];function oO(n,e){let t=nE(n);return t!==_w&&(t=rl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const aO=n=>/^0[^.\s]+$/.test(n);function K8(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||aO(n)}function Y8(n,e,t,i){const r=xw(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),K8(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=oO(e,a)}return s}function q8({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function lO(n,e){return n[e]||n.default||n}const iE=(n,e,t,i={})=>r=>{const s=lO(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Ja(o);const l=Y8(e,n,t,s),c=l[0],u=l[l.length-1],d=xw(n,c),p=xw(n,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(q8(s)||(m={...m,...V8(n,m)}),m.duration&&(m.duration=Ja(m.duration)),m.repeatDelay&&(m.repeatDelay=Ja(m.repeatDelay)),!d||!p||X5.current||s.type===!1)return N8(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=k8(e,n,m);if(y)return y}return x0(m)};function _0(n){return!!(fr(n)&&n.add)}const cO=n=>/^\-?\d*\.?\d+$/.test(n);function rE(n,e){n.indexOf(e)===-1&&n.push(e)}function sE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class oE{constructor(){this.subscriptions=[]}add(e){return rE(this.subscriptions,e),()=>sE(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $8=n=>!isNaN(parseFloat(n));class Q8{constructor(e,t={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=li;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,sn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$8(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oE);const i=this.events[e].add(t);return e==="change"?()=>{i(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?iO(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Of(n,e){return new Q8(n,e)}const uO=n=>e=>e.test(n),Z8={test:n=>n==="auto",parse:n=>n},fO=[Vc,gt,so,Ta,s5,r5,Z8],Nh=n=>fO.find(uO(n)),e9=[...fO,Vi,rl],t9=n=>e9.find(uO(n));function n9(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Of(t))}function i9(n,e){const t=uv(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=x5(s[o]);n9(n,o,a)}}function r9(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(cO(u)||aO(u))?u=parseFloat(u):!t9(u)&&rl.test(c)&&(u=oO(l,c)),n.addValue(l,Of(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function s9(n,e){return e?(e[n]||e.default||e).from:void 0}function o9(n,e,t){const i={};for(const r in n){const s=s9(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function a9({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function hO(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],u=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||u&&a9(u,d))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const _=n.getProps()[W5];_&&(y.elapsed=window.HandoffAppearAnimations(_,d,p,sn),y.syncStart=!0)}p.start(iE(d,p,m,n.shouldReduceMotion&&Gc.has(d)?{type:!1}:y));const x=p.animation;_0(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&i9(n,o)}),c}function Aw(n,e,t={}){const i=uv(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(hO(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=r;return l9(n,e,c+l,u,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function l9(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(c9).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Aw(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function c9(n,e){return n.sortNodePosition(e)}function u9(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Aw(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=Aw(n,e,t);else{const r=typeof e=="function"?uv(n,e,t.custom):e;i=Promise.all(hO(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const f9=[...HM].reverse(),h9=HM.length;function d9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>u9(n,t,i)))}function p9(n){let e=d9(n);const t=g9();let i=!0;const r=(l,c)=>{const u=uv(n,c);if(u){const{transition:d,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},x=1/0;for(let g=0;g<h9;g++){const A=f9[g],S=t[A],w=u[A]!==void 0?u[A]:d[A],b=$d(w),T=A===c?S.isActive:null;T===!1&&(x=g);let C=w===d[A]&&w!==u[A]&&b;if(C&&i&&n.manuallyAnimateOnMount&&(C=!1),S.protectedKeys={...y},!S.isActive&&T===null||!w&&!S.prevProp||ov(w)||typeof w=="boolean")continue;const B=m9(S.prevProp,w);let P=B||A===c&&S.isActive&&!C&&b||g>x&&b;const L=Array.isArray(w)?w:[w];let U=L.reduce(r,{});T===!1&&(U={});const{prevResolvedValues:te={}}=S,ne={...te,...U},V=$=>{P=!0,m.delete($),S.needsAnimating[$]=!0};for(const $ in ne){const le=U[$],ue=te[$];y.hasOwnProperty($)||(le!==ue?g0(le)&&g0(ue)?!DF(le,ue)||B?V($):S.protectedKeys[$]=!0:le!==void 0?V($):m.add($):le!==void 0&&m.has($)?V($):S.protectedKeys[$]=!0)}S.prevProp=w,S.prevResolvedValues=U,S.isActive&&(y={...y,...U}),i&&n.blockInitialAnimation&&(P=!1),P&&!C&&p.push(...L.map($=>({animation:$,options:{type:A,...l}})))}if(m.size){const g={};m.forEach(A=>{const S=n.getBaseTarget(A);S!==void 0&&(g[A]=S)}),p.push({animation:g})}let _=!!p.length;return i&&u.initial===!1&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(p):Promise.resolve()}function a(l,c,u){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function m9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!DF(e,n):!1}function Ll(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g9(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class y9 extends pl{constructor(e){super(e),e.animationState||(e.animationState=p9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ov(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let v9=0;class x9 extends pl{constructor(){super(...arguments),this.id=v9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _9={animation:{Feature:y9},exit:{Feature:x9}},KR=(n,e)=>Math.abs(n-e);function A9(n,e){const t=KR(n.x,e.x),i=KR(n.y,e.y);return Math.sqrt(t**2+i**2)}class dO{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Y_(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=A9(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:p}=c,{timestamp:m}=li;this.history.push({...p,timestamp:m});const{onStart:y,onMove:x}=this.handlers;u||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=K_(u,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=Y_(c.type==="pointercancel"?this.lastMoveEventInfo:K_(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),p&&p(c,m)},!RF(e))return;this.handlers=t,this.transformPagePoint=i;const r=cv(e),s=K_(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=li;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Y_(s,this.history)),this.removeListeners=Xa(Xo(window,"pointermove",this.handlePointerMove),Xo(window,"pointerup",this.handlePointerUp),Xo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function K_(n,e){return e?{point:e(n.point)}:n}function YR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Y_({point:n},e){return{point:n,delta:YR(n,pO(e)),offset:YR(n,S9(e)),velocity:w9(e,.1)}}function S9(n){return n[0]}function pO(n){return n[n.length-1]}function w9(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=pO(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ja(e)));)t--;if(!i)return{x:0,y:0};const s=Jo(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Dr(n){return n.max-n.min}function Sw(n,e=0,t=.01){return Math.abs(n-e)<=t}function qR(n,e,t,i=.5){n.origin=i,n.originPoint=An(e.min,e.max,n.origin),n.scale=Dr(t)/Dr(e),(Sw(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=An(t.min,t.max,n.origin)-n.originPoint,(Sw(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Sd(n,e,t,i){qR(n.x,e.x,t.x,i?i.originX:void 0),qR(n.y,e.y,t.y,i?i.originY:void 0)}function $R(n,e,t){n.min=t.min+e.min,n.max=n.min+Dr(e)}function M9(n,e,t){$R(n.x,e.x,t.x),$R(n.y,e.y,t.y)}function QR(n,e,t){n.min=e.min-t.min,n.max=n.min+Dr(e)}function wd(n,e,t){QR(n.x,e.x,t.x),QR(n.y,e.y,t.y)}function E9(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?An(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?An(t,n,i.max):Math.min(n,t)),n}function ZR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function b9(n,{top:e,left:t,bottom:i,right:r}){return{x:ZR(n.x,t,r),y:ZR(n.y,e,i)}}function eP(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function T9(n,e){return{x:eP(n.x,e.x),y:eP(n.y,e.y)}}function C9(n,e){let t=.5;const i=Dr(n),r=Dr(e);return r>i?t=Zd(e.min,e.max-i,n.min):i>r&&(t=Zd(n.min,n.max-r,e.min)),il(0,1,t)}function R9(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ww=.35;function P9(n=ww){return n===!1?n=0:n===!0&&(n=ww),{x:tP(n,"left","right"),y:tP(n,"top","bottom")}}function tP(n,e,t){return{min:nP(n,e),max:nP(n,t)}}function nP(n,e){return typeof n=="number"?n:n[e]||0}const iP=()=>({translate:0,scale:1,origin:0,originPoint:0}),sf=()=>({x:iP(),y:iP()}),rP=()=>({min:0,max:0}),Wn=()=>({x:rP(),y:rP()});function Qs(n){return[n("x"),n("y")]}function mO({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function L9({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function I9(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function q_(n){return n===void 0||n===1}function Mw({scale:n,scaleX:e,scaleY:t}){return!q_(n)||!q_(e)||!q_(t)}function Xl(n){return Mw(n)||gO(n)||n.z||n.rotate||n.rotateX||n.rotateY}function gO(n){return sP(n.x)||sP(n.y)}function sP(n){return n&&n!=="0%"}function A0(n,e,t){const i=n-t,r=e*i;return t+r}function oP(n,e,t,i,r){return r!==void 0&&(n=A0(n,r,i)),A0(n,t,i)+e}function Ew(n,e=0,t=1,i,r){n.min=oP(n.min,e,t,i,r),n.max=oP(n.max,e,t,i,r)}function yO(n,{x:e,y:t}){Ew(n.x,e.translate,e.scale,e.originPoint),Ew(n.y,t.translate,t.scale,t.originPoint)}function B9(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&of(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yO(n,o)),i&&Xl(s.latestValues)&&of(n,s.latestValues))}e.x=aP(e.x),e.y=aP(e.y)}function aP(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Pa(n,e){n.min=n.min+e,n.max=n.max+e}function lP(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=An(n.min,n.max,s);Ew(n,e[t],e[i],o,e.scale)}const D9=["x","scaleX","originX"],F9=["y","scaleY","originY"];function of(n,e){lP(n.x,e,D9),lP(n.y,e,F9)}function vO(n,e){return mO(I9(n.getBoundingClientRect(),e))}function O9(n,e,t){const i=vO(n,t),{scroll:r}=e;return r&&(Pa(i.x,r.offset.x),Pa(i.y,r.offset.y)),i}const k9=new WeakMap;class N9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(cv(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:p}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=LF(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qs(y=>{let x=this.getAxisMotionValue(y).get()||0;if(so.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const g=_.layout.layoutBox[y];g&&(x=Dr(g)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&sn.update(()=>p(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:y}=c;if(d&&this.currentDirection===null){this.currentDirection=U9(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new dO(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&sn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!dg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=E9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&nf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=b9(i.layoutBox,e):this.constraints=!1,this.elastic=P9(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qs(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=R9(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!nf(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=O9(i,r.root,this.visualElement.getTransformPagePoint());let o=T9(r.layout.layoutBox,s);if(t){const a=t(L9(o));this.hasMutatedConstraints=!!a,a&&(o=mO(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Qs(u=>{if(!dg(u,t,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(iE(e,i,0,t))}stopAnimation(){Qs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Qs(t=>{const{drag:i}=this.getProps();if(!dg(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-An(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!nf(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Qs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=C9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Qs(o=>{if(!dg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(An(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;k9.set(this.visualElement,this);const e=this.visualElement.current,t=Xo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();nf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Ho(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Qs(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=ww,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function dg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function U9(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class z9 extends pl{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new N9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const cP=n=>(e,t)=>{n&&sn.update(()=>n(e,t))};class H9 extends pl{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new dO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:cP(e),onStart:cP(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&sn.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=Xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function G9(){const n=O.useContext(rv);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=O.useId();return O.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const Ey={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uP(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Uh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(gt.test(n))n=parseFloat(n);else return n;const t=uP(n,e.target.x),i=uP(n,e.target.y);return`${t}% ${i}%`}},V9={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=rl.parse(n);if(r.length>5)return i;const s=rl.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=An(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class W9 extends Ii.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;$V(j9),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ey.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||sn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xO(n){const[e,t]=G9(),i=O.useContext(VM);return Ii.createElement(W9,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(pF),isPresent:e,safeToRemove:t})}const j9={borderRadius:{...Uh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uh,borderTopRightRadius:Uh,borderBottomLeftRadius:Uh,borderBottomRightRadius:Uh,boxShadow:V9},_O=["TopLeft","TopRight","BottomLeft","BottomRight"],X9=_O.length,fP=n=>typeof n=="string"?parseFloat(n):n,hP=n=>typeof n=="number"||gt.test(n);function J9(n,e,t,i,r,s){r?(n.opacity=An(0,t.opacity!==void 0?t.opacity:1,K9(i)),n.opacityExit=An(e.opacity!==void 0?e.opacity:1,0,Y9(i))):s&&(n.opacity=An(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<X9;o++){const a=`border${_O[o]}Radius`;let l=dP(e,a),c=dP(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||hP(l)===hP(c)?(n[a]=Math.max(An(fP(l),fP(c),i),0),(so.test(c)||so.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=An(e.rotate||0,t.rotate||0,i))}function dP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const K9=AO(0,.5,ZM),Y9=AO(.5,.95,Bn);function AO(n,e,t){return i=>i<n?0:i>e?1:t(Zd(n,e,i))}function pP(n,e){n.min=e.min,n.max=e.max}function qr(n,e){pP(n.x,e.x),pP(n.y,e.y)}function mP(n,e,t,i,r){return n-=e,n=A0(n,1/t,i),r!==void 0&&(n=A0(n,1/r,i)),n}function q9(n,e=0,t=1,i=.5,r,s=n,o=n){if(so.test(e)&&(e=parseFloat(e),e=An(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=An(s.min,s.max,i);n===s&&(a-=e),n.min=mP(n.min,e,t,a,r),n.max=mP(n.max,e,t,a,r)}function gP(n,e,[t,i,r],s,o){q9(n,e[t],e[i],e[r],e.scale,s,o)}const $9=["x","scaleX","originX"],Q9=["y","scaleY","originY"];function yP(n,e,t,i){gP(n.x,e,$9,t?t.x:void 0,i?i.x:void 0),gP(n.y,e,Q9,t?t.y:void 0,i?i.y:void 0)}function vP(n){return n.translate===0&&n.scale===1}function SO(n){return vP(n.x)&&vP(n.y)}function Z9(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function wO(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function xP(n){return Dr(n.x)/Dr(n.y)}class e6{constructor(){this.members=[]}add(e){rE(this.members,e),e.scheduleRender()}remove(e){if(sE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _P(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const t6=(n,e)=>n.depth-e.depth;class n6{constructor(){this.children=[],this.isDirty=!1}add(e){rE(this.children,e),this.isDirty=!0}remove(e){sE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t6),this.isDirty=!1,this.children.forEach(e)}}function i6(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(ta(i),n(s-e))};return sn.read(i,!0),()=>ta(i)}function r6(n){window.MotionDebug&&window.MotionDebug.record(n)}function s6(n){return n instanceof SVGElement&&n.tagName!=="svg"}function o6(n,e,t){const i=fr(n)?n:Of(n);return i.start(iE("",i,e,t)),i.animation}const AP=["","X","Y","Z"],SP=1e3;let a6=0;const Jl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function MO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=a6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Jl.totalNodes=Jl.resolvedTargetDeltas=Jl.recalculatedProjection=0,this.nodes.forEach(u6),this.nodes.forEach(m6),this.nodes.forEach(g6),this.nodes.forEach(f6),r6(Jl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new n6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new oE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=i6(p,250),Ey.hasAnimatedSinceResize&&(Ey.hasAnimatedSinceResize=!1,this.nodes.forEach(MP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||A6,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=u.getProps(),A=!this.targetLayout||!wO(this.targetLayout,y)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const w={...lO(x,"layout"),onPlay:_,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||MP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wP);return}this.isUpdating||this.nodes.forEach(d6),this.isUpdating=!1,this.nodes.forEach(p6),this.nodes.forEach(l6),this.nodes.forEach(c6),this.clearAllSnapshots();const a=performance.now();li.delta=il(0,1e3/60,a-li.timestamp),li.timestamp=a,li.isProcessing=!0,z_.update.process(li),z_.preRender.process(li),z_.render.process(li),li.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(h6),this.sharedNodes.forEach(v6)}scheduleUpdateProjection(){sn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!SO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Xl(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),S6(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Pa(a.x,l.offset.x),Pa(a.y,l.offset.y)),a}removeElementScroll(o){const a=Wn();qr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){qr(a,o);const{scroll:p}=this.root;p&&(Pa(a.x,-p.offset.x),Pa(a.y,-p.offset.y))}Pa(a.x,u.offset.x),Pa(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Wn();qr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&of(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xl(u.latestValues)&&of(l,u.latestValues)}return Xl(this.latestValues)&&of(l,this.latestValues),l}removeTransform(o){const a=Wn();qr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xl(c.latestValues))continue;Mw(c.latestValues)&&c.updateSnapshot();const u=Wn(),d=c.measurePageBox();qr(u,d),yP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xl(this.latestValues)&&yP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==li.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=li.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),wd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),yO(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),wd(this.relativeTargetOrigin,this.target,m.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mw(this.parent.latestValues)||gO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===li.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;qr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;B9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=sf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=sf(),this.projectionDeltaWithTransform=sf());const x=this.projectionTransform;Sd(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=_P(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Jl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Wn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,_=this.getStack(),g=!_||_.members.length<=1,A=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(_6));this.animationProgress=0;let S;this.mixTargetDelta=w=>{const b=w/1e3;EP(d.x,o.x,b),EP(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x6(this.relativeTarget,this.relativeTargetOrigin,p,b),S&&Z9(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Wn()),qr(S,this.relativeTarget)),x&&(this.animationValues=u,J9(u,c,this.latestValues,b,A,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{Ey.hasAnimatedSinceResize=!0,this.currentAnimation=o6(0,SP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&EO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Wn();const d=Dr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Dr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}qr(a,l),of(a,u),Sd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e6),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<AP.length;u++){const d="rotate"+AP[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=My(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=My(o.pointerEvents)||""),this.hasProjected&&!Xl(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=_P(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in p0){if(p[x]===void 0)continue;const{correct:_,applyTo:g}=p0[x],A=c.transform==="none"?p[x]:_(p[x],d);if(g){const S=g.length;for(let w=0;w<S;w++)c[g[w]]=A}else c[x]=A}return this.options.layoutId&&(c.pointerEvents=d===this?My(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wP),this.root.sharedNodes.clear()}}}function l6(n){n.updateLayout()}function c6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Qs(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Dr(p);p.min=i[d].min,p.max=p.min+m}):EO(s,t.layoutBox,i)&&Qs(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Dr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=sf();Sd(a,i,t.layoutBox);const l=sf();o?Sd(l,n.applyTransform(r,!0),t.measuredBox):Sd(l,i,t.layoutBox);const c=!SO(a);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=Wn();wd(y,t.layoutBox,p.layoutBox);const x=Wn();wd(x,i,m.layoutBox),wO(y,x)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function u6(n){Jl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function f6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function h6(n){n.clearSnapshot()}function wP(n){n.clearMeasurements()}function d6(n){n.isLayoutDirty=!1}function p6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function MP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function m6(n){n.resolveTargetDelta()}function g6(n){n.calcProjection()}function y6(n){n.resetRotation()}function v6(n){n.removeLeadSnapshot()}function EP(n,e,t){n.translate=An(e.translate,0,t),n.scale=An(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function bP(n,e,t,i){n.min=An(e.min,t.min,i),n.max=An(e.max,t.max,i)}function x6(n,e,t,i){bP(n.x,e.x,t.x,i),bP(n.y,e.y,t.y,i)}function _6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const A6={duration:.45,ease:[.4,0,.1,1]},TP=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),CP=TP("applewebkit/")&&!TP("chrome/")?Math.round:Bn;function RP(n){n.min=CP(n.min),n.max=CP(n.max)}function S6(n){RP(n.x),RP(n.y)}function EO(n,e,t){return n==="position"||n==="preserve-aspect"&&!Sw(xP(e),xP(t),.2)}const w6=MO({attachResizeListener:(n,e)=>Ho(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$_={current:void 0},bO=MO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!$_.current){const n=new w6({});n.mount(window),n.setOptions({layoutScroll:!0}),$_.current=n}return $_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),M6={pan:{Feature:H9},drag:{Feature:z9,ProjectionNode:bO,MeasureLayout:xO}},E6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function b6(n){const e=E6.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function bw(n,e,t=1){const[i,r]=b6(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return cO(o)?parseFloat(o):o}else return mw(r)?bw(r,e,t+1):r}function T6(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!mw(s))return;const o=bw(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!mw(s))continue;const o=bw(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const C6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TO=n=>C6.has(n),R6=n=>Object.keys(n).some(TO),PP=n=>n===Vc||n===gt,LP=(n,e)=>parseFloat(n.split(", ")[e]),IP=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return LP(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?LP(s[1],n):0}},P6=new Set(["x","y","z"]),L6=Ip.filter(n=>!P6.has(n));function I6(n){const e=[];return L6.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const kf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:IP(4,13),y:IP(5,14)};kf.translateX=kf.x;kf.translateY=kf.y;const B6=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=kf[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=kf[c](l,s)}),n},D6=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(TO);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],d=Nh(u);const p=e[l];let m;if(g0(p)){const y=p.length,x=p[0]===null?1:0;u=p[x],d=Nh(u);for(let _=x;_<y&&p[_]!==null;_++)m?QM(Nh(p[_])===m):m=Nh(p[_])}else m=Nh(p);if(d!==m)if(PP(d)&&PP(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===gt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(p):(o||(s=I6(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=B6(e,n,a);return s.length&&s.forEach(([u,d])=>{n.getValue(u).set(d)}),n.render(),sv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function F6(n,e,t,i){return R6(e)?D6(n,e,t,i):{target:e,transitionEnd:i}}const O6=(n,e,t,i)=>{const r=T6(n,e,i);return e=r.target,i=r.transitionEnd,F6(n,e,t,i)},Tw={current:null},CO={current:!1};function k6(){if(CO.current=!0,!!sv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tw.current=n.matches;n.addListener(e),e()}else Tw.current=!1}function N6(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(fr(s))n.addValue(r,s),_0(i)&&i.add(r);else if(fr(o))n.addValue(r,Of(s,{owner:n})),_0(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Of(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const BP=new WeakMap,RO=Object.keys(Qd),U6=RO.length,DP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],z6=GM.length;class H6{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=av(t),this.isVariantNode=dF(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const d in u){const p=u[d];a[d]!==void 0&&fr(p)&&(p.set(a[d],!1),_0(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,BP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),CO.current||k6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){BP.delete(this.current),this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Gc.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&sn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<U6;l++){const c=RO[l],{isEnabled:u,Feature:d,ProjectionNode:p,MeasureLayout:m}=Qd[c];p&&(o=p),u(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&nf(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<DP.length;i++){const r=DP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=N6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<z6;i++){const r=GM[i],s=this.props[r];($d(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Of(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=$M(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!fr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class PO extends H6{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=o9(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){r9(this,i,o);const a=O6(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function G6(n){return window.getComputedStyle(n)}class V6 extends PO{readValueFromInstance(e,t){if(Gc.has(t)){const i=nE(t);return i&&i.default||0}else{const i=G6(e),r=(yF(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return vO(e,t)}build(e,t,i,r){jM(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return qM(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){wF(e,t,i,r)}}class W6 extends PO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gc.has(t)){const i=nE(t);return i&&i.default||0}return t=MF.has(t)?t:YM(t),e.getAttribute(t)}measureInstanceViewportBox(){return Wn()}scrapeMotionValuesFromProps(e,t){return bF(e,t)}build(e,t,i,r){JM(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){EF(e,t,i,r)}mount(e){this.isSVGTag=KM(e.tagName),super.mount(e)}}const j6=(n,e)=>WM(n)?new W6(e,{enableHardwareAcceleration:!1}):new V6(e,{enableHardwareAcceleration:!0}),X6={layout:{ProjectionNode:bO,MeasureLayout:xO}},J6={..._9,...z5,...M6,...X6},Kt=YV((n,e)=>T5(n,e,J6,j6));function LO(){const n=O.useRef(!1);return zM(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function K6(){const n=LO(),[e,t]=O.useState(0),i=O.useCallback(()=>{n.current&&t(e+1)},[e]);return[O.useCallback(()=>sn.postRender(i),[i]),e]}class Y6 extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function q6({children:n,isPresent:e}){const t=O.useId(),i=O.useRef(null),r=O.useRef({width:0,height:0,top:0,left:0});return O.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),O.createElement(Y6,{isPresent:e,childRef:i,sizeRef:r},O.cloneElement(n,{ref:i}))}const Q_=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=TF($6),l=O.useId(),c=O.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;i&&i()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return O.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[t]),O.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=O.createElement(q6,{isPresent:t},n)),O.createElement(rv.Provider,{value:c},n)};function $6(){return new Map}function Q6(n){return O.useEffect(()=>()=>n(),[])}const Kl=n=>n.key||"";function Z6(n,e){n.forEach(t=>{const i=Kl(t);e.set(i,t)})}function eW(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const Cw=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=O.useContext(VM).forceRender||K6()[0],l=LO(),c=eW(n);let u=c;const d=O.useRef(new Map).current,p=O.useRef(u),m=O.useRef(new Map).current,y=O.useRef(!0);if(zM(()=>{y.current=!1,Z6(c,m),p.current=u}),Q6(()=>{y.current=!0,m.clear(),d.clear()}),y.current)return O.createElement(O.Fragment,null,u.map(A=>O.createElement(Q_,{key:Kl(A),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},A)));u=[...u];const x=p.current.map(Kl),_=c.map(Kl),g=x.length;for(let A=0;A<g;A++){const S=x[A];_.indexOf(S)===-1&&!d.has(S)&&d.set(S,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((A,S)=>{if(_.indexOf(S)!==-1)return;const w=m.get(S);if(!w)return;const b=x.indexOf(S);let T=A;if(!T){const C=()=>{d.delete(S);const B=Array.from(m.keys()).filter(P=>!_.includes(P));if(B.forEach(P=>m.delete(P)),p.current=c.filter(P=>{const L=Kl(P);return L===S||B.includes(L)}),!d.size){if(l.current===!1)return;a(),i&&i()}};T=O.createElement(Q_,{key:Kl(w),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:s,mode:o},w),d.set(S,T)}u.splice(b,0,T)}),u=u.map(A=>{const S=A.key;return d.has(S)?A:O.createElement(Q_,{key:Kl(A),isPresent:!0,presenceAffectsLayout:s,mode:o},A)}),O.createElement(O.Fragment,null,d.size?u:u.map(A=>O.cloneElement(A)))},Md="generated",tW="pointerdown",nW="pointerup",Rw="pointerleave",iW="pointerout",Pc="pointermove",rW="touchstart",FP="touchend",sW="touchmove",oW="touchcancel",aW="resize",lW="visibilitychange",ls="tsParticles - Error";class Ar{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Is(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${ls} Vector3d not initialized correctly`)}static get origin(){return Ar.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Ar.create(e.x,e.y,e.z)}static create(e,t,i){return new Ar(e,t,i)}add(e){return Ar.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Ar.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Ar.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Ar.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Ar.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Ar.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class hi extends Ar{constructor(e,t){super(e,t,0)}static get origin(){return hi.create(0,0)}static clone(e){return hi.create(e.x,e.y)}static create(e,t){return new hi(e,t)}}let cW=Math.random;const Pw=new Map;function Z_(n,e){Pw.get(n)||Pw.set(n,e)}function IO(n){return Pw.get(n)||(e=>e)}function hn(){return Fs(cW(),0,1-1e-16)}function Fs(n,e,t){return Math.min(Math.max(n,e),t)}function eA(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function ar(n){const e=ka(n);let t=aE(n);return e===t&&(t=0),hn()*(e-t)+t}function pt(n){return Is(n)?n:ar(n)}function aE(n){return Is(n)?n:n.min}function ka(n){return Is(n)?n:n.max}function Bt(n,e){if(n===e||e===void 0&&Is(n))return n;const t=aE(n),i=ka(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Bt(t,i)}function Lc(n){const e=n.random,{enable:t,minimumValue:i}=Ka(e)?{enable:e,minimumValue:0}:e;return pt(t?Bt(n.value,i):n.value)}function Xi(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Pr(n,e){return Xi(n,e).distance}function uW(n,e,t){if(Is(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return hn()*Math.PI*2}}function fW(n){const e=hi.origin;return e.length=1,e.angle=n,e}function OP(n,e,t,i){return hi.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function hW(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??hn()*n.size.width,y:((t=n.position)==null?void 0:t.y)??hn()*n.size.height}}function BO(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const dW={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Ic(){return dW}function kP(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&o>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function pW(n,e){const t=pi(e,i=>n.matches(i));return Lr(t)?t.some(i=>i):t}function Nf(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function mW(){return!Nf()&&typeof matchMedia<"u"}function DO(n){if(mW())return matchMedia(n)}function gW(n){if(!(Nf()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Un(n,e){return n===e||Lr(e)&&e.indexOf(n)>-1}async function yW(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function vW(n){return Math.floor(hn()*n.length)}function fv(n,e,t=!0){return n[e!==void 0&&t?e%n.length:vW(n)]}function lE(n,e,t,i,r){return xW(Op(n,i??0),e,t,r)}function xW(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function Op(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Bi(n,...e){for(const t of e){if(t==null)continue;if(!af(t)){n=t;continue}const i=Array.isArray(t);i&&(af(n)||!n||!Array.isArray(n))?n=[]:!i&&(af(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=af(o)&&Array.isArray(o)?o.map(l=>Bi(a[r],l)):Bi(a[r],o)}}return n}function cE(n,e){return!!kO(e,t=>t.enable&&Un(n,t.mode))}function uE(n,e,t){pi(e,i=>{const r=i.mode;i.enable&&Un(n,r)&&_W(i,t)})}function _W(n,e){const t=n.selectors;pi(t,i=>{e(i,n)})}function FO(n,e){if(!(!e||!n))return kO(n,t=>pW(e,t.selectors))}function Lw(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:hi.create(Lc(n.options.bounce.horizontal),Lc(n.options.bounce.vertical))}}function OO(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:o,dy:a}=Xi(s,r);if(t*o+i*a<0)return;const l=-Math.atan2(a,o),c=n.mass,u=e.mass,d=n.velocity.rotate(l),p=e.velocity.rotate(l),m=OP(d,p,c,u),y=OP(p,d,c,u),x=m.rotate(-l),_=y.rotate(-l);n.velocity.x=x.x*n.factor.x,n.velocity.y=x.y*n.factor.y,e.velocity.x=_.x*e.factor.x,e.velocity.y=_.y*e.factor.y}function AW(n,e){const t=n.getPosition(),i=n.getRadius(),r=Op(t,i),s=kP({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:Lc(n.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(n.velocity.x=s.velocity),s.position!==void 0&&(n.position.x=s.position));const o=kP({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:Lc(n.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function pi(n,e){return Lr(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Ko(n,e,t){return Lr(n)?fv(n,e,t):n}function kO(n,e){return Lr(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function NO(n,e){const t=n.value,i=n.animation,r={delayTime:pt(i.delay)*1e3,enable:i.enable,value:pt(n.value)*e,max:ka(t)*e,min:aE(t)*e,loops:0,maxLoops:pt(i.count),time:0};if(i.enable){switch(r.decay=1-pt(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=hn()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=ar(r),s&&(r.status=hn()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function SW(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function UO(n,e){return SW(n,e)}function Ka(n){return typeof n=="boolean"}function Ls(n){return typeof n=="string"}function Is(n){return typeof n=="number"}function zO(n){return typeof n=="function"}function af(n){return typeof n=="object"&&n!==null}function Lr(n){return Array.isArray(n)}const S0="random",by="mid",hv=new Map;function NP(n){hv.set(n.key,n)}function tA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function wW(n){for(const[,s]of hv)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Bs(n,e,t=!0){if(!n)return;const i=Ls(n)?{value:n}:n;if(Ls(i.value))return HO(i.value,e,t);if(Lr(i.value))return Bs({value:fv(i.value,e,t)});for(const[,r]of hv){const s=r.handleRangeColor(i);if(s)return s}}function HO(n,e,t=!0){if(!n)return;const i=Ls(n)?{value:n}:n;if(Ls(i.value))return i.value===S0?VO():MW(i.value);if(Lr(i.value))return HO({value:fv(i.value,e,t)});for(const[,r]of hv){const s=r.handleColor(i);if(s)return s}}function ep(n,e,t=!0){const i=Bs(n,e,t);return i?GO(i):void 0}function GO(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function MW(n){return wW(n)}function Uf(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=tA(r,i,t.h+1/3),e.g=tA(r,i,t.h),e.b=tA(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function EW(n){const e=Uf(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function VO(n){const e=n??0;return{b:Math.floor(ar(Bt(e,256))),g:Math.floor(ar(Bt(e,256))),r:Math.floor(ar(Bt(e,256)))}}function Yo(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function tp(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function fE(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=Uf(n)),s.r===void 0&&(s=Uf(e)),{b:eA(r.b,s.b,t,i),g:eA(r.g,s.g,t,i),r:eA(r.r,s.r,t,i)}}function Iw(n,e,t){if(t===S0)return VO();if(t===by){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return fE(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return Uf(s)}}else return t}function WO(n,e,t){const i=Ls(n)?n:n.value;return i===S0?t?Bs({value:i}):e?S0:by:i===by?by:Bs({value:i})}function UP(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function jO(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(nA(i.h,e.h,t),nA(i.s,e.s,t),nA(i.l,e.l,t)),i}function nA(n,e,t){n.enable=e.enable,n.enable?(n.velocity=pt(e.speed)/100*t,n.decay=1-pt(e.decay),n.status="increasing",n.loops=0,n.maxLoops=pt(e.count),n.time=0,n.delayTime=pt(e.delay)*1e3,e.sync||(n.velocity*=hn(),n.value*=hn()),n.initialValue=n.value):n.velocity=0}function Ed(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function bW(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function TW(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function CW(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function iA(n,e){n.clearRect(0,0,e.width,e.height)}function RW(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:u,transform:d}=n,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),y={sin:Math.sin(m),cos:Math.cos(m)},x={a:y.cos*(d.a??1),b:y.sin*(d.b??1),c:-y.sin*(d.c??1),d:y.cos*(d.d??1)};t.setTransform(x.a,x.b,x.c,x.d,p.x,p.y),t.beginPath(),o&&(t.globalCompositeOperation=a);const _=i.shadowColor;u.enable&&_&&(t.shadowBlur=u.blur,t.shadowColor=Yo(_),t.shadowOffsetX=u.offset.x,t.shadowOffsetY=u.offset.y),s.fill&&(t.fillStyle=s.fill);const g=i.strokeWidth??0;t.lineWidth=g,s.stroke&&(t.strokeStyle=s.stroke),PW(e,t,i,l,c,r),g>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),LW(e,t,i,l,c,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function PW(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function LW(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);!o||!o.afterEffect||o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function IW(n,e,t){e.draw&&e.draw(n,t)}function BW(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function DW(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function FW(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}let OW=class{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:u}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),u&&(o.stroke=u)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const u in c)FW(a,c,u)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=ep(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=ep(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=Bs(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=Yo(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Bi({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=Bs(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>TW(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>CW(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Yo(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{iA(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var S;const c=this.container,u=c.actualOptions,d=e.options.zIndex,p=(1-e.zIndexFactor)**d.opacityRate,m=e.bubble.opacity??((S=e.opacity)==null?void 0:S.value)??1,y=e.strokeOpacity??m,x=m*p,_=y*p,g={},A={fill:o?tp(o,x):void 0};A.stroke=a?tp(a,_):A.fill,this._applyPreDrawUpdaters(l,e,i,x,A,g),RW({container:c,context:l,particle:e,delta:t,colorStyles:A,backgroundMask:u.backgroundMask.enable,composite:u.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**d.sizeRate,opacity:x,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>BW(r,e,t,i))}drawPlugin(e,t){this.draw(i=>IW(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=gW(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){Ic().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=Bs(t.color);r.backgroundColor=s?Yo(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Md in e.dataset?e.dataset[Md]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Bi({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(iA(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>iA(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};function $r(n,e,t,i,r){if(i){let s={passive:!0};Ka(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class kW{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;pi(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&($r(a,Pc,r.mouseMove,i),$r(a,rW,r.touchStart,i),$r(a,sW,r.touchMove,i),o.interactivity.events.onClick.enable?($r(a,FP,r.touchEndClick,i),$r(a,nW,r.mouseUp,i),$r(a,tW,r.mouseDown,i)):$r(a,FP,r.touchEnd,i),$r(a,t,r.mouseLeave,i),$r(a,oW,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=Rw;o==="window"?(r.interactivity.element=window,l=iW):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&$r(document,lW,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=DO("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){$r(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){$r(window,aW,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Rw,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const u=o.getBoundingClientRect();a={x:c.clientX-u.left,y:c.clientY-u.top}}}else if(r.interactivity.detectsOn==="parent"){const u=c.target,d=c.currentTarget;if(u&&d&&o){const p=u.getBoundingClientRect(),m=d.getBoundingClientRect(),y=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+y.left),y:c.offsetY+2*p.top-(m.top+y.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,u=c.touches[c.touches.length-1],d=o.getBoundingClientRect();a={x:u.clientX-(d.left??0),y:u.clientY-(d.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=Pc},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Si{constructor(){this.value=""}static create(e,t){const i=new Si;return i.load(e),t!==void 0&&(Ls(t)||Lr(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}let NW=class{constructor(){this.color=new Si,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Si.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}};class UW{constructor(){this.color=new Si,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Si.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class zW{constructor(){this.composite="destination-out",this.cover=new UW,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Ls(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class HW{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class GW{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class zP{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return pi(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=pi(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class VW{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class WW{constructor(){this.enable=!1,this.mode=[],this.parallax=new VW}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class jW{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class XW{constructor(){this.onClick=new GW,this.onDiv=new zP,this.onHover=new WW,this.resize=new jW}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=pi(t,i=>{const r=new zP;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Ka(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class JW{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class XO{constructor(e,t){this.detectsOn="window",this.events=new XW,this.modes=new JW(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class KW{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Bi({},e.options)))}}class YW{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Bi({},e.options)))}}class qW{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class $W{constructor(){this.name="",this.default=new qW}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Bi({},e.options)))}}class rA{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Bt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Bt(e.offset)),e.speed!==void 0&&(this.speed=Bt(e.speed)),e.decay!==void 0&&(this.decay=Bt(e.decay)),e.delay!==void 0&&(this.delay=Bt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class QW{constructor(){this.h=new rA,this.s=new rA,this.l=new rA}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class np extends Si{constructor(){super(),this.animation=new QW}static create(e,t){const i=new np;return i.load(e),t!==void 0&&(Ls(t)||Lr(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class ZW{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class ej{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class tj{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Bt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Bt(e.speed)),e.decay!==void 0&&(this.decay=Bt(e.decay)),e.delay!==void 0&&(this.delay=Bt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class JO extends tj{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class nj{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class ml{constructor(){this.random=new nj,this.value=0}load(e){e&&(Ka(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Bt(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class HP extends ml{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class KO{constructor(){this.horizontal=new HP,this.vertical=new HP}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class ij{constructor(){this.absorb=new ZW,this.bounce=new KO,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new ej}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Bt(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class rj{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Bt(e.offset)),e.value!==void 0&&(this.value=Bt(e.value)))}}class sj{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=Bt(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class oj{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class aj{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Bt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Bt(e.maxSpeed)))}}class lj{constructor(){this.clamp=!0,this.delay=new ml,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Bi(this.options,e.options)))}}class cj{load(e){e&&(e.color!==void 0&&(this.color=Si.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class uj{constructor(){this.enable=!1,this.length=10,this.fill=new cj}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class fj{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class hj{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Bt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Bi({},e.position)))}}class dj{constructor(){this.angle=new rj,this.attract=new sj,this.center=new oj,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new aj,this.path=new lj,this.outModes=new fj,this.random=!1,this.size=!1,this.speed=2,this.spin=new hj,this.straight=!1,this.trail=new uj,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Is(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Bt(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Is(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Bt(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(af(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Bt(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class pj extends JO{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class mj extends ml{constructor(){super(),this.animation=new pj,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Bt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class gj{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class yj{constructor(){this.density=new gj,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class vj{constructor(){this.blur=0,this.color=new Si,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Si.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const sA="character",oA="char",aA="image",lA="images",cA="polygon",uA="star";let xj=class{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const s=Lr(e),o=s?[]:{},a=s!==Lr(this.options[t]),l=s!==Lr(this.options[i]);a&&(this.options[t]=o),l&&r&&(this.options[i]=o),this.options[t]=Bi(this.options[t]??o,e),(!this.options[i]||r)&&(this.options[i]=Bi(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[sA]??this.options[oA]}set character(e){this.options[oA]=this.options[sA]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[aA]??this.options[lA]}set image(e){this.options[lA]=this.options[aA]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[cA]??this.options[uA]}set polygon(e){this.options[uA]=this.options[cA]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Bi(this.options[i]??{},r))}this.loadShape(e.character,sA,oA,!0),this.loadShape(e.polygon,cA,uA,!1),this.loadShape(e.image??e.images,aA,lA,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class _j extends JO{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Aj extends ml{constructor(){super(),this.animation=new _j,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Bt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class GP{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=np.create(this.color,e.color)),e.width!==void 0&&(this.width=Bt(e.width)),e.opacity!==void 0&&(this.opacity=Bt(e.opacity)))}}class Sj extends ml{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class wj{constructor(e,t){this._engine=e,this._container=t,this.bounce=new KO,this.collisions=new ij,this.color=new np,this.color.value="#fff",this.groups={},this.move=new dj,this.number=new yj,this.opacity=new mj,this.reduceDuplicates=!1,this.shadow=new vj,this.shape=new xj,this.size=new Aj,this.stroke=new GP,this.zIndex=new Sj}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(np.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Bi(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Bi({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=pi(i,a=>{const l=new GP;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function YO(n,...e){for(const t of e)n.load(t)}function qO(n,e,...t){const i=new wj(n,e);return YO(i,...t),i}class Mj{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new NW,this.backgroundMask=new zW,this.defaultThemes={},this.delay=0,this.fullScreen=new HW,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new XO(e,t),this.manualParticles=[],this.particles=qO(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&pi(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Bt(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Bt(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Ka(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new KW;return c.load(l),c})),this.particles.load(e.particles),this.style=Bi(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new YW;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(u=>u.name===l.name);if(c)c.load(l);else{const u=new $W;u.load(l),this.themes.push(u)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=DO("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class Ej{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const VP=n=>{if(!Un(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class bj{constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,u=0)=>{for(const[,A]of a.plugins){const S=A.particlePosition!==void 0?A.particlePosition(l,this):void 0;if(S)return Ar.create(S.x,S.y,c)}const d=a.canvas.size,p=hW({size:d,position:l}),m=Ar.create(p.x,p.y,c),y=this.getRadius(),x=this.options.move.outModes,_=A=>{VP({outMode:A,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:S=>m.x+=S,radius:y})},g=A=>{VP({outMode:A,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:S=>m.y+=S,radius:y})};return _(x.left??x.default),_(x.right??x.default),g(x.top??x.default),g(x.bottom??x.default),this._checkOverlap(m,u)?this._calcPosition(a,void 0,c,u+1):m},this._calculateVelocity=()=>{const a=fW(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const u=Math.PI/180*pt(c.angle.value),d=Math.PI/180*pt(c.angle.offset),p={left:d-u/2,right:d+u/2};return c.straight||(l.angle+=ar(Bt(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=hn()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,u=this.getRadius();if(!c.enable)return!1;const d=c.overlap;if(d.enable)return!1;const p=d.retries;if(p>=0&&l>p)throw new Error(`${ls} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>Pr(a,m.position)<u+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?DW(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=pt(this.options.zIndex.value);this.position=this._calcPosition(l,a,Fs(c,0,l.zLayers)),this.initialPosition=this.position.copy();const u=l.canvas.size;switch(this.moveCenter={...UO(this.options.move.center,u),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=uW(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=hi.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Bi({close:a.close,fill:a.fill},Ko(c,this.id,l))},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??UP(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??UP(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=qO(this._engine,s,l.particles),u=c.shape.type,{reduceDuplicates:d}=c;this.shape=Ko(u,this.id,d);const p=c.shape;if(i&&i.shape&&i.shape.type){const S=i.shape.type,w=Ko(S,this.id,d);w&&(this.shape=w,p.load(i.shape))}this.shapeData=this._loadShapeData(p,d),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const y=new XO(o,s);y.load(s.actualOptions.interactivity),y.load(c.interactivity),this.interactivity=y,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const x=this.options.move.path;this.pathDelay=Lc(x.delay)*1e3,x.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(x.generator),this.pathGenerator&&s.addPath(x.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=NO(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-pt(this.options.move.decay);const _=s.particles;_.needsSort=_.needsSort||_.lastZIndex<this.position.z,_.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let g=s.drawers.get(this.shape);g||(g=this._engine.plugins.getShapeDrawer(this.shape),g&&s.drawers.set(this.shape,g)),g&&g.loadShape&&g.loadShape(this);const A=g==null?void 0:g.getSidesCount;A&&(this.sides=A(this)),this.spawning=!1,this.shadowColor=Bs(this.options.shadow.color);for(const S of s.particles.updaters)S.init(this);for(const S of s.particles.movers)S.init&&S.init(this);g&&g.particleInit&&g.particleInit(s,this);for(const[,S]of s.plugins)S.particleCreated&&S.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class Tj{constructor(e,t){this.position=e,this.particle=t}}class $O{constructor(e,t){this.position={x:e,y:t}}}class Os extends $O{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Di&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Os?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Di extends $O{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Pr(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Di){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Os){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class w0{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new w0(new Os(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&Pr(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new Di(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Os(e.x,e.y,t.width,t.height),i)}}const WP=4,jP=n=>new Os(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let Cj=class{constructor(e,t){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,u=a.limit>0?a.limit:c,d=Math.min(c,u)*l+s,p=Math.min(this.count,this.filter(y=>y.group===o).length);this.limit=a.limit*l,p<d?this.push(Math.abs(d-p),void 0,r,o):p>d&&this.removeQuantity(p-d,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new bj(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){Ic().warning(`${ls} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Ej(e,t);const i=t.canvas.size;this.quadTree=new w0(jP(i),WP),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?UO(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in t.particles.groups){const o=t.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<t.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new w0(jP(t.canvas.size),WP);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const s=t.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new Tj(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class Rj{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Nf()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=t.particles,s=r.move;this.attractDistance=pt(s.attract.distance)*i,this.maxSpeed=pt(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=pt(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.attractDistance=pt(r.attract.distance)*i,o.moveDrift=pt(r.drift)*i,o.moveSpeed=pt(r.speed)*i,o.sizeAnimationSpeed=pt(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=pt(r.gravity.maxSpeed)*i}}function vn(n){return n&&!n.destroyed}function Pj(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function yu(n,e,...t){const i=new Mj(n,e);return YO(i,...t),i}const Lj="default",XP={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Ij{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!vn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=Pj(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){Ic().error(`${ls} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Rj(this),this.canvas=new OW(this),this.particles=new Cj(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=yu(this._engine,this),this.actualOptions=yu(this._engine,this),this._eventListeners=new kW(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!vn(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,p,m)=>{if(!vn(this))return;const y=this.retina.pixelRatio,x={x:p.x*y,y:p.y*y},_=this.particles.quadTree.queryCircle(x,m*y);e(d,_)},r=d=>{if(!vn(this))return;const p=d,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(d,m,1)},s=()=>{vn(this)&&(c=!0,u=!1)},o=()=>{vn(this)&&(u=!0)},a=d=>{if(vn(this)){if(c&&!u){const p=d;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const y=this.canvas.element,x=y?y.getBoundingClientRect():void 0,_={x:m.clientX-(x?x.left:0),y:m.clientY-(x?x.top:0)};i(d,_,Math.max(m.radiusX,m.radiusY))}c=!1,u=!1}},l=()=>{vn(this)&&(c=!1,u=!1)};let c=!1,u=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!vn(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??XP),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!vn(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!vn(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Ic().error(`${ls} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&vn(this)}handleClickMode(e){if(vn(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!vn(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=yu(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=yu(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=pt(this.actualOptions.duration)*1e3,this._delay=pt(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){vn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(vn(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!vn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(vn(this))return this.stop(),this.start()}async reset(){if(vn(this))return this._initialSourceOptions=void 0,this._options=yu(this._engine,this),this.actualOptions=yu(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){vn(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!vn(this))return;const r={...XP};if(zO(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(Lj,r,!0)}async start(){!vn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!vn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}let Bj=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}};function fA(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class Dj{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){pi(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return fA(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return fA(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return fA(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}async function Fj(n){const e=Ko(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(Ic().error(`${ls} ${t.status} while retrieving config file`),n.fallback)}function Oj(n){return!n.id&&!n.element&&!n.url&&!n.options}function kj(n){return!Oj(n)}class Nj{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Bj,this._initialized=!1,this.plugins=new Dj(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){Ls(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,s,o=!0){let a,l=o,c,u,d;Ka(i)?(l=i,c=void 0):c=i,Ka(r)?(l=r,u=void 0):u=r,Ka(s)?(l=s,d=void 0):d=s,zO(t)?a={afterEffect:u,destroy:d,draw:t,init:c}:a=t,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return kj(e)?r=e:(r={},Ls(e)?r.id=e:r.options=e,Is(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,s;return Is(t)||t===void 0?r=e:(s=e,r=t),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const s={index:r};return Ls(e)?s.id=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,Is(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,t,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=t,s.index=i):(s.id=e,s.element=t,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${ls} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(hn()*1e4)}`,{index:i,url:r}=e,s=r?await Fj({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=Ko(s,i),l=this.dom(),c=l.findIndex(p=>p.id===t);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let u;if(o.tagName.toLowerCase()==="canvas")u=o,u.dataset[Md]="false";else{const p=o.getElementsByTagName("canvas");p.length?(u=p[0],u.dataset[Md]="false"):(u=document.createElement("canvas"),u.dataset[Md]="true",o.appendChild(u))}u.style.width||(u.style.width="100%"),u.style.height||(u.style.height="100%");const d=new Ij(this,t,a);return c>=0?l.splice(c,0,d):l.push(d),d.canvas.loadCanvas(u),await d.start(),d}}class Uj{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Uf(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Uf({h:pt(i.h),l:pt(i.l),s:pt(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?EW({a:i.length>4?BO(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class zj{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:pt(i.r),g:pt(i.g),b:pt(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?BO(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function Hj(){const n=new zj,e=new Uj;NP(n),NP(e);const t=new Nj;return t.init(),t}class go{constructor(e){this.container=e,this.type="external"}}class hE{constructor(e){this.container=e,this.type="particles"}}const M0=Hj();Nf()||(window.tsParticles=M0);const lf=n=>typeof n=="object"&&n!==null;function E0(n,e,t=()=>!1){if(!lf(n)||!lf(e))return n===e;const i=Object.keys(n).filter(s=>!t(s)),r=Object.keys(e).filter(s=>!t(s));if(i.length!==r.length)return!1;for(const s of i){const o=n[s],a=e[s];if(lf(o)&&lf(a)){if(o===e&&a===n)continue;if(!E0(o,a,t))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!QO(o,a,t))return!1}else if(o!==a)return!1}return!0}function QO(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!QO(r,s,t))return!1}else if(lf(r)&&lf(s)){if(!E0(r,s,t))return!1}else if(r!==s)return!1}return!0}const ZO="tsparticles";let e3=class t3 extends O.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!E0(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!E0(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(M0),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return Ii.createElement("div",{className:i,id:s},Ii.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??t3.defaultProps.id??ZO,t=await M0.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};e3.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:ZO};class b0{static init(e){var s;const t=new b0,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return M0.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,u,d;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(u=o.options)==null?void 0:u.speed},size:{value:(d=o.options)==null?void 0:d.sizeVariations}}}}})}).then(o=>{t._container=o}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const Gj=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,s)=>{n.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},Vj=n=>{const{particlesJS:e,pJSDom:t}=Gj(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=b0,{particlesJS:e,pJSDom:t,Particles:b0}};function Wj(n){const e=n.initialPosition,{dx:t,dy:i}=Xi(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!n.misplaced)n.misplaced=!!a&&r>a||!!l&&s>l,a&&(n.velocity.x=n.velocity.y/2-n.velocity.x),l&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!a||r<a)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,u=n.velocity;a&&(c.x<e.x&&u.x<0||c.x>e.x&&u.x>0)&&(u.x*=-hn()),l&&(c.y<e.y&&u.y<0||c.y>e.y&&u.y>0)&&(u.y*=-hn())}}}function jj(n,e,t,i,r,s){Jj(n,s);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&t&&(n.velocity.x+=r*s.factor/(60*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*s.factor)/(60*t));const l=n.moveDecay;n.velocity.multTo(l);const c=n.velocity.mult(t);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,t&&(n.velocity.y=c.y/t));const u=n.options.zIndex,d=(1-n.zIndexFactor)**u.velocityRate;c.multTo(d);const{position:p}=n;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function Xj(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function Jj(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(o=n.pathGenerator)==null?void 0:o.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Fs(n.velocity.x,-1,1),n.velocity.y=Fs(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function Kj(n){return n.slow.inRange?n.slow.factor:1}const Yj=2;class qj{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*t.canvas.size.width,y:s.y/100*t.canvas.size.height},a=e.getPosition(),l=Pr(a,o),c=pt(r.acceleration);e.retina.spinAcceleration=c*t.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:pt(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var y,x;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=Kj(e),l=((y=e.retina).moveSpeed??(y.moveSpeed=pt(r.speed)*o))*s.retina.reduceFactor,c=(x=e.retina).moveDrift??(x.moveDrift=pt(e.options.move.drift)*o),u=ka(i.size.value)*o,d=r.size?e.getRadius()/u:1,p=l*d*a*(t.factor||1)/Yj,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?Xj(e,p):jj(e,r,p,m,c,t),Wj(e)}}async function $j(n,e=!0){await n.addMover("base",()=>new qj,e)}class Qj{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};t.circleRange=af(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function Zj(n,e=!0){await n.addShape("circle",new Qj,e)}function hA(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=ar(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function e7(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:s}=n;if(!s)return;const{h:o,s:a,l}=s;o&&hA(e,o,t,360,!1),a&&hA(e,a,i,100,!0),l&&hA(e,l,r,100,!0)}class t7{constructor(e){this.container=e}init(e){const t=ep(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=jO(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){e7(e,t)}}async function n7(n,e=!0){await n.addParticleUpdater("color",t=>new t7(t),e)}function i7(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function r7(n,e){const t=n.opacity;if(n.destroyed||!(t!=null&&t.enable)||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,s=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=s),i7(n,t.value,i,r),n.destroyed||(t.value=Fs(t.value,i,r))}}class s7{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=NO(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=pt(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=hn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&r7(e,t)}}async function o7(n,e=!0){await n.addParticleUpdater("opacity",t=>new s7(t),e)}function a7(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=Lc(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function l7(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=Lc(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class c7{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),u=Op(a,c),d=s.canvas.size;a7({particle:e,outMode:r,direction:t,bounds:u,canvasSize:d,offset:l,size:c}),l7({particle:e,outMode:r,direction:t,bounds:u,canvasSize:d,offset:l,size:c})}}class u7{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(lE(e.position,s.canvas.size,hi.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:a}=Xi(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class f7{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&t==="bottom"||s.inverse&&c.y<-l&&t==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;lE(e.position,o.canvas.size,hi.origin,l,t)||o.particles.remove(e)}}}class h7{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=hi.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(hi.create(e.moveCenter));const{dx:c,dy:u}=Xi(e.position,l);if(o<=0&&c>=0||a<=0&&u>=0||o>=0&&c<=0||a>=0&&u<=0)return;e.position.x=Math.floor(ar({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(ar({min:0,max:s.canvas.size.height}));const{dx:d,dy:p}=Xi(e.position,e.moveCenter);e.direction=Math.atan2(-p,-d),e.velocity.angle=e.direction;break}default:{if(lE(e.position,s.canvas.size,hi.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(ar({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(ar({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Xi(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),u=Op(e.position,c);t==="right"&&u.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=hn()*a.height,e.initialPosition.y=e.position.y)):t==="left"&&u.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=hn()*a.height,e.initialPosition.y=e.position.y)),t==="bottom"&&u.top>a.height+e.offset.y?(o||(e.position.x=hn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t==="top"&&u.bottom<-e.offset.y&&(o||(e.position.x=hn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class d7{constructor(e){this.container=e,this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters)o.update(t,s,i,r)},this.updaters=[new c7(e),new u7(e),new h7(e),new f7(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function p7(n,e=!0){await n.addParticleUpdater("outModes",t=>new d7(t),e)}function m7(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function g7(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,s=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=s?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&o!==1&&(t.velocity*=o),m7(n,t.value,r,s),n.destroyed||(t.value=Fs(t.value,r,s))}}class y7{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=hn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&g7(e,t)}}async function v7(n,e=!0){await n.addParticleUpdater("size",()=>new y7,e)}async function x7(n,e=!0){await $j(n,!1),await Zj(n,!1),await n7(n,!1),await o7(n,!1),await p7(n,!1),await v7(n,!1),await n.refresh(e)}async function _7(){Z_("ease-in-quad",n=>n**2),Z_("ease-out-quad",n=>1-(1-n)**2),Z_("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class A7{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let S7=class extends go{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new Di(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new Di(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:u,dy:d,distance:p}=Xi(c.position,i),m=a.speed*a.factor,y=Fs(IO(a.easing)(1-p/r)*m,0,a.maxSpeed),x=hi.create(p===0?m:u/p*y,p===0?m:d/p*y);c.position.subFrom(x)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Pc,r=t.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Un("attract",o)?this._hoverAttract():a&&Un("attract",l)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Un("attract",o)||Un("attract",a)}loadModeOptions(e,...t){e.attract||(e.attract=new A7);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function w7(n,e=!0){await n.addInteractor("externalAttract",t=>new S7(n,t),e)}class M7{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class E7 extends go{constructor(e){super(e),this._processBounce=(t,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof Di?OO(Lw(o),{position:t,radius:i,mass:i**2*Math.PI/2,velocity:hi.origin,factor:hi.origin}):r instanceof Os&&AW(o,Op(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,s=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new Di(s.x,s.y,o+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,s=document.querySelectorAll(t);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},u=a.offsetWidth/2*l,d=10*l,p=i.type==="circle"?new Di(c.x,c.y,u+d):new Os(a.offsetLeft*l-d,a.offsetTop*l-d,a.offsetWidth*l+d*2,a.offsetHeight*l+d*2);this._processBounce(c,u,p)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===Pc,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Un("bounce",o)?this._processMouseBounce():uE("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Un("bounce",s.onHover.mode)||cE("bounce",o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new M7);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function b7(n,e=!0){await n.addInteractor("externalBounce",t=>new E7(t),e)}class n3{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Lr(this.color)?void 0:this.color;this.color=pi(e.color,i=>Si.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class T7 extends n3{constructor(){super(),this.selectors=[]}get ids(){return pi(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=pi(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class C7 extends n3{load(e){super.load(e),e&&(this.divs=pi(e.divs,t=>{const i=new T7;return i.load(t),i}))}}function JP(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Fs(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Fs(r,e,n)}}class R7 extends go{constructor(e){super(e),this._clickBubble=()=>{var c;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;t.bubble||(t.bubble={});const o=t.retina.bubbleModeDistance;if(!o||o<0)return;const a=t.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u)),{bubble:l}=t;for(const u of a){if(!l.clicking)continue;u.bubble.inRange=!l.durationEnd;const d=u.getPosition(),p=Pr(d,r),m=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const y={bubbleObj:{optValue:t.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:ka(u.options.size.value)*t.retina.pixelRatio,value:u.size.value},type:"size"};this._process(u,p,m,y);const x={bubbleObj:{optValue:s.opacity,value:u.bubble.opacity},particlesObj:{optValue:ka(u.options.opacity.value),value:((c=u.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(u,p,m,x),!l.durationEnd&&p<=o?this._hoverBubbleColor(u,p):delete u.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=t.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=Pr(a,i),c=1-l/r;l<=r?c>=0&&t.interactivity.status===Pc&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),t.interactivity.status===Rw&&this.reset(o)}},this._hoverBubbleColor=(t,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!t.bubble.finalColor){const a=o.color;if(!a)return;const l=Ko(a);t.bubble.finalColor=ep(l)}if(t.bubble.finalColor)if(o.mix){t.bubble.color=void 0;const a=t.getFillColor();t.bubble.color=a?GO(fE(a,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{var d,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((d=o.interactivity.modes.bubble)==null?void 0:d.opacity);if(!a)return;const l=t.options.opacity.value,c=((p=t.opacity)==null?void 0:p.value)??1,u=JP(c,a,ka(l),i);u!==void 0&&(t.bubble.opacity=u)},this._hoverBubbleSize=(t,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=ka(t.options.size.value)*s.retina.pixelRatio,l=t.size.value,c=JP(l,o,a,i);c!==void 0&&(t.bubble.radius=c)},this._process=(t,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const u=c.duration,d=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,y=s.particlesObj.value||0,x=s.type;if(!(!d||d<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity);else if(i<=d){if((m??y)!==a){const g=y-r*(y-a)/u;x==="size"&&(t.bubble.radius=g),x==="opacity"&&(t.bubble.opacity=g)}}else x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},p=c.offsetWidth/2*u,m=r.type==="circle"?new Di(d.x,d.y,p):new Os(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),y=s.particles.quadTree.query(m,x=>this.isEnabled(x));for(const x of y){if(!m.contains(x.getPosition()))continue;x.bubble.inRange=!0;const _=a.divs,g=FO(_,c);(!x.bubble.div||x.bubble.div!==c)&&(this.clear(x,t,!0),x.bubble.div=c),this._hoverBubbleSize(x,1,g),this._hoverBubbleOpacity(x,1,g),this._hoverBubbleColor(x,1,g)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,u=i.onDiv;o&&Un("bubble",a)?this._hoverBubble():l&&Un("bubble",c)?this._clickBubble():uE("bubble",u,(d,p)=>this._singleSelectorHover(e,d,p))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=cE("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Un("bubble",l.mode)||Un("bubble",o.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new C7);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function P7(n,e=!0){await n.addInteractor("externalBubble",t=>new R7(t),e)}class L7{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class I7{constructor(){this.distance=80,this.links=new L7,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function B7(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=t.getPosition(),c=fE(s,o,e.getRadius(),t.getRadius()),u=n.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(0,tp(s,i)),u.addColorStop(r>1?1:r,Yo(c,i)),u.addColorStop(1,tp(o,i)),u}function D7(n,e,t,i,r){Ed(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function F7(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return B7(e,t,i,s.links.opacity)}function O7(n,e,t){n.canvas.draw(i=>{const r=F7(n,i,e,t);if(!r)return;const s=e.getPosition(),o=t.getPosition();D7(i,e.retina.linksWidth??0,r,s,o)})}class k7 extends go{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const u=c.getPosition(),d=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-u.x),m=Math.abs(l.y-u.y);p<d&&m<d&&O7(e,a,c)}++o}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Un("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new I7);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function N7(n,e=!0){await n.addInteractor("externalConnect",t=>new k7(t),e)}class U7{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Si.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class z7{constructor(){this.distance=100,this.links=new U7}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function H7(n,e,t,i,r,s){Ed(n,t,i),n.strokeStyle=Yo(r,s),n.lineWidth=e,n.stroke()}function G7(n,e,t,i,r){n.canvas.draw(s=>{const o=e.getPosition();H7(s,e.retina.linksWidth??0,o,r,t,i)})}class V7 extends go{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Pc)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),u=Pr(c,r);if(u>s)continue;const d=i.modes.grab.links,p=d.opacity,m=p-u*p/s;if(m<=0)continue;const y=d.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&y){const _=i.modes.grab.links;e.particles.grabLineColor=WO(y,_.blink,_.consent)}const x=Iw(l,void 0,e.particles.grabLineColor);x&&G7(e,l,x,m,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Un("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new z7);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function W7(n,e=!0){await n.addInteractor("externalGrab",t=>new V7(t),e)}class j7 extends go{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function X7(n,e=!0){await n.addInteractor("externalPause",t=>new j7(t),e)}class J7{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Bt(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Bt(t))}}class K7 extends go{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=pt(s.quantity);if(o<=0)return;const a=fv([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new J7);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function Y7(n,e=!0){await n.addInteractor("externalPush",t=>new K7(t),e)}class q7{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Bt(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Bt(t))}}class $7 extends go{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const s=pt(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new q7);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function Q7(n,e=!0){await n.addInteractor("externalRemove",t=>new $7(t),e)}class i3{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class Z7 extends i3{constructor(){super(),this.selectors=[]}get ids(){return pi(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=pi(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class eX extends i3{load(e){super.load(e),e&&(this.divs=pi(e.divs,t=>{const i=new Z7;return i.load(t),i}))}}class tX extends go{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Di(l.x,l.y,a),u=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(const d of u){const{dx:p,dy:m,distance:y}=Xi(l,d.position),x=y**2,_=r.speed,g=-a*_/x;if(x<=a){s.particles.push(d);const A=hi.create(p,m);A.length=g,d.velocity.setTo(A)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new Di(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,u=>this.isEnabled(u)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const u of l){const{dx:d,dy:p,distance:m}=Xi(u.position,i),y=((o==null?void 0:o.speed)??c.speed)*c.factor,x=Fs(IO(c.easing)(1-m/r)*y,0,c.maxSpeed),_=hi.create(m===0?y:d/m*x,m===0?y:p/m*x);u.position.addTo(_)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},p=c.offsetWidth/2*u,m=r.type==="circle"?new Di(d.x,d.y,p):new Os(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),y=o.divs,x=FO(y,c);this._processRepulse(d,p,m,x)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Pc,r=t.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,u=l.mode,d=r.onDiv;i&&o&&Un("repulse",a)?this._hoverRepulse():c&&Un("repulse",u)?this._clickRepulse():uE("repulse",d,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=cE("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=a.mode,d=l.mode;return Un("repulse",u)||Un("repulse",d)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new eX);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function nX(n,e=!0){await n.addInteractor("externalRepulse",t=>new tX(n,t),e)}class iX{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class rX extends go{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Un("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new iX);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=Pr(r,a),c=l/s,u=o.factor,{slow:d}=e;l>s||(d.inRange=!0,d.factor=c/u)}}async function sX(n,e=!0){await n.addInteractor("externalSlow",t=>new rX(t),e)}const dA=[0,4,2,1],KP=[8,8,4,2];class oX{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function r3(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function aX(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const a=n.nextByte();o&&i(a),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function lX(n,e,t,i,r,s){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const a=n.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const u=1<<(a&7)+1;l&&(o.localColorTable=r3(n,u));const d=g=>{const{r:A,g:S,b:w}=(l?o.localColorTable:e.globalColorTable)[g];return{r:A,g:S,b:w,a:g===r(null)?t?~~((A+S+w)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(g){if(g instanceof DOMException&&g.name==="IndexSizeError")return null;throw g}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=n.nextByte(),y=n.readSubBlocksBin(),x=1<<m,_=(g,A)=>{const S=g>>>3,w=g&7;return(y[S]+(y[S+1]<<8)+(y[S+2]<<16)&(1<<A)-1<<w)>>>w};if(c){for(let g=0,A=m+1,S=0,w=[[0]],b=0;b<4;b++){if(dA[b]<o.height)for(let T=0,C=0;;){const B=g;if(g=_(S,A),S+=A+1,g===x){A=m+1,w.length=x+2;for(let P=0;P<w.length;P++)w[P]=P<x?[P]:[]}else{g>=w.length?w.push(w[B].concat(w[B][0])):B!==x&&w.push(w[B].concat(w[g][0]));for(let P=0;P<w[g].length;P++){const{r:L,g:U,b:te,a:ne}=d(w[g][P]);p.data.set([L,U,te,ne],dA[b]*o.width+KP[b]*C+T%(o.width*4)),T+=4}w.length===1<<A&&A<12&&A++}if(T===o.width*4*(C+1)&&(C++,dA[b]+KP[b]*C>=o.height))break}s==null||s(n.pos/(n.data.length-1),i(!1)+1,p,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let g=0,A=m+1,S=0,w=[[0]],b=-4;;){const T=g;if(g=_(S,A),S+=A,g===x){A=m+1,w.length=x+2;for(let C=0;C<w.length;C++)w[C]=C<x?[C]:[]}else{if(g===x+1)break;g>=w.length?w.push(w[T].concat(w[T][0])):T!==x&&w.push(w[T].concat(w[g][0]));for(let C=0;C<w[g].length;C++){const{r:B,g:P,b:L,a:U}=d(w[g][C]);p.data.set([B,P,L,U],b+=4)}w.length>=1<<A&&A<12&&A++}}o.image=p,o.bitmap=await createImageBitmap(p),s==null||s((n.pos+1)/n.data.length,i(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function cX(n,e,t,i,r,s){switch(n.nextByte()){case 59:return!0;case 44:await lX(n,e,t,i,r,s);break;case 33:await aX(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function uX(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function fX(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new oX(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,u=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=r3(o,c));const d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(w){if(w instanceof DOMException&&w.name==="IndexSizeError")return null;throw w}})();if(d==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:y}=s.globalColorTable[u];d.data.set(l?[p,m,y,255]:[0,0,0,0]);for(let w=4;w<d.data.length;w*=2)d.data.copyWithin(w,0,w);s.backgroundImage=d;let x=-1,_=!0,g=-1;const A=w=>(w&&(_=!0),x),S=w=>(w!=null&&(g=w),g);try{do _&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),x++,g=-1,_=!1);while(!await cX(o,s,t,A,S,e));s.frames.length--;for(const w of s.frames){if(w.userInputDelayFlag&&w.delayTime===0){s.totalTime=1/0;break}s.totalTime+=w.delayTime}return s}catch(w){throw w instanceof EvalError?new Error(`error while parsing frame ${x} "${w.message}"`):w}}const hX=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function dX(n,e,t){const{svgData:i}=n;if(!i)return"";const r=tp(e,t);if(i.includes("fill"))return i.replace(hX,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function dv(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,Ic().error(`${ls} loading image: ${n.source}`),e()}),t.src=n.source})}async function pX(n){if(n.type!=="gif"){await dv(n);return}n.loading=!0;try{n.gifData=await fX(n.source),n.gifLoopCount=uX(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function mX(n){if(n.type!=="svg"){await dv(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(Ic().error(`${ls} Image not found`),n.error=!0),n.loading=!1}function gX(n,e,t,i){var o;const r=dX(n,t,((o=i.opacity)==null?void 0:o.value)??1),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,u=c.createObjectURL(l),d=new Image;d.addEventListener("load",()=>{s.loaded=!0,s.element=d,a(s),c.revokeObjectURL(u)}),d.addEventListener("error",async()=>{c.revokeObjectURL(u);const p={...n,error:!1,loading:!0};await dv(p),s.loaded=!0,s.element=p.element,a(s)}),d.src=u})}class yX{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${ls} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,s){const o=t.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),t.gifLoopCount===void 0&&(t.gifLoopCount=o.gifLoopCount??0);let u=t.gifFrame??0;const d={x:-o.gifData.width*.5,y:-o.gifData.height*.5},p=o.gifData.frames[u];if(t.gifTime===void 0&&(t.gifTime=0),!p.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,d.x+p.left,d.y+p.top):c.putImageData(o.gifData.backgroundImage,d.x,d.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(t.gifTime+=s.value,t.gifTime>p.delayTime){if(t.gifTime-=p.delayTime,++u>=o.gifData.frames.length){if(--t.gifLoopCount<=0)return;u=0,c.clearRect(0,0,l.width,l.height)}t.gifFrame=u}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,s=t.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;o.svgData&&s?l=await gX(o,r,s,t):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??t.fill,u=r.close??t.close,d={image:l,fill:c,close:u};t.image=d.image,t.fill=d.fill,t.close=d.close})()}}class vX{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class xX{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new vX;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function _X(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ls} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?pX:e.replaceColor?mX:dv)(t)}catch{throw new Error(`${ls} ${e.name??e.src} not found`)}})}async function AX(n,e=!0){_X(n);const t=new xX(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new yX(n),e)}class SX extends ml{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class wX extends ml{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class MX{constructor(){this.count=0,this.delay=new SX,this.duration=new wX}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class EX{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?pt(r.delay.value)*(r.delay.sync?1:hn())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?pt(r.duration.value)*(r.duration.sync?1:hn())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new MX);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=Bt(0,s.width),a=Bt(0,s.width);e.position.x=ar(o),e.position.y=ar(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=pt(l.delay.value)*1e3,i.duration=pt(l.duration.value)*1e3)}}async function bX(n,e=!0){await n.addParticleUpdater("life",t=>new EX(t),e)}class TX{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function CX(n,e=!0){await n.addShape("line",new TX,e)}class RX{init(){}isEnabled(e){return!Nf()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Nf()||!r.enable)return;const s=r.force,o=t.interactivity.mouse.position;if(!o)return;const a=t.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,u=e.getRadius()/s,d={x:(o.x-l.x)*u,y:(o.y-l.y)*u},{offset:p}=e;p.x+=(d.x-p.x)/c,p.y+=(d.y-p.y)/c}}async function PX(n,e=!0){await n.addMover("parallax",()=>new RX,e)}class LX extends hE{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Xi(r,a),u=e.options.move.attract.rotate,d=l/(u.x*1e3),p=c/(u.y*1e3),m=o.size.value/e.size.value,y=1/m;e.velocity.x-=d*m,e.velocity.y-=p*m,o.velocity.x+=d*y,o.velocity.y+=p*y}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function IX(n,e=!0){await n.addInteractor("particlesAttract",t=>new LX(t),e)}function YP(n,e,t,i,r,s){const o=Fs(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=o/2,t.size.value-=o,i<=s&&(t.size.value=0,t.destroy())}function BX(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?YP(n,r,e,s,t,i):YP(e,s,n,r,t,i))}const qP=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=pt(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function s3(n,e){OO(Lw(n),Lw(e)),qP(n),qP(e)}function DX(n,e){!n.unbreakable&&!e.unbreakable&&s3(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function FX(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{BX(n,e,t,i);break}case"bounce":{s3(n,e);break}case"destroy":{DX(n,e);break}}}class OX extends hE{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const u=Pr(r,l),d=s+c;u>d||FX(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function kX(n,e=!0){await n.addInteractor("particlesCollisions",t=>new OX(t),e)}class NX extends Di{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Di(r.x,r.y,i.radius*2);return super.intersects(s)}else if(t.size!==void 0){const s=new Os(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(s)}return!1}}class UX{constructor(){this.blur=5,this.color=new Si,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Si.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class zX{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Si.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class HX{constructor(){this.blink=!1,this.color=new Si,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new UX,this.triangles=new zX,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Si.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function GX(n,e,t,i,r){const{dx:s,dy:o,distance:a}=Xi(n,e);if(!r||a<=t)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class VX extends hE{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=WO(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new NX(t.x,t.y,a,r):new Di(t.x,t.y,a),u=i.particles.quadTree.query(c);for(const d of u){const p=d.options.links;if(e===d||!(p!=null&&p.enable)||s.id!==p.id||d.spawning||d.destroyed||!d.links||e.links.some(_=>_.destination===d)||d.links.some(_=>_.destination===e))continue;const m=d.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const y=GX(t,m,a,r,l&&p.warp);if(y>a)continue;const x=(1-y/a)*o;this._setColor(e),e.links.push({destination:d,opacity:x})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new HX);for(const i of t)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function WX(n,e=!0){await n.addInteractor("particlesLinks",t=>new VX(t),e)}function jX(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:u,links:d}=n;if(Pr(t,i)<=r)Ed(s,t,i),e=!0;else if(d.warp){let m,y;const x={x:i.x-o.width,y:i.y},_=Xi(t,x);if(_.distance<=r){const g=t.y-_.dy/_.dx*t.x;m={x:0,y:g},y={x:o.width,y:g}}else{const g={x:i.x,y:i.y-o.height},A=Xi(t,g);if(A.distance<=r){const w=-(t.y-A.dy/A.dx*t.x)/(A.dy/A.dx);m={x:w,y:0},y={x:w,y:o.height}}else{const S={x:i.x-o.width,y:i.y-o.height},w=Xi(t,S);if(w.distance<=r){const b=t.y-w.dy/w.dx*t.x;m={x:-b/(w.dy/w.dx),y:b},y={x:m.x+o.width,y:m.y+o.height}}}}m&&y&&(Ed(s,t,m),Ed(s,i,y),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=Yo(c,u);const{shadow:p}=d;if(p.enable){const m=Bs(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=Yo(m))}s.stroke()}function XX(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=n;bW(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Yo(o,a),e.fill()}function JX(n){return n.sort((e,t)=>e-t),n.join("_")}function $P(n,e){const t=JX(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=hn(),e.set(t,i)),i}class KX{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=t.getPosition(),c=a.getPosition();let u=i.opacity;s.canvas.draw(d=>{var g;let p;const m=(g=t.options.twinkle)==null?void 0:g.lines;if(m!=null&&m.enable){const A=m.frequency,S=Bs(m.color);hn()<A&&S&&(p=S,u=pt(m.opacity))}if(!p){const A=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=Iw(t,a,A)}if(!p)return;const y=t.retina.linksWidth??0,x=t.retina.linksDistance??0,{backgroundMask:_}=o;jX({context:d,width:y,begin:l,end:c,maxDistance:x,canvasSize:s.canvas.size,links:r,backgroundMask:_,colorLine:p,opacity:u})})},this._drawLinkTriangle=(t,i,r)=>{const s=t.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,u=r.destination,d=o.opacity??(i.opacity+r.opacity)/2;d<=0||a.canvas.draw(p=>{const m=t.getPosition(),y=c.getPosition(),x=u.getPosition(),_=t.retina.linksDistance??0;if(Pr(m,y)>_||Pr(x,y)>_||Pr(x,m)>_)return;let g=Bs(o.color);if(!g){const A=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;g=Iw(t,c,A)}g&&XX({context:p,pos1:m,pos2:y,pos3:x,backgroundMask:l.backgroundMask,colorTriangle:g,opacityTriangle:d})})},this._drawTriangles=(t,i,r,s)=>{var l,c,u;const o=r.destination;if(!((l=t.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(u=o.links)==null?void 0:u.filter(d=>{const p=this._getLinkFrequency(o,d.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===d.destination)>=0});if(a!=null&&a.length)for(const d of a){const p=d.destination;this._getTriangleFrequency(i,o,p)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,d)}},this._getLinkFrequency=(t,i)=>$P([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>$P([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(t,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class YX{constructor(){this.id="links"}getPlugin(e){return new KX(e)}loadOptions(){}needsPlugin(){return!0}}async function qX(n,e=!0){const t=new YX;await n.addPlugin(t,e)}async function $X(n,e=!0){await WX(n,e),await qX(n,e)}class o3{draw(e,t,i){const r=this.getCenter(t,i),s=this.getSidesData(t,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let u=0;u<o;u++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const t=e.shapeData;return Math.round(pt((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}}class QX extends o3{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class ZX extends o3{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function eJ(n,e=!0){await n.addShape("polygon",new QX,e)}async function tJ(n,e=!0){await n.addShape("triangle",new ZX,e)}async function nJ(n,e=!0){await eJ(n,e),await tJ(n,e)}class iJ{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Bt(e.speed)),e.decay!==void 0&&(this.decay=Bt(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class rJ extends ml{constructor(){super(),this.animation=new iJ,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function sJ(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,s=(t.velocity??0)*e.factor,o=2*Math.PI,a=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=s,t.value>o&&(t.value-=o);break;case"decreasing":default:t.value-=s,t.value<0&&(t.value+=o);break}t.velocity&&a!==1&&(t.velocity*=a)}}class oJ{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:pt(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(hn()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-pt(r.decay),e.rotate.velocity=pt(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=hn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new rJ);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){var i;this.isEnabled(e)&&(sJ(e,t),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function aJ(n,e=!0){await n.addParticleUpdater("rotate",t=>new oJ(t),e)}const lJ=Math.sqrt(2);class cJ{draw(e,t,i){const r=i/lJ,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function uJ(n,e=!0){await n.addShape(["edge","square"],new cJ,e)}class fJ{draw(e,t,i){const r=t.sides,s=t.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(pt((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}particleInit(e,t){const i=t.shapeData,r=pt((i==null?void 0:i.inset)??2);t.starInset=r}}async function hJ(n,e=!0){await n.addShape("star",new fJ,e)}function pA(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=ar(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function dJ(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:s,s:o,l:a}=n.strokeAnimation;t&&pA(e,t,s,360,!1),i&&pA(e,i,o,100,!0),r&&pA(e,r,a,100,!0)}class pJ{constructor(e){this.container=e}init(e){var o;const t=this.container,i=e.options,r=Ko(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=pt(r.width)*t.retina.pixelRatio,e.strokeOpacity=pt(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=ep(r.color)??e.getFillColor();s&&(e.strokeColor=jO(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&dJ(e,t)}}async function mJ(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new pJ(t),e)}const Ty=["text","character","char"];class gJ{draw(e,t,i,r){const s=t.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;t.text===void 0&&(t.text=Ko(o,t.randomIndexData));const a=t.text,l=s.style??"",c=s.weight??"400",u=Math.round(i)*2,d=s.font??"Verdana",p=t.fill,m=a.length*i/2;e.font=`${l} ${c} ${u}px "${d}"`;const y={x:-m,y:i/2};e.globalAlpha=r,p?e.fillText(a,y.x,y.y):e.strokeText(a,y.x,y.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(Ty.find(i=>Un(i,t.particles.shape.type))){const i=Ty.map(s=>t.particles.shape.options[s]).find(s=>!!s),r=[];pi(i,s=>{r.push(yW(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!Ty.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Ko(r,t.randomIndexData))}}async function yJ(n,e=!0){await n.addShape(Ty,new gJ,e)}async function vJ(n,e=!0){Vj(n),await PX(n,!1),await w7(n,!1),await b7(n,!1),await P7(n,!1),await N7(n,!1),await W7(n,!1),await X7(n,!1),await Y7(n,!1),await Q7(n,!1),await nX(n,!1),await sX(n,!1),await IX(n,!1),await kX(n,!1),await $X(n,!1),await _7(),await AX(n,!1),await CX(n,!1),await nJ(n,!1),await uJ(n,!1),await hJ(n,!1),await yJ(n,!1),await bX(n,!1),await aJ(n,!1),await mJ(n,!1),await x7(n,e)}function xJ(){const n=O.useCallback(async e=>{await vJ(e)},[]);return X.jsx(e3,{options:{fullScreen:{zIndex:-1e3},particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#00EEFF"},shape:{type:"circle",stroke:{width:0,color:"#00EEFF"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.2,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},links:{enable:!0,distance:150,color:"#00EEFF",opacity:.2,width:1},move:{enable:!0,speed:1,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:200,line_linked:{opacity:.6}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},background:{color:"#1F232E"},preset:"links"},init:n})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bw=function(){return Bw=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Bw.apply(this,arguments)};function _J(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}var Sf="",bd=null,Cy=null,a3=null;function dE(){Sf="",bd!==null&&bd.disconnect(),Cy!==null&&(window.clearTimeout(Cy),Cy=null)}function QP(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function ZP(){var n=null;if(Sf==="#")n=document.body;else{var e=Sf.replace("#","");n=document.getElementById(e),n===null&&Sf==="#top"&&(n=document.body)}if(n!==null){a3(n);var t=n.getAttribute("tabindex");return t===null&&!QP(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!QP(n)&&(n.blur(),n.removeAttribute("tabindex")),dE(),!0}return!1}function AJ(n){window.setTimeout(function(){ZP()===!1&&(bd===null&&(bd=new MutationObserver(ZP)),bd.observe(document,{attributes:!0,childList:!0,subtree:!0}),Cy=window.setTimeout(function(){dE()},n||1e4))},0)}function l3(n){return Ii.forwardRef(function(e,t){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var r={};n===lF&&(r.isActive=function(a,l){return a&&a.isExact&&l.hash===i});function s(a){dE(),Sf=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(a),Sf!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(a3=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},AJ(e.timeout))}var o=_J(e,["scroll","smooth","timeout","elementId"]);return Ii.createElement(n,Bw({},r,o,{onClick:s,ref:t}),e.children)})}var pg=l3(Lp);l3(lF);var c3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e2=Ii.createContext&&Ii.createContext(c3),Ya=globalThis&&globalThis.__assign||function(){return Ya=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ya.apply(this,arguments)},SJ=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function u3(n){return n&&n.map(function(e,t){return Ii.createElement(e.tag,Ya({key:t},e.attr),u3(e.child))})}function gl(n){return function(e){return Ii.createElement(wJ,Ya({attr:Ya({},n.attr)},e),u3(n.child))}}function wJ(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=SJ(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ii.createElement("svg",Ya({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:Ya(Ya({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ii.createElement("title",null,s),n.children)};return e2!==void 0?Ii.createElement(e2.Consumer,null,function(t){return e(t)}):e(c3)}function MJ(n){return gl({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(n)}function EJ(n){return gl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(n)}function bJ(n){return gl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"}}]})(n)}function wf(n){return gl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"}}]})(n)}function TJ(n){return gl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]})(n)}function CJ(n){return gl({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"}}]})(n)}function RJ(n){return gl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"}}]})(n)}const f3="/assets/logo-b59c9a0e.svg",PJ="_container_1oxgy_3",LJ="_containerDark_1oxgy_25 _container_1oxgy_3",IJ="_navbar_1oxgy_37",BJ="_logoLink_1oxgy_55",DJ="_navLinks_1oxgy_77",FJ="_navLink_1oxgy_77",OJ="_menu_1oxgy_137",kJ="_menuMobile_1oxgy_149 _menu_1oxgy_137 _menu_1oxgy_137",NJ="_hamburgerCheckbox_1oxgy_169",UJ="_hamburger_1oxgy_169",zJ="_scrollButton_1oxgy_197",Zi={container:PJ,containerDark:LJ,navbar:IJ,logoLink:BJ,navLinks:DJ,navLink:FJ,menu:OJ,menuMobile:kJ,hamburgerCheckbox:NJ,hamburger:UJ,scrollButton:zJ};function HJ(){const[n,e]=O.useState(!1),[t,i]=O.useState(!1),r=O.useCallback(()=>{var u=document.documentElement,d=document.body,p="scrollTop",m="scrollHeight";return(u[p]||d[p])/((u[m]||d[m])-u.clientHeight)*100},[]),s=O.useCallback(()=>{e(r())},[e,r]);O.useEffect(()=>(document.addEventListener("scroll",s,{passive:!0}),()=>{document.removeEventListener("scroll",s)}),[s]);const o=n>1,a=2*3.14*20,l=a*((100-n)/100),c=X.jsxs(X.Fragment,{children:[X.jsx(Kt.li,{initial:{opacity:0,y:-20,height:0},whileInView:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-20,height:0,transition:{delay:.3}},children:X.jsx(pg,{smooth:!0,to:"/#about",className:Zi.navLink,children:"About"})}),X.jsx(Kt.li,{initial:{opacity:0,y:-20,height:0},whileInView:{opacity:1,y:0,height:"auto",transition:{delay:.1}},exit:{opacity:0,y:-20,height:0,transition:{delay:.2}},children:X.jsx(pg,{smooth:!0,to:"/#projects",className:Zi.navLink,children:"Projects"})}),X.jsx(Kt.li,{initial:{opacity:0,y:-20,height:0},whileInView:{opacity:1,y:0,height:"auto",transition:{delay:.2}},exit:{opacity:0,y:-20,height:0,transition:{delay:.1}},children:X.jsx(pg,{smooth:!0,to:"/#testimonials",className:Zi.navLink,children:"Testimonials"})}),X.jsx(Kt.li,{initial:{opacity:0,y:-20,height:0},whileInView:{opacity:1,y:0,height:"auto",transition:{delay:.3}},exit:{opacity:0,y:-20,height:0},children:X.jsx(pg,{smooth:!0,to:"/#contact",className:Zi.navLink,children:"Contact"})})]});return X.jsxs(X.Fragment,{children:[X.jsx("div",{className:o||t?Zi.containerDark:Zi.container,children:X.jsxs("nav",{className:Zi.navbar,children:[X.jsx(Lp,{to:"/",className:Zi.logoLink,children:X.jsx("img",{src:f3,alt:"logo"})}),X.jsxs("ul",{className:Zi.navLinks,children:[X.jsx("input",{className:Zi.hamburgerCheckbox,type:"checkbox",id:"checkbox_toggle",onChange:u=>{i(u.target.checked)}}),X.jsx("label",{htmlFor:"checkbox_toggle",className:Zi.hamburger,children:t?X.jsx(CJ,{}):X.jsx(MJ,{})}),X.jsx("div",{className:Zi.menu,children:c}),X.jsx(Cw,{children:t&&X.jsx("div",{className:Zi.menuMobile,children:c})})]})]})}),X.jsx(Cw,{initial:!1,children:o&&X.jsxs(Kt.button,{className:Zi.scrollButton,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},children:[X.jsxs("svg",{width:"60",height:"60",viewBox:"-7.5 -7.5 75 75",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(-90deg)"},children:[X.jsx("circle",{r:"20",cx:"30",cy:"30",fill:"transparent",stroke:"#1e1e1e",strokeWidth:"2",strokeDasharray:a,strokeDashoffset:"0"}),X.jsx("circle",{r:"20",cx:"30",cy:"30",stroke:"#00eeff",strokeWidth:"2",strokeLinecap:"round",strokeDashoffset:l,fill:"transparent",strokeDasharray:a})]}),X.jsx(TJ,{})]})})]})}const GJ="_container_1tfib_1",VJ="_loading_1tfib_13",h3={container:GJ,loading:VJ};var WJ=function(e){return jJ(e)&&!XJ(e)};function jJ(n){return!!n&&typeof n=="object"}function XJ(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||YJ(n)}var JJ=typeof Symbol=="function"&&Symbol.for,KJ=JJ?Symbol.for("react.element"):60103;function YJ(n){return n.$$typeof===KJ}function qJ(n){return Array.isArray(n)?[]:{}}function T0(n,e){return e.clone!==!1&&e.isMergeableObject(n)?ip(qJ(n),n,e):n}function $J(n,e,t){return n.concat(e).map(function(i){return T0(i,t)})}function QJ(n,e,t){var i={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(r){i[r]=T0(n[r],t)}),Object.keys(e).forEach(function(r){!t.isMergeableObject(e[r])||!n[r]?i[r]=T0(e[r],t):i[r]=ip(n[r],e[r],t)}),i}function ip(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||$J,t.isMergeableObject=t.isMergeableObject||WJ;var i=Array.isArray(e),r=Array.isArray(n),s=i===r;return s?i?t.arrayMerge(n,e,t):QJ(n,e,t):T0(e,t)}ip.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,r){return ip(i,r,t)},{})};var Dw=ip,ZJ=typeof global=="object"&&global&&global.Object===Object&&global;const d3=ZJ;var eK=typeof self=="object"&&self&&self.Object===Object&&self,tK=d3||eK||Function("return this")();const yo=tK;var nK=yo.Symbol;const sl=nK;var p3=Object.prototype,iK=p3.hasOwnProperty,rK=p3.toString,zh=sl?sl.toStringTag:void 0;function sK(n){var e=iK.call(n,zh),t=n[zh];try{n[zh]=void 0;var i=!0}catch{}var r=rK.call(n);return i&&(e?n[zh]=t:delete n[zh]),r}var oK=Object.prototype,aK=oK.toString;function lK(n){return aK.call(n)}var cK="[object Null]",uK="[object Undefined]",t2=sl?sl.toStringTag:void 0;function Wc(n){return n==null?n===void 0?uK:cK:t2&&t2 in Object(n)?sK(n):lK(n)}function m3(n,e){return function(t){return n(e(t))}}var fK=m3(Object.getPrototypeOf,Object);const pE=fK;function jc(n){return n!=null&&typeof n=="object"}var hK="[object Object]",dK=Function.prototype,pK=Object.prototype,g3=dK.toString,mK=pK.hasOwnProperty,gK=g3.call(Object);function n2(n){if(!jc(n)||Wc(n)!=hK)return!1;var e=pE(n);if(e===null)return!0;var t=mK.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&g3.call(t)==gK}var i2=Array.isArray,r2=Object.keys,yK=Object.prototype.hasOwnProperty,vK=typeof Element<"u";function Fw(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=i2(n),i=i2(e),r,s,o;if(t&&i){if(s=n.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!Fw(n[r],e[r]))return!1;return!0}if(t!=i)return!1;var a=n instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return n.getTime()==e.getTime();var c=n instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return n.toString()==e.toString();var d=r2(n);if(s=d.length,s!==r2(e).length)return!1;for(r=s;r--!==0;)if(!yK.call(e,d[r]))return!1;if(vK&&n instanceof Element&&e instanceof Element)return n===e;for(r=s;r--!==0;)if(o=d[r],!(o==="_owner"&&n.$$typeof)&&!Fw(n[o],e[o]))return!1;return!0}return n!==n&&e!==e}var xK=function(e,t){try{return Fw(e,t)}catch(i){if(i.message&&i.message.match(/stack|recursion/i)||i.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",i.name,i.message),!1;throw i}};const Yl=$f(xK);var _K=!0;function AK(n,e){if(!_K){if(n)return;var t="Warning: "+e;typeof console<"u"&&console.warn(t);try{throw Error(t)}catch{}}}function SK(){this.__data__=[],this.size=0}function y3(n,e){return n===e||n!==n&&e!==e}function pv(n,e){for(var t=n.length;t--;)if(y3(n[t][0],e))return t;return-1}var wK=Array.prototype,MK=wK.splice;function EK(n){var e=this.__data__,t=pv(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():MK.call(e,t,1),--this.size,!0}function bK(n){var e=this.__data__,t=pv(e,n);return t<0?void 0:e[t][1]}function TK(n){return pv(this.__data__,n)>-1}function CK(n,e){var t=this.__data__,i=pv(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function oa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}oa.prototype.clear=SK;oa.prototype.delete=EK;oa.prototype.get=bK;oa.prototype.has=TK;oa.prototype.set=CK;function RK(){this.__data__=new oa,this.size=0}function PK(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function LK(n){return this.__data__.get(n)}function IK(n){return this.__data__.has(n)}function kp(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var BK="[object AsyncFunction]",DK="[object Function]",FK="[object GeneratorFunction]",OK="[object Proxy]";function v3(n){if(!kp(n))return!1;var e=Wc(n);return e==DK||e==FK||e==BK||e==OK}var kK=yo["__core-js_shared__"];const mA=kK;var s2=function(){var n=/[^.]+$/.exec(mA&&mA.keys&&mA.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function NK(n){return!!s2&&s2 in n}var UK=Function.prototype,zK=UK.toString;function Xc(n){if(n!=null){try{return zK.call(n)}catch{}try{return n+""}catch{}}return""}var HK=/[\\^$.*+?()[\]{}|]/g,GK=/^\[object .+?Constructor\]$/,VK=Function.prototype,WK=Object.prototype,jK=VK.toString,XK=WK.hasOwnProperty,JK=RegExp("^"+jK.call(XK).replace(HK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KK(n){if(!kp(n)||NK(n))return!1;var e=v3(n)?JK:GK;return e.test(Xc(n))}function YK(n,e){return n==null?void 0:n[e]}function Jc(n,e){var t=YK(n,e);return KK(t)?t:void 0}var qK=Jc(yo,"Map");const rp=qK;var $K=Jc(Object,"create");const sp=$K;function QK(){this.__data__=sp?sp(null):{},this.size=0}function ZK(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var eY="__lodash_hash_undefined__",tY=Object.prototype,nY=tY.hasOwnProperty;function iY(n){var e=this.__data__;if(sp){var t=e[n];return t===eY?void 0:t}return nY.call(e,n)?e[n]:void 0}var rY=Object.prototype,sY=rY.hasOwnProperty;function oY(n){var e=this.__data__;return sp?e[n]!==void 0:sY.call(e,n)}var aY="__lodash_hash_undefined__";function lY(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=sp&&e===void 0?aY:e,this}function Bc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Bc.prototype.clear=QK;Bc.prototype.delete=ZK;Bc.prototype.get=iY;Bc.prototype.has=oY;Bc.prototype.set=lY;function cY(){this.size=0,this.__data__={hash:new Bc,map:new(rp||oa),string:new Bc}}function uY(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function mv(n,e){var t=n.__data__;return uY(e)?t[typeof e=="string"?"string":"hash"]:t.map}function fY(n){var e=mv(this,n).delete(n);return this.size-=e?1:0,e}function hY(n){return mv(this,n).get(n)}function dY(n){return mv(this,n).has(n)}function pY(n,e){var t=mv(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function yl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}yl.prototype.clear=cY;yl.prototype.delete=fY;yl.prototype.get=hY;yl.prototype.has=dY;yl.prototype.set=pY;var mY=200;function gY(n,e){var t=this.__data__;if(t instanceof oa){var i=t.__data__;if(!rp||i.length<mY-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new yl(i)}return t.set(n,e),this.size=t.size,this}function th(n){var e=this.__data__=new oa(n);this.size=e.size}th.prototype.clear=RK;th.prototype.delete=PK;th.prototype.get=LK;th.prototype.has=IK;th.prototype.set=gY;function yY(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var vY=function(){try{var n=Jc(Object,"defineProperty");return n({},"",{}),n}catch{}}();const o2=vY;function x3(n,e,t){e=="__proto__"&&o2?o2(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var xY=Object.prototype,_Y=xY.hasOwnProperty;function _3(n,e,t){var i=n[e];(!(_Y.call(n,e)&&y3(i,t))||t===void 0&&!(e in n))&&x3(n,e,t)}function gv(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?x3(t,a,l):_3(t,a,l)}return t}function AY(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var SY="[object Arguments]";function a2(n){return jc(n)&&Wc(n)==SY}var A3=Object.prototype,wY=A3.hasOwnProperty,MY=A3.propertyIsEnumerable,EY=a2(function(){return arguments}())?a2:function(n){return jc(n)&&wY.call(n,"callee")&&!MY.call(n,"callee")};const bY=EY;var TY=Array.isArray;const Np=TY;function CY(){return!1}var S3=typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,l2=S3&&typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,RY=l2&&l2.exports===S3,c2=RY?yo.Buffer:void 0,PY=c2?c2.isBuffer:void 0,LY=PY||CY;const w3=LY;var IY=9007199254740991,BY=/^(?:0|[1-9]\d*)$/;function DY(n,e){var t=typeof n;return e=e??IY,!!e&&(t=="number"||t!="symbol"&&BY.test(n))&&n>-1&&n%1==0&&n<e}var FY=9007199254740991;function M3(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=FY}var OY="[object Arguments]",kY="[object Array]",NY="[object Boolean]",UY="[object Date]",zY="[object Error]",HY="[object Function]",GY="[object Map]",VY="[object Number]",WY="[object Object]",jY="[object RegExp]",XY="[object Set]",JY="[object String]",KY="[object WeakMap]",YY="[object ArrayBuffer]",qY="[object DataView]",$Y="[object Float32Array]",QY="[object Float64Array]",ZY="[object Int8Array]",eq="[object Int16Array]",tq="[object Int32Array]",nq="[object Uint8Array]",iq="[object Uint8ClampedArray]",rq="[object Uint16Array]",sq="[object Uint32Array]",ln={};ln[$Y]=ln[QY]=ln[ZY]=ln[eq]=ln[tq]=ln[nq]=ln[iq]=ln[rq]=ln[sq]=!0;ln[OY]=ln[kY]=ln[YY]=ln[NY]=ln[qY]=ln[UY]=ln[zY]=ln[HY]=ln[GY]=ln[VY]=ln[WY]=ln[jY]=ln[XY]=ln[JY]=ln[KY]=!1;function oq(n){return jc(n)&&M3(n.length)&&!!ln[Wc(n)]}function mE(n){return function(e){return n(e)}}var E3=typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,Td=E3&&typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,aq=Td&&Td.exports===E3,gA=aq&&d3.process,lq=function(){try{var n=Td&&Td.require&&Td.require("util").types;return n||gA&&gA.binding&&gA.binding("util")}catch{}}();const zf=lq;var u2=zf&&zf.isTypedArray,cq=u2?mE(u2):oq;const uq=cq;var fq=Object.prototype,hq=fq.hasOwnProperty;function b3(n,e){var t=Np(n),i=!t&&bY(n),r=!t&&!i&&w3(n),s=!t&&!i&&!r&&uq(n),o=t||i||r||s,a=o?AY(n.length,String):[],l=a.length;for(var c in n)(e||hq.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||DY(c,l)))&&a.push(c);return a}var dq=Object.prototype;function gE(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||dq;return n===t}var pq=m3(Object.keys,Object);const mq=pq;var gq=Object.prototype,yq=gq.hasOwnProperty;function vq(n){if(!gE(n))return mq(n);var e=[];for(var t in Object(n))yq.call(n,t)&&t!="constructor"&&e.push(t);return e}function T3(n){return n!=null&&M3(n.length)&&!v3(n)}function yE(n){return T3(n)?b3(n):vq(n)}function xq(n,e){return n&&gv(e,yE(e),n)}function _q(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Aq=Object.prototype,Sq=Aq.hasOwnProperty;function wq(n){if(!kp(n))return _q(n);var e=gE(n),t=[];for(var i in n)i=="constructor"&&(e||!Sq.call(n,i))||t.push(i);return t}function vE(n){return T3(n)?b3(n,!0):wq(n)}function Mq(n,e){return n&&gv(e,vE(e),n)}var C3=typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,f2=C3&&typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,Eq=f2&&f2.exports===C3,h2=Eq?yo.Buffer:void 0,d2=h2?h2.allocUnsafe:void 0;function bq(n,e){if(e)return n.slice();var t=n.length,i=d2?d2(t):new n.constructor(t);return n.copy(i),i}function R3(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}function Tq(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}function P3(){return[]}var Cq=Object.prototype,Rq=Cq.propertyIsEnumerable,p2=Object.getOwnPropertySymbols,Pq=p2?function(n){return n==null?[]:(n=Object(n),Tq(p2(n),function(e){return Rq.call(n,e)}))}:P3;const xE=Pq;function Lq(n,e){return gv(n,xE(n),e)}function L3(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var Iq=Object.getOwnPropertySymbols,Bq=Iq?function(n){for(var e=[];n;)L3(e,xE(n)),n=pE(n);return e}:P3;const I3=Bq;function Dq(n,e){return gv(n,I3(n),e)}function B3(n,e,t){var i=e(n);return Np(n)?i:L3(i,t(n))}function Fq(n){return B3(n,yE,xE)}function Oq(n){return B3(n,vE,I3)}var kq=Jc(yo,"DataView");const Ow=kq;var Nq=Jc(yo,"Promise");const kw=Nq;var Uq=Jc(yo,"Set");const Nw=Uq;var zq=Jc(yo,"WeakMap");const Uw=zq;var m2="[object Map]",Hq="[object Object]",g2="[object Promise]",y2="[object Set]",v2="[object WeakMap]",x2="[object DataView]",Gq=Xc(Ow),Vq=Xc(rp),Wq=Xc(kw),jq=Xc(Nw),Xq=Xc(Uw),ql=Wc;(Ow&&ql(new Ow(new ArrayBuffer(1)))!=x2||rp&&ql(new rp)!=m2||kw&&ql(kw.resolve())!=g2||Nw&&ql(new Nw)!=y2||Uw&&ql(new Uw)!=v2)&&(ql=function(n){var e=Wc(n),t=e==Hq?n.constructor:void 0,i=t?Xc(t):"";if(i)switch(i){case Gq:return x2;case Vq:return m2;case Wq:return g2;case jq:return y2;case Xq:return v2}return e});const _E=ql;var Jq=Object.prototype,Kq=Jq.hasOwnProperty;function Yq(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&Kq.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var qq=yo.Uint8Array;const _2=qq;function AE(n){var e=new n.constructor(n.byteLength);return new _2(e).set(new _2(n)),e}function $q(n,e){var t=e?AE(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Qq=/\w*$/;function Zq(n){var e=new n.constructor(n.source,Qq.exec(n));return e.lastIndex=n.lastIndex,e}var A2=sl?sl.prototype:void 0,S2=A2?A2.valueOf:void 0;function e$(n){return S2?Object(S2.call(n)):{}}function t$(n,e){var t=e?AE(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var n$="[object Boolean]",i$="[object Date]",r$="[object Map]",s$="[object Number]",o$="[object RegExp]",a$="[object Set]",l$="[object String]",c$="[object Symbol]",u$="[object ArrayBuffer]",f$="[object DataView]",h$="[object Float32Array]",d$="[object Float64Array]",p$="[object Int8Array]",m$="[object Int16Array]",g$="[object Int32Array]",y$="[object Uint8Array]",v$="[object Uint8ClampedArray]",x$="[object Uint16Array]",_$="[object Uint32Array]";function A$(n,e,t){var i=n.constructor;switch(e){case u$:return AE(n);case n$:case i$:return new i(+n);case f$:return $q(n,t);case h$:case d$:case p$:case m$:case g$:case y$:case v$:case x$:case _$:return t$(n,t);case r$:return new i;case s$:case l$:return new i(n);case o$:return Zq(n);case a$:return new i;case c$:return e$(n)}}var w2=Object.create,S$=function(){function n(){}return function(e){if(!kp(e))return{};if(w2)return w2(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const w$=S$;function M$(n){return typeof n.constructor=="function"&&!gE(n)?w$(pE(n)):{}}var E$="[object Map]";function b$(n){return jc(n)&&_E(n)==E$}var M2=zf&&zf.isMap,T$=M2?mE(M2):b$;const C$=T$;var R$="[object Set]";function P$(n){return jc(n)&&_E(n)==R$}var E2=zf&&zf.isSet,L$=E2?mE(E2):P$;const I$=L$;var B$=1,D$=2,F$=4,D3="[object Arguments]",O$="[object Array]",k$="[object Boolean]",N$="[object Date]",U$="[object Error]",F3="[object Function]",z$="[object GeneratorFunction]",H$="[object Map]",G$="[object Number]",O3="[object Object]",V$="[object RegExp]",W$="[object Set]",j$="[object String]",X$="[object Symbol]",J$="[object WeakMap]",K$="[object ArrayBuffer]",Y$="[object DataView]",q$="[object Float32Array]",$$="[object Float64Array]",Q$="[object Int8Array]",Z$="[object Int16Array]",eQ="[object Int32Array]",tQ="[object Uint8Array]",nQ="[object Uint8ClampedArray]",iQ="[object Uint16Array]",rQ="[object Uint32Array]",tn={};tn[D3]=tn[O$]=tn[K$]=tn[Y$]=tn[k$]=tn[N$]=tn[q$]=tn[$$]=tn[Q$]=tn[Z$]=tn[eQ]=tn[H$]=tn[G$]=tn[O3]=tn[V$]=tn[W$]=tn[j$]=tn[X$]=tn[tQ]=tn[nQ]=tn[iQ]=tn[rQ]=!0;tn[U$]=tn[F3]=tn[J$]=!1;function Ry(n,e,t,i,r,s){var o,a=e&B$,l=e&D$,c=e&F$;if(t&&(o=r?t(n,i,r,s):t(n)),o!==void 0)return o;if(!kp(n))return n;var u=Np(n);if(u){if(o=Yq(n),!a)return R3(n,o)}else{var d=_E(n),p=d==F3||d==z$;if(w3(n))return bq(n,a);if(d==O3||d==D3||p&&!r){if(o=l||p?{}:M$(n),!a)return l?Dq(n,Mq(o,n)):Lq(n,xq(o,n))}else{if(!tn[d])return r?n:{};o=A$(n,d,a)}}s||(s=new th);var m=s.get(n);if(m)return m;s.set(n,o),I$(n)?n.forEach(function(_){o.add(Ry(_,e,t,_,n,s))}):C$(n)&&n.forEach(function(_,g){o.set(g,Ry(_,e,t,g,n,s))});var y=c?l?Oq:Fq:l?vE:yE,x=u?void 0:y(n);return yY(x||n,function(_,g){x&&(g=_,_=n[g]),_3(o,g,Ry(_,e,t,g,n,s))}),o}var sQ=4;function b2(n){return Ry(n,sQ)}function k3(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var oQ="[object Symbol]";function SE(n){return typeof n=="symbol"||jc(n)&&Wc(n)==oQ}var aQ="Expected a function";function wE(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(aQ);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return t.cache=s.set(r,o)||s,o};return t.cache=new(wE.Cache||yl),t}wE.Cache=yl;var lQ=500;function cQ(n){var e=wE(n,function(i){return t.size===lQ&&t.clear(),i}),t=e.cache;return e}var uQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fQ=/\\(\\)?/g,hQ=cQ(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(uQ,function(t,i,r,s){e.push(r?s.replace(fQ,"$1"):i||t)}),e});const dQ=hQ;var pQ=1/0;function mQ(n){if(typeof n=="string"||SE(n))return n;var e=n+"";return e=="0"&&1/n==-pQ?"-0":e}var gQ=1/0,T2=sl?sl.prototype:void 0,C2=T2?T2.toString:void 0;function N3(n){if(typeof n=="string")return n;if(Np(n))return k3(n,N3)+"";if(SE(n))return C2?C2.call(n):"";var e=n+"";return e=="0"&&1/n==-gQ?"-0":e}function yQ(n){return n==null?"":N3(n)}function U3(n){return Np(n)?k3(n,mQ):SE(n)?[n]:R3(dQ(yQ(n)))}var z3={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=typeof Symbol=="function"&&Symbol.for,ME=mi?Symbol.for("react.element"):60103,EE=mi?Symbol.for("react.portal"):60106,yv=mi?Symbol.for("react.fragment"):60107,vv=mi?Symbol.for("react.strict_mode"):60108,xv=mi?Symbol.for("react.profiler"):60114,_v=mi?Symbol.for("react.provider"):60109,Av=mi?Symbol.for("react.context"):60110,bE=mi?Symbol.for("react.async_mode"):60111,Sv=mi?Symbol.for("react.concurrent_mode"):60111,wv=mi?Symbol.for("react.forward_ref"):60112,Mv=mi?Symbol.for("react.suspense"):60113,vQ=mi?Symbol.for("react.suspense_list"):60120,Ev=mi?Symbol.for("react.memo"):60115,bv=mi?Symbol.for("react.lazy"):60116,xQ=mi?Symbol.for("react.block"):60121,_Q=mi?Symbol.for("react.fundamental"):60117,AQ=mi?Symbol.for("react.responder"):60118,SQ=mi?Symbol.for("react.scope"):60119;function Nr(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case ME:switch(n=n.type,n){case bE:case Sv:case yv:case xv:case vv:case Mv:return n;default:switch(n=n&&n.$$typeof,n){case Av:case wv:case bv:case Ev:case _v:return n;default:return e}}case EE:return e}}}function H3(n){return Nr(n)===Sv}Zt.AsyncMode=bE;Zt.ConcurrentMode=Sv;Zt.ContextConsumer=Av;Zt.ContextProvider=_v;Zt.Element=ME;Zt.ForwardRef=wv;Zt.Fragment=yv;Zt.Lazy=bv;Zt.Memo=Ev;Zt.Portal=EE;Zt.Profiler=xv;Zt.StrictMode=vv;Zt.Suspense=Mv;Zt.isAsyncMode=function(n){return H3(n)||Nr(n)===bE};Zt.isConcurrentMode=H3;Zt.isContextConsumer=function(n){return Nr(n)===Av};Zt.isContextProvider=function(n){return Nr(n)===_v};Zt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===ME};Zt.isForwardRef=function(n){return Nr(n)===wv};Zt.isFragment=function(n){return Nr(n)===yv};Zt.isLazy=function(n){return Nr(n)===bv};Zt.isMemo=function(n){return Nr(n)===Ev};Zt.isPortal=function(n){return Nr(n)===EE};Zt.isProfiler=function(n){return Nr(n)===xv};Zt.isStrictMode=function(n){return Nr(n)===vv};Zt.isSuspense=function(n){return Nr(n)===Mv};Zt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===yv||n===Sv||n===xv||n===vv||n===Mv||n===vQ||typeof n=="object"&&n!==null&&(n.$$typeof===bv||n.$$typeof===Ev||n.$$typeof===_v||n.$$typeof===Av||n.$$typeof===wv||n.$$typeof===_Q||n.$$typeof===AQ||n.$$typeof===SQ||n.$$typeof===xQ)};Zt.typeOf=Nr;z3.exports=Zt;var wQ=z3.exports,G3=wQ,MQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},V3={};V3[G3.ForwardRef]=MQ;V3[G3.Memo]=EQ;function ai(){return ai=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ai.apply(this,arguments)}function W3(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Tv=O.createContext(void 0);Tv.displayName="FormikContext";Tv.Provider;Tv.Consumer;function bQ(){var n=O.useContext(Tv);return n||AK(!1),n}var xs=function(e){return typeof e=="function"},Cv=function(e){return e!==null&&typeof e=="object"},TQ=function(e){return String(Math.floor(Number(e)))===e},yA=function(e){return Object.prototype.toString.call(e)==="[object String]"},vA=function(e){return Cv(e)&&xs(e.then)};function _r(n,e,t,i){i===void 0&&(i=0);for(var r=U3(e);n&&i<r.length;)n=n[r[i++]];return i!==r.length&&!n||n===void 0?t:n}function yc(n,e,t){for(var i=b2(n),r=i,s=0,o=U3(e);s<o.length-1;s++){var a=o[s],l=_r(n,o.slice(0,s+1));if(l&&(Cv(l)||Array.isArray(l)))r=r[a]=b2(l);else{var c=o[s+1];r=r[a]=TQ(c)&&Number(c)>=0?[]:{}}}return(s===0?n:r)[o[s]]===t?n:(t===void 0?delete r[o[s]]:r[o[s]]=t,s===0&&t===void 0&&delete i[o[s]],i)}function j3(n,e,t,i){t===void 0&&(t=new WeakMap),i===void 0&&(i={});for(var r=0,s=Object.keys(n);r<s.length;r++){var o=s[r],a=n[o];Cv(a)?t.get(a)||(t.set(a,!0),i[o]=Array.isArray(a)?[]:{},j3(a,e,t,i[o])):i[o]=e}return i}function CQ(n,e){switch(e.type){case"SET_VALUES":return ai({},n,{values:e.payload});case"SET_TOUCHED":return ai({},n,{touched:e.payload});case"SET_ERRORS":return Yl(n.errors,e.payload)?n:ai({},n,{errors:e.payload});case"SET_STATUS":return ai({},n,{status:e.payload});case"SET_ISSUBMITTING":return ai({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ai({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return ai({},n,{values:yc(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ai({},n,{touched:yc(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ai({},n,{errors:yc(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ai({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return ai({},n,{touched:j3(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return ai({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ai({},n,{isSubmitting:!1});default:return n}}var Il={},mg={};function RQ(n){var e=n.validateOnChange,t=e===void 0?!0:e,i=n.validateOnBlur,r=i===void 0?!0:i,s=n.validateOnMount,o=s===void 0?!1:s,a=n.isInitialValid,l=n.enableReinitialize,c=l===void 0?!1:l,u=n.onSubmit,d=W3(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=ai({validateOnChange:t,validateOnBlur:r,validateOnMount:o,onSubmit:u},d),m=O.useRef(p.initialValues),y=O.useRef(p.initialErrors||Il),x=O.useRef(p.initialTouched||mg),_=O.useRef(p.initialStatus),g=O.useRef(!1),A=O.useRef({});O.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var S=O.useState(0),w=S[1],b=O.useRef({values:p.initialValues,errors:p.initialErrors||Il,touched:p.initialTouched||mg,status:p.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),T=b.current,C=O.useCallback(function(se){var F=b.current;b.current=CQ(F,se),F!==b.current&&w(function(I){return I+1})},[]),B=O.useCallback(function(se,F){return new Promise(function(I,Q){var ge=p.validate(se,F);ge==null?I(Il):vA(ge)?ge.then(function(pe){I(pe||Il)},function(pe){Q(pe)}):I(ge)})},[p.validate]),P=O.useCallback(function(se,F){var I=p.validationSchema,Q=xs(I)?I(F):I,ge=F&&Q.validateAt?Q.validateAt(F,se):LQ(se,Q);return new Promise(function(pe,Se){ge.then(function(){pe(Il)},function(Xe){Xe.name==="ValidationError"?pe(PQ(Xe)):Se(Xe)})})},[p.validationSchema]),L=O.useCallback(function(se,F){return new Promise(function(I){return I(A.current[se].validate(F))})},[]),U=O.useCallback(function(se){var F=Object.keys(A.current).filter(function(Q){return xs(A.current[Q].validate)}),I=F.length>0?F.map(function(Q){return L(Q,_r(se,Q))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(I).then(function(Q){return Q.reduce(function(ge,pe,Se){return pe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||pe&&(ge=yc(ge,F[Se],pe)),ge},{})})},[L]),te=O.useCallback(function(se){return Promise.all([U(se),p.validationSchema?P(se):{},p.validate?B(se):{}]).then(function(F){var I=F[0],Q=F[1],ge=F[2],pe=Dw.all([I,Q,ge],{arrayMerge:IQ});return pe})},[p.validate,p.validationSchema,U,B,P]),ne=Qr(function(se){return se===void 0&&(se=T.values),C({type:"SET_ISVALIDATING",payload:!0}),te(se).then(function(F){return g.current&&(C({type:"SET_ISVALIDATING",payload:!1}),C({type:"SET_ERRORS",payload:F})),F})});O.useEffect(function(){o&&g.current===!0&&Yl(m.current,p.initialValues)&&ne(m.current)},[o,ne]);var V=O.useCallback(function(se){var F=se&&se.values?se.values:m.current,I=se&&se.errors?se.errors:y.current?y.current:p.initialErrors||{},Q=se&&se.touched?se.touched:x.current?x.current:p.initialTouched||{},ge=se&&se.status?se.status:_.current?_.current:p.initialStatus;m.current=F,y.current=I,x.current=Q,_.current=ge;var pe=function(){C({type:"RESET_FORM",payload:{isSubmitting:!!se&&!!se.isSubmitting,errors:I,touched:Q,status:ge,values:F,isValidating:!!se&&!!se.isValidating,submitCount:se&&se.submitCount&&typeof se.submitCount=="number"?se.submitCount:0}})};if(p.onReset){var Se=p.onReset(T.values,be);vA(Se)?Se.then(pe):pe()}else pe()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);O.useEffect(function(){g.current===!0&&!Yl(m.current,p.initialValues)&&c&&(m.current=p.initialValues,V(),o&&ne(m.current))},[c,p.initialValues,V,o,ne]),O.useEffect(function(){c&&g.current===!0&&!Yl(y.current,p.initialErrors)&&(y.current=p.initialErrors||Il,C({type:"SET_ERRORS",payload:p.initialErrors||Il}))},[c,p.initialErrors]),O.useEffect(function(){c&&g.current===!0&&!Yl(x.current,p.initialTouched)&&(x.current=p.initialTouched||mg,C({type:"SET_TOUCHED",payload:p.initialTouched||mg}))},[c,p.initialTouched]),O.useEffect(function(){c&&g.current===!0&&!Yl(_.current,p.initialStatus)&&(_.current=p.initialStatus,C({type:"SET_STATUS",payload:p.initialStatus}))},[c,p.initialStatus,p.initialTouched]);var $=Qr(function(se){if(A.current[se]&&xs(A.current[se].validate)){var F=_r(T.values,se),I=A.current[se].validate(F);return vA(I)?(C({type:"SET_ISVALIDATING",payload:!0}),I.then(function(Q){return Q}).then(function(Q){C({type:"SET_FIELD_ERROR",payload:{field:se,value:Q}}),C({type:"SET_ISVALIDATING",payload:!1})})):(C({type:"SET_FIELD_ERROR",payload:{field:se,value:I}}),Promise.resolve(I))}else if(p.validationSchema)return C({type:"SET_ISVALIDATING",payload:!0}),P(T.values,se).then(function(Q){return Q}).then(function(Q){C({type:"SET_FIELD_ERROR",payload:{field:se,value:_r(Q,se)}}),C({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),le=O.useCallback(function(se,F){var I=F.validate;A.current[se]={validate:I}},[]),ue=O.useCallback(function(se){delete A.current[se]},[]),G=Qr(function(se,F){C({type:"SET_TOUCHED",payload:se});var I=F===void 0?r:F;return I?ne(T.values):Promise.resolve()}),Y=O.useCallback(function(se){C({type:"SET_ERRORS",payload:se})},[]),q=Qr(function(se,F){var I=xs(se)?se(T.values):se;C({type:"SET_VALUES",payload:I});var Q=F===void 0?t:F;return Q?ne(I):Promise.resolve()}),z=O.useCallback(function(se,F){C({type:"SET_FIELD_ERROR",payload:{field:se,value:F}})},[]),J=Qr(function(se,F,I){C({type:"SET_FIELD_VALUE",payload:{field:se,value:F}});var Q=I===void 0?t:I;return Q?ne(yc(T.values,se,F)):Promise.resolve()}),_e=O.useCallback(function(se,F){var I=F,Q=se,ge;if(!yA(se)){se.persist&&se.persist();var pe=se.target?se.target:se.currentTarget,Se=pe.type,Xe=pe.name,Ie=pe.id,Ne=pe.value,ct=pe.checked,bt=pe.outerHTML,Le=pe.options,Pt=pe.multiple;I=F||Xe||Ie,Q=/number|range/.test(Se)?(ge=parseFloat(Ne),isNaN(ge)?"":ge):/checkbox/.test(Se)?DQ(_r(T.values,I),ct,Ne):Le&&Pt?BQ(Le):Ne}I&&J(I,Q)},[J,T.values]),Me=Qr(function(se){if(yA(se))return function(F){return _e(F,se)};_e(se)}),Ee=Qr(function(se,F,I){F===void 0&&(F=!0),C({type:"SET_FIELD_TOUCHED",payload:{field:se,value:F}});var Q=I===void 0?r:I;return Q?ne(T.values):Promise.resolve()}),ke=O.useCallback(function(se,F){se.persist&&se.persist();var I=se.target,Q=I.name,ge=I.id,pe=I.outerHTML,Se=F||Q||ge;Ee(Se,!0)},[Ee]),Ke=Qr(function(se){if(yA(se))return function(F){return ke(F,se)};ke(se)}),rt=O.useCallback(function(se){xs(se)?C({type:"SET_FORMIK_STATE",payload:se}):C({type:"SET_FORMIK_STATE",payload:function(){return se}})},[]),qe=O.useCallback(function(se){C({type:"SET_STATUS",payload:se})},[]),ut=O.useCallback(function(se){C({type:"SET_ISSUBMITTING",payload:se})},[]),Ue=Qr(function(){return C({type:"SUBMIT_ATTEMPT"}),ne().then(function(se){var F=se instanceof Error,I=!F&&Object.keys(se).length===0;if(I){var Q;try{if(Q=xe(),Q===void 0)return}catch(ge){throw ge}return Promise.resolve(Q).then(function(ge){return g.current&&C({type:"SUBMIT_SUCCESS"}),ge}).catch(function(ge){if(g.current)throw C({type:"SUBMIT_FAILURE"}),ge})}else if(g.current&&(C({type:"SUBMIT_FAILURE"}),F))throw se})}),W=Qr(function(se){se&&se.preventDefault&&xs(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&xs(se.stopPropagation)&&se.stopPropagation(),Ue().catch(function(F){console.warn("Warning: An unhandled error was caught from submitForm()",F)})}),be={resetForm:V,validateForm:ne,validateField:$,setErrors:Y,setFieldError:z,setFieldTouched:Ee,setFieldValue:J,setStatus:qe,setSubmitting:ut,setTouched:G,setValues:q,setFormikState:rt,submitForm:Ue},xe=Qr(function(){return u(T.values,be)}),Pe=Qr(function(se){se&&se.preventDefault&&xs(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&xs(se.stopPropagation)&&se.stopPropagation(),V()}),we=O.useCallback(function(se){return{value:_r(T.values,se),error:_r(T.errors,se),touched:!!_r(T.touched,se),initialValue:_r(m.current,se),initialTouched:!!_r(x.current,se),initialError:_r(y.current,se)}},[T.errors,T.touched,T.values]),nt=O.useCallback(function(se){return{setValue:function(I,Q){return J(se,I,Q)},setTouched:function(I,Q){return Ee(se,I,Q)},setError:function(I){return z(se,I)}}},[J,Ee,z]),Ge=O.useCallback(function(se){var F=Cv(se),I=F?se.name:se,Q=_r(T.values,I),ge={name:I,value:Q,onChange:Me,onBlur:Ke};if(F){var pe=se.type,Se=se.value,Xe=se.as,Ie=se.multiple;pe==="checkbox"?Se===void 0?ge.checked=!!Q:(ge.checked=!!(Array.isArray(Q)&&~Q.indexOf(Se)),ge.value=Se):pe==="radio"?(ge.checked=Q===Se,ge.value=Se):Xe==="select"&&Ie&&(ge.value=ge.value||[],ge.multiple=!0)}return ge},[Ke,Me,T.values]),je=O.useMemo(function(){return!Yl(m.current,T.values)},[m.current,T.values]),lt=O.useMemo(function(){return typeof a<"u"?je?T.errors&&Object.keys(T.errors).length===0:a!==!1&&xs(a)?a(p):a:T.errors&&Object.keys(T.errors).length===0},[a,je,T.errors,p]),vt=ai({},T,{initialValues:m.current,initialErrors:y.current,initialTouched:x.current,initialStatus:_.current,handleBlur:Ke,handleChange:Me,handleReset:Pe,handleSubmit:W,resetForm:V,setErrors:Y,setFormikState:rt,setFieldTouched:Ee,setFieldValue:J,setFieldError:z,setStatus:qe,setSubmitting:ut,setTouched:G,setValues:q,submitForm:Ue,validateForm:ne,validateField:$,isValid:lt,dirty:je,unregisterField:ue,registerField:le,getFieldProps:Ge,getFieldMeta:we,getFieldHelpers:nt,validateOnBlur:r,validateOnChange:t,validateOnMount:o});return vt}function PQ(n){var e={};if(n.inner){if(n.inner.length===0)return yc(e,n.path,n.message);for(var r=n.inner,t=Array.isArray(r),i=0,r=t?r:r[Symbol.iterator]();;){var s;if(t){if(i>=r.length)break;s=r[i++]}else{if(i=r.next(),i.done)break;s=i.value}var o=s;_r(e,o.path)||(e=yc(e,o.path,o.message))}}return e}function LQ(n,e,t,i){t===void 0&&(t=!1);var r=zw(n);return e[t?"validateSync":"validate"](r,{abortEarly:!1,context:i||r})}function zw(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=String(t);Array.isArray(n[i])===!0?e[i]=n[i].map(function(r){return Array.isArray(r)===!0||n2(r)?zw(r):r!==""?r:void 0}):n2(n[i])?e[i]=zw(n[i]):e[i]=n[i]!==""?n[i]:void 0}return e}function IQ(n,e,t){var i=n.slice();return e.forEach(function(s,o){if(typeof i[o]>"u"){var a=t.clone!==!1,l=a&&t.isMergeableObject(s);i[o]=l?Dw(Array.isArray(s)?[]:{},s,t):s}else t.isMergeableObject(s)?i[o]=Dw(n[o],s,t):n.indexOf(s)===-1&&i.push(s)}),i}function BQ(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function DQ(n,e,t){if(typeof n=="boolean")return!!e;var i=[],r=!1,s=-1;if(Array.isArray(n))i=n,s=n.indexOf(t),r=s>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!r?i.concat(t):r?i.slice(0,s).concat(i.slice(s+1)):i}var FQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect;function Qr(n){var e=O.useRef(n);return FQ(function(){e.current=n}),O.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current.apply(void 0,i)},[])}var OQ=O.forwardRef(function(n,e){var t=n.action,i=W3(n,["action"]),r=t??"#",s=bQ(),o=s.handleReset,a=s.handleSubmit;return O.createElement("form",ai({onSubmit:a,ref:e,onReset:o,action:r},i))});OQ.displayName="Form";function Kc(n){this._maxSize=n,this.clear()}Kc.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Kc.prototype.get=function(n){return this._values[n]};Kc.prototype.set=function(n,e){return this._size>=this._maxSize&&this.clear(),n in this._values||this._size++,this._values[n]=e};var kQ=/[^.^\]^[]+|(?=\[\]|\.\.)/g,X3=/^\d+$/,NQ=/^\d/,UQ=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,zQ=/^\s*(['"]?)(.*?)(\1)\s*$/,TE=512,R2=new Kc(TE),P2=new Kc(TE),L2=new Kc(TE),vc={Cache:Kc,split:Hw,normalizePath:xA,setter:function(n){var e=xA(n);return P2.get(n)||P2.set(n,function(i,r){for(var s=0,o=e.length,a=i;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;a=a[e[s++]]}a[e[s]]=r})},getter:function(n,e){var t=xA(n);return L2.get(n)||L2.set(n,function(r){for(var s=0,o=t.length;s<o;)if(r!=null||!e)r=r[t[s++]];else return;return r})},join:function(n){return n.reduce(function(e,t){return e+(CE(t)||X3.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(n,e,t){HQ(Array.isArray(n)?n:Hw(n),e,t)}};function xA(n){return R2.get(n)||R2.set(n,Hw(n).map(function(e){return e.replace(zQ,"$2")}))}function Hw(n){return n.match(kQ)||[""]}function HQ(n,e,t){var i=n.length,r,s,o,a;for(s=0;s<i;s++)r=n[s],r&&(WQ(r)&&(r='"'+r+'"'),a=CE(r),o=!a&&/^\d+$/.test(r),e.call(t,r,a,o,s,n))}function CE(n){return typeof n=="string"&&n&&["'",'"'].indexOf(n.charAt(0))!==-1}function GQ(n){return n.match(NQ)&&!n.match(X3)}function VQ(n){return UQ.test(n)}function WQ(n){return!CE(n)&&(GQ(n)||VQ(n))}const jQ=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Rv=n=>n.match(jQ)||[],Pv=n=>n[0].toUpperCase()+n.slice(1),RE=(n,e)=>Rv(n).join(e).toLowerCase(),J3=n=>Rv(n).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),XQ=n=>Pv(J3(n)),JQ=n=>RE(n,"_"),KQ=n=>RE(n,"-"),YQ=n=>Pv(RE(n," ")),qQ=n=>Rv(n).map(Pv).join(" ");var _A={words:Rv,upperFirst:Pv,camelCase:J3,pascalCase:XQ,snakeCase:JQ,kebabCase:KQ,sentenceCase:YQ,titleCase:qQ},PE={exports:{}};PE.exports=function(n){return K3($Q(n),n)};PE.exports.array=K3;function K3(n,e){var t=n.length,i=new Array(t),r={},s=t,o=QQ(e),a=ZQ(n);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)r[s]||l(n[s],s,new Set);return i;function l(c,u,d){if(d.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!r[u]){r[u]=!0;var m=o.get(c)||new Set;if(m=Array.from(m),u=m.length){d.add(c);do{var y=m[--u];l(y,a.get(y),d)}while(u);d.delete(c)}i[--t]=c}}}function $Q(n){for(var e=new Set,t=0,i=n.length;t<i;t++){var r=n[t];e.add(r[0]),e.add(r[1])}return Array.from(e)}function QQ(n){for(var e=new Map,t=0,i=n.length;t<i;t++){var r=n[t];e.has(r[0])||e.set(r[0],new Set),e.has(r[1])||e.set(r[1],new Set),e.get(r[0]).add(r[1])}return e}function ZQ(n){for(var e=new Map,t=0,i=n.length;t<i;t++)e.set(n[t],t);return e}var eZ=PE.exports;const tZ=$f(eZ),nZ=Object.prototype.toString,iZ=Error.prototype.toString,rZ=RegExp.prototype.toString,sZ=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",oZ=/^Symbol\((.*)\)(.*)$/;function aZ(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function I2(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return aZ(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return sZ.call(n).replace(oZ,"Symbol($1)");const i=nZ.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+iZ.call(n)+"]":i==="RegExp"?rZ.call(n):null}function qa(n,e){let t=I2(n,e);return t!==null?t:JSON.stringify(n,function(i,r){let s=I2(this[i],e);return s!==null?s:r},2)}function Y3(n){return n==null?[]:[].concat(n)}let q3,lZ=/\$\{\s*(\w+)\s*\}/g;q3=Symbol.toStringTag;class nr extends Error{static formatError(e,t){const i=t.label||t.path||"this";return i!==t.path&&(t=Object.assign({},t,{path:i})),typeof e=="string"?e.replace(lZ,(r,s)=>qa(t[s])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,r,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[q3]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=r,this.errors=[],this.inner=[],Y3(e).forEach(o=>{if(nr.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,nr)}}let Zs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const r=i!=null&&i!==t?` (cast from the value \`${qa(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${qa(t,!0)}\``+r:`${n} must match the configured type. The validated value was: \`${qa(t,!0)}\``+r}},_s={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},cZ={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Gw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},uZ={isValue:"${path} field must be ${value}"},Vw={noUnknown:"${path} field has unspecified keys: ${unknown}"},fZ={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},hZ={notType:n=>{const{path:e,value:t,spec:i}=n,r=i.types.length;if(Array.isArray(t)){if(t.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${t.length} for value: \`${qa(t,!0)}\``;if(t.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${t.length} for value: \`${qa(t,!0)}\``}return nr.formatError(Zs.notType,n)}};Object.assign(Object.create(null),{mixed:Zs,string:_s,number:cZ,date:Gw,object:Vw,array:fZ,boolean:uZ,tuple:hZ});const LE=n=>n&&n.__isYupSchema__;class C0{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=t,o=typeof i=="function"?i:(...a)=>a.every(l=>l===i);return new C0(e,(a,l)=>{var c;let u=o(...a)?r:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(s=>s.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),r=this.fn(i,e,t);if(r===void 0||r===e)return e;if(!LE(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const gg={context:"$",value:"."};class Yc{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===gg.context,this.isValue=this.key[0]===gg.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?gg.context:this.isValue?gg.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&vc.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let r=this.isContext?i:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Yc.prototype.__isYupRef=!0;const lc=n=>n==null;function vu(n){function e({value:t,path:i="",options:r,originalValue:s,schema:o},a,l){const{name:c,test:u,params:d,message:p,skipAbsent:m}=n;let{parent:y,context:x,abortEarly:_=o.spec.abortEarly,disableStackTrace:g=o.spec.disableStackTrace}=r;function A(U){return Yc.isRef(U)?U.getValue(t,y,x):U}function S(U={}){var te;const ne=Object.assign({value:t,originalValue:s,label:o.spec.label,path:U.path||i,spec:o.spec},d,U.params);for(const $ of Object.keys(ne))ne[$]=A(ne[$]);const V=new nr(nr.formatError(U.message||p,ne),t,ne.path,U.type||c,(te=U.disableStackTrace)!=null?te:g);return V.params=ne,V}const w=_?a:l;let b={path:i,parent:y,type:c,from:r.from,createError:S,resolve:A,options:r,originalValue:s,schema:o};const T=U=>{nr.isError(U)?w(U):U?l(null):w(S())},C=U=>{nr.isError(U)?w(U):a(U)};if(m&&lc(t))return T(!0);let P;try{var L;if(P=u.call(b,t,b),typeof((L=P)==null?void 0:L.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(T,C)}}catch(U){C(U);return}T(P)}return e.OPTIONS=n,e}function dZ(n,e,t,i=t){let r,s,o;return e?(vc.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;n=n.resolve({context:i,parent:r,value:t});let d=n.type==="tuple",p=c?parseInt(u,10):0;if(n.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(t&&p>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);r=t,t=t&&t[p],n=d?n.spec.types[p]:n.innerType}if(!c){if(!n.fields||!n.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${n.type}")`);r=t,t=t&&t[u],n=n.fields[u]}s=u,o=l?"["+a+"]":"."+a}),{schema:n,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:n}}class R0 extends Set{describe(){const e=[];for(const t of this.values())e.push(Yc.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new R0(this.values())}merge(e,t){const i=this.clone();return e.forEach(r=>i.add(r)),t.forEach(r=>i.delete(r)),i}}function cf(n,e=new Map){if(LE(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=cf(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,r]of n.entries())t.set(i,cf(r,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(cf(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,r]of Object.entries(n))t[i]=cf(r,e)}else throw Error(`Unable to clone ${n}`);return t}class uo{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new R0,this._blacklist=new R0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Zs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=cf(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const r=Object.assign({},t.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((r,s)=>s.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),r=t.assert==="ignore-optionality",s=i._cast(e,t);if(t.assert!==!1&&!i.isType(s)){if(r&&lc(s))return s;let o=qa(e),a=qa(s);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,r){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=t,l=e;a||(l=this._cast(l,Object.assign({assert:!1},t)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:o,options:t,tests:c},i,u=>{if(u.length)return r(u,l);this.runTests({path:s,value:l,originalValue:o,options:t,tests:this.tests},i,r)})}runTests(e,t,i){let r=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,u=x=>{r||(r=!0,t(x,o))},d=x=>{r||(r=!0,i(x,o))},p=s.length,m=[];if(!p)return d([]);let y={value:o,originalValue:a,path:l,options:c,schema:this};for(let x=0;x<s.length;x++){const _=s[x];_(y,u,function(A){A&&(Array.isArray(A)?m.push(...A):m.push(A)),--p<=0&&d(m)})}}asNestedTest({key:e,index:t,parent:i,parentPath:r,originalParent:s,options:o}){const a=e??t;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=i[a];const u=Object.assign({},o,{strict:!0,parent:i,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${r||""}[${c?a:`"${a}"`}]`:(r?`${r}.`:"")+e});return(d,p,m)=>this.resolve(u)._validate(c,u,p,m)}validate(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),s=(i=t==null?void 0:t.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((o,a)=>r._validate(e,t,(l,c)=>{nr.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new nr(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),s,o=(i=t==null?void 0:t.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),(a,l)=>{throw nr.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new nr(a,e,void 0,void 0,o);s=l}),s}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(nr.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(nr.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):cf(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=vu({message:t,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=vu({message:t,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Zs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Zs.notNull){return this.nullability(!1,e)}required(e=Zs.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Zs.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=vu(t),s=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===t.name&&(s||o.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),r=Y3(e).map(s=>new Yc(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof t=="function"?new C0(r,t):C0.fromOptions(r,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=vu({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Zs.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=vu({message:t,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(e,t=Zs.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=vu({message:t,name:"notOneOf",test(r){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:o}=t.spec;return{meta:r,label:i,optional:s,nullable:o,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}}uo.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])uo.prototype[`${n}At`]=function(e,t,i={}){const{parent:r,parentPath:s,schema:o}=dZ(this,e,t,i.context);return o[n](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const n of["equals","is"])uo.prototype[n]=uo.prototype.oneOf;for(const n of["not","nope"])uo.prototype[n]=uo.prototype.notOneOf;let pZ=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mZ=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,gZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,yZ=n=>lc(n)||n===n.trim(),vZ={}.toString();function Py(){return new $3}class $3 extends uo{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===vZ?e:r})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Zs.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=_s.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=_s.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=_s.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,r,s;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:r,name:s}=t:r=t),this.test({name:s||"matches",message:r||_s.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&i||o.search(e)!==-1})}email(e=_s.email){return this.matches(pZ,{name:"email",message:e,excludeEmptyString:!0})}url(e=_s.url){return this.matches(mZ,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=_s.uuid){return this.matches(gZ,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=_s.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:yZ})}lowercase(e=_s.lowercase){return this.transform(t=>lc(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>lc(t)||t===t.toLowerCase()})}uppercase(e=_s.uppercase){return this.transform(t=>lc(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>lc(t)||t===t.toUpperCase()})}}Py.prototype=$3.prototype;const xZ=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function bo(n,e=0){return Number(n)||e}function _Z(n){const e=xZ.exec(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;const t={year:bo(e[1]),month:bo(e[2],1)-1,day:bo(e[3],1),hour:bo(e[4]),minute:bo(e[5]),second:bo(e[6]),millisecond:e[7]?bo(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:bo(e[10]),minuteOffset:bo(e[11])};if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let i=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(i=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(i=0-i)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+i,t.second,t.millisecond)}let AZ=new Date(""),SZ=n=>Object.prototype.toString.call(n)==="[object Date]";class Lv extends uo{constructor(){super({type:"date",check(e){return SZ(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=_Z(e),isNaN(e)?Lv.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(Yc.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,t=Gw.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,t=Gw.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}Lv.INVALID_DATE=AZ;Lv.prototype;function wZ(n,e=[]){let t=[],i=new Set,r=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=vc.split(o)[0];i.add(l),r.has(`${a}-${l}`)||t.push([a,l])}for(const o of Object.keys(n)){let a=n[o];i.add(o),Yc.isRef(a)&&a.isSibling?s(a.path,o):LE(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return tZ.array(Array.from(i),t).reverse()}function B2(n,e){let t=1/0;return n.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return t=r,!0}),t}function Q3(n){return(e,t)=>B2(n,e)-B2(n,t)}const MZ=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Ly(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Ly(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Ly(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Ly)}):"optional"in n?n.optional():n}const EZ=(n,e)=>{const t=[...vc.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),r=vc.getter(vc.join(t),!0)(n);return!!(r&&i in r)};let D2=n=>Object.prototype.toString.call(n)==="[object Object]";function bZ(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const TZ=Q3([]);function Z3(n){return new ek(n)}class ek extends uo{constructor(e){super({type:"object",check(t){return D2(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=TZ,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let r=super._cast(e,t);if(r===void 0)return this.getDefault(t);if(!this._typeCheck(r))return r;let s=this.fields,o=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),u=!1;for(const d of a){let p=s[d],m=d in r;if(p){let y,x=r[d];c.path=(t.path?`${t.path}.`:"")+d,p=p.resolve({value:x,context:t.context,parent:l});let _=p instanceof uo?p.spec:void 0,g=_==null?void 0:_.strict;if(_!=null&&_.strip){u=u||d in r;continue}y=!t.__validating||!g?p.cast(r[d],c):r[d],y!==void 0&&(l[d]=y)}else m&&!o&&(l[d]=r[d]);(m!==d in l||l[d]!==r[d])&&(u=!0)}return u?l:r}_validate(e,t={},i,r){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:o},...s],t.__validating=!0,t.originalValue=o,super._validate(e,t,i,(l,c)=>{if(!a||!D2(c)){r(l,c);return}o=o||c;let u=[];for(let d of this._nodes){let p=this.fields[d];!p||Yc.isRef(p)||u.push(p.asNestedTest({options:t,key:d,parent:c,parentPath:t.path,originalParent:o}))}this.runTests({tests:u,value:c,originalValue:o,options:t},i,d=>{r(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[r,s]of Object.entries(this.fields)){const o=i[r];i[r]=o===void 0?s:o}return t.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),t[i]=s&&"getDefault"in s?s.getDefault(o):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=wZ(e,t),i._sortErrors=Q3(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Ly(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let r=vc.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return EZ(s,e)&&(o=Object.assign({},s),i||delete o[e],o[t]=r(s)),o})}json(){return this.transform(MZ)}noUnknown(e=!0,t=Vw.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(r){if(r==null)return!0;const s=bZ(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=Vw.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const r of Object.keys(t))i[e(r)]=t[r];return i})}camelCase(){return this.transformKeys(_A.camelCase)}snakeCase(){return this.transformKeys(_A.snakeCase)}constantCase(){return this.transformKeys(e=>_A.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,o]of Object.entries(t.fields)){var r;let a=e;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),i.fields[s]=o.describe(a)}return i}}Z3.prototype=ek.prototype;const op={_origin:"https://api.emailjs.com"},CZ=(n,e="https://api.emailjs.com")=>{op._userID=n,op._origin=e},tk=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class F2{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const nk=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new F2(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new F2(o))}),s.open("POST",op._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),RZ=(n,e,t,i)=>{const r=i||op._userID;return tk(r,n,e),nk("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},PZ=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},LZ=(n,e,t,i)=>{const r=i||op._userID,s=PZ(t);tk(r,n,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),nk("/api/v1.0/email/send-form",o)},IZ={init:CZ,send:RZ,sendForm:LZ},BZ="_container_1gv8h_1",DZ="_hero_1gv8h_19",FZ="_form_1gv8h_89",OZ="_formGroup_1gv8h_97",kZ="_error_1gv8h_169",NZ="_formButton_1gv8h_185 _primaryButton_s2sxs_1",ms={container:BZ,hero:DZ,form:FZ,formGroup:OZ,error:kZ,formButton:NZ};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Up="158",$l={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ql={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ik=0,Ww=1,rk=2,UZ=3,sk=0,Iv=1,Cd=2,Ss=3,fo=0,Ji=1,Ts=2,zZ=2,qo=0,xc=1,jw=2,Xw=3,Jw=4,ok=5,Da=100,ak=101,lk=102,Kw=103,Yw=104,ck=200,uk=201,fk=202,hk=203,P0=204,L0=205,dk=206,pk=207,mk=208,gk=209,yk=210,vk=211,xk=212,_k=213,Ak=214,Sk=0,wk=1,Mk=2,ap=3,Ek=4,bk=5,Tk=6,Ck=7,zp=0,Rk=1,Pk=2,oo=0,Lk=1,Ik=2,Bk=3,IE=4,Dk=5,qw="attached",Fk="detached",Bv=300,na=301,ol=302,lp=303,cp=304,nh=306,al=1e3,xi=1001,Hf=1002,Ln=1003,up=1004,HZ=1004,Mf=1005,GZ=1005,un=1006,Dv=1007,VZ=1007,ho=1008,WZ=1008,ao=1009,Ok=1010,kk=1011,Fv=1012,BE=1013,Go=1014,Cs=1015,Dc=1016,DE=1017,FE=1018,$a=1020,Nk=1021,rr=1023,Uk=1024,zk=1025,Qa=1026,Fc=1027,Hk=1028,OE=1029,Gk=1030,kE=1031,NE=1033,Iy=33776,By=33777,Dy=33778,Fy=33779,$w=35840,Qw=35841,Zw=35842,e1=35843,Vk=36196,t1=37492,n1=37496,i1=37808,r1=37809,s1=37810,o1=37811,a1=37812,l1=37813,c1=37814,u1=37815,f1=37816,h1=37817,d1=37818,p1=37819,m1=37820,g1=37821,Oy=36492,y1=36494,v1=36495,Wk=36283,x1=36284,_1=36285,A1=36286,jk=2200,Xk=2201,Jk=2202,Gf=2300,Oc=2301,ky=2302,cc=2400,uc=2401,fp=2402,Ov=2500,UE=2501,Kk=0,zE=1,I0=2,HE=3e3,Za=3001,Yk=3200,qk=3201,vl=0,$k=1,Mr="",qn="srgb",po="srgb-linear",kv="display-p3",Hp="display-p3-linear",hp="linear",nn="srgb",dp="rec709",pp="p3",jZ=0,Zl=7680,XZ=7681,JZ=7682,KZ=7683,YZ=34055,qZ=34056,$Z=5386,QZ=512,ZZ=513,eee=514,tee=515,nee=516,iee=517,ree=518,S1=519,Qk=512,Zk=513,eN=514,tN=515,nN=516,iN=517,rN=518,sN=519,mp=35044,see=35048,oee=35040,aee=35045,lee=35049,cee=35041,uee=35046,fee=35050,hee=35042,dee="100",w1="300 es",B0=1035,to=2e3,gp=2001;class vo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let O2=1234567;const _c=Math.PI/180,Vf=180/Math.PI;function Ir(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ri[n&255]+Ri[n>>8&255]+Ri[n>>16&255]+Ri[n>>24&255]+"-"+Ri[e&255]+Ri[e>>8&255]+"-"+Ri[e>>16&15|64]+Ri[e>>24&255]+"-"+Ri[t&63|128]+Ri[t>>8&255]+"-"+Ri[t>>16&255]+Ri[t>>24&255]+Ri[i&255]+Ri[i>>8&255]+Ri[i>>16&255]+Ri[i>>24&255]).toLowerCase()}function In(n,e,t){return Math.max(e,Math.min(t,n))}function GE(n,e){return(n%e+e)%e}function pee(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function mee(n,e,t){return n!==e?(t-n)/(e-n):0}function Rd(n,e,t){return(1-t)*n+t*e}function gee(n,e,t,i){return Rd(n,e,1-Math.exp(-t*i))}function yee(n,e=1){return e-Math.abs(GE(n,e*2)-e)}function vee(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function xee(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function _ee(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Aee(n,e){return n+Math.random()*(e-n)}function See(n){return n*(.5-Math.random())}function wee(n){n!==void 0&&(O2=n);let e=O2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Mee(n){return n*_c}function Eee(n){return n*Vf}function M1(n){return(n&n-1)===0&&n!==0}function oN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function D0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function bee(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function sr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Rt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const uf={DEG2RAD:_c,RAD2DEG:Vf,generateUUID:Ir,clamp:In,euclideanModulo:GE,mapLinear:pee,inverseLerp:mee,lerp:Rd,damp:gee,pingpong:yee,smoothstep:vee,smootherstep:xee,randInt:_ee,randFloat:Aee,randFloatSpread:See,seededRandom:wee,degToRad:Mee,radToDeg:Eee,isPowerOfTwo:M1,ceilPowerOfTwo:oN,floorPowerOfTwo:D0,setQuaternionFromProperEuler:bee,normalize:Rt,denormalize:sr};class Ae{constructor(e=0,t=0){Ae.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(In(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class It{constructor(e,t,i,r,s,o,a,l,c){It.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],p=i[2],m=i[5],y=i[8],x=r[0],_=r[3],g=r[6],A=r[1],S=r[4],w=r[7],b=r[2],T=r[5],C=r[8];return s[0]=o*x+a*A+l*b,s[3]=o*_+a*S+l*T,s[6]=o*g+a*w+l*C,s[1]=c*x+u*A+d*b,s[4]=c*_+u*S+d*T,s[7]=c*g+u*w+d*C,s[2]=p*x+m*A+y*b,s[5]=p*_+m*S+y*T,s[8]=p*g+m*w+y*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=t*d+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=d*x,e[1]=(r*c-u*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(u*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(AA.makeScale(e,t)),this}rotate(e){return this.premultiply(AA.makeRotation(-e)),this}translate(e,t){return this.premultiply(AA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const AA=new It;function aN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Tee={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ff(n,e){return new Tee[n](e)}function yp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function lN(){const n=yp("canvas");return n.style.display="block",n}const k2={};function Pd(n){n in k2||(k2[n]=!0,console.warn(n))}const N2=new It().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),U2=new It().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),yg={[po]:{transfer:hp,primaries:dp,toReference:n=>n,fromReference:n=>n},[qn]:{transfer:nn,primaries:dp,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[Hp]:{transfer:hp,primaries:pp,toReference:n=>n.applyMatrix3(U2),fromReference:n=>n.applyMatrix3(N2)},[kv]:{transfer:nn,primaries:pp,toReference:n=>n.convertSRGBToLinear().applyMatrix3(U2),fromReference:n=>n.applyMatrix3(N2).convertLinearToSRGB()}},Cee=new Set([po,Hp]),qt={enabled:!0,_workingColorSpace:po,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Cee.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=yg[e].toReference,r=yg[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return yg[n].primaries},getTransfer:function(n){return n===Mr?hp:yg[n].transfer}};function Ef(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function SA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let xu;class VE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{xu===void 0&&(xu=yp("canvas")),xu.width=e.width,xu.height=e.height;const i=xu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=xu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=yp("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ef(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ef(t[i]/255)*255):t[i]=Ef(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ree=0;class fc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ree++}),this.uuid=Ir(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(wA(r[o].image)):s.push(wA(r[o]))}else s=wA(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function wA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?VE.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Pee=0;class mn extends vo{constructor(e=mn.DEFAULT_IMAGE,t=mn.DEFAULT_MAPPING,i=xi,r=xi,s=un,o=ho,a=rr,l=ao,c=mn.DEFAULT_ANISOTROPY,u=Mr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Pee++}),this.uuid=Ir(),this.name="",this.source=new fc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new It,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Pd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Za?qn:Mr),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Bv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case al:e.x=e.x-Math.floor(e.x);break;case xi:e.x=e.x<0?0:1;break;case Hf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case al:e.y=e.y-Math.floor(e.y);break;case xi:e.y=e.y<0?0:1;break;case Hf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Pd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===qn?Za:HE}set encoding(e){Pd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Za?qn:Mr}}mn.DEFAULT_IMAGE=null;mn.DEFAULT_MAPPING=Bv;mn.DEFAULT_ANISOTROPY=1;class $t{constructor(e=0,t=0,i=0,r=1){$t.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],y=l[9],x=l[2],_=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-x)<.01&&Math.abs(y-_)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+x)<.1&&Math.abs(y+_)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,w=(m+1)/2,b=(g+1)/2,T=(u+p)/4,C=(d+x)/4,B=(y+_)/4;return S>w&&S>b?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=T/i,s=C/i):w>b?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=T/r,s=B/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=C/s,r=B/s),this.set(i,r,s,t),this}let A=Math.sqrt((_-y)*(_-y)+(d-x)*(d-x)+(p-u)*(p-u));return Math.abs(A)<.001&&(A=1),this.x=(_-y)/A,this.y=(d-x)/A,this.z=(p-u)/A,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cN extends vo{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $t(0,0,e,t),this.scissorTest=!1,this.viewport=new $t(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Pd("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Za?qn:Mr),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:un,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new mn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cs extends cN{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Nv extends mn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ln,this.minFilter=Ln,this.wrapR=xi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lee extends cs{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Nv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class WE extends mn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ln,this.minFilter=Ln,this.wrapR=xi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Iee extends cs{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new WE(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Bee extends cs{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class di{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=x;return}if(d!==x||l!==p||c!==m||u!==y){let _=1-a;const g=l*p+c*m+u*y+d*x,A=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const b=Math.sqrt(S),T=Math.atan2(b,g*A);_=Math.sin(_*T)/b,a=Math.sin(a*T)/b}const w=a*A;if(l=l*_+p*w,c=c*_+m*w,u=u*_+y*w,d=d*_+x*w,_===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=b,c*=b,u*=b,d*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+u*d+l*m-c*p,e[t+1]=l*y+u*p+c*d-a*m,e[t+2]=c*y+u*m+a*p-l*d,e[t+3]=u*y-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d-p*m*y;break;case"YXZ":this._x=p*u*d+c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d+p*m*y;break;case"ZXY":this._x=p*u*d-c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d-p*m*y;break;case"ZYX":this._x=p*u*d-c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d+p*m*y;break;case"YZX":this._x=p*u*d+c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d-p*m*y;break;case"XZY":this._x=p*u*d-c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(In(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(z2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(z2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*t-s*r),d=2*(s*i-o*t);return this.x=t+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return MA.copy(this).projectOnVector(e),this.sub(MA)}reflect(e){return this.sub(MA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(In(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const MA=new N,z2=new di;class ks{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(gs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(gs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=gs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,gs):gs.fromBufferAttribute(s,o),gs.applyMatrix4(e.matrixWorld),this.expandByPoint(gs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),vg.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),vg.copy(i.boundingBox)),vg.applyMatrix4(e.matrixWorld),this.union(vg)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,gs),gs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Hh),xg.subVectors(this.max,Hh),_u.subVectors(e.a,Hh),Au.subVectors(e.b,Hh),Su.subVectors(e.c,Hh),va.subVectors(Au,_u),xa.subVectors(Su,Au),Bl.subVectors(_u,Su);let t=[0,-va.z,va.y,0,-xa.z,xa.y,0,-Bl.z,Bl.y,va.z,0,-va.x,xa.z,0,-xa.x,Bl.z,0,-Bl.x,-va.y,va.x,0,-xa.y,xa.x,0,-Bl.y,Bl.x,0];return!EA(t,_u,Au,Su,xg)||(t=[1,0,0,0,1,0,0,0,1],!EA(t,_u,Au,Su,xg))?!1:(_g.crossVectors(va,xa),t=[_g.x,_g.y,_g.z],EA(t,_u,Au,Su,xg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,gs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(gs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(To[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),To[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),To[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),To[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),To[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),To[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),To[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),To[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(To),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const To=[new N,new N,new N,new N,new N,new N,new N,new N],gs=new N,vg=new ks,_u=new N,Au=new N,Su=new N,va=new N,xa=new N,Bl=new N,Hh=new N,xg=new N,_g=new N,Dl=new N;function EA(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Dl.fromArray(n,s);const a=r.x*Math.abs(Dl.x)+r.y*Math.abs(Dl.y)+r.z*Math.abs(Dl.z),l=e.dot(Dl),c=t.dot(Dl),u=i.dot(Dl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Dee=new ks,Gh=new N,bA=new N;class us{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Dee.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Gh.subVectors(e,this.center);const t=Gh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Gh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(bA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Gh.copy(e.center).add(bA)),this.expandByPoint(Gh.copy(e.center).sub(bA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Co=new N,TA=new N,Ag=new N,_a=new N,CA=new N,Sg=new N,RA=new N;class qc{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Co)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Co.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Co.copy(this.origin).addScaledVector(this.direction,t),Co.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){TA.copy(e).add(t).multiplyScalar(.5),Ag.copy(t).sub(e).normalize(),_a.copy(this.origin).sub(TA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Ag),a=_a.dot(this.direction),l=-_a.dot(Ag),c=_a.lengthSq(),u=Math.abs(1-o*o);let d,p,m,y;if(u>0)if(d=o*l-a,p=o*a-l,y=s*u,d>=0)if(p>=-y)if(p<=y){const x=1/u;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(TA).addScaledVector(Ag,p),m}intersectSphere(e,t){Co.subVectors(e.center,this.origin);const i=Co.dot(this.direction),r=Co.dot(Co)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Co)!==null}intersectTriangle(e,t,i,r,s){CA.subVectors(t,e),Sg.subVectors(i,e),RA.crossVectors(CA,Sg);let o=this.direction.dot(RA),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;_a.subVectors(this.origin,e);const l=a*this.direction.dot(Sg.crossVectors(_a,Sg));if(l<0)return null;const c=a*this.direction.dot(CA.cross(_a));if(c<0||l+c>o)return null;const u=-a*_a.dot(RA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _t{constructor(e,t,i,r,s,o,a,l,c,u,d,p,m,y,x,_){_t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,d,p,m,y,x,_)}set(e,t,i,r,s,o,a,l,c,u,d,p,m,y,x,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=p,g[3]=m,g[7]=y,g[11]=x,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _t().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/wu.setFromMatrixColumn(e,0).length(),s=1/wu.setFromMatrixColumn(e,1).length(),o=1/wu.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,y=a*u,x=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+y*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,y=c*u,x=c*d;t[0]=p+x*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-y,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,y=c*u,x=c*d;t[0]=p-x*a,t[4]=-o*d,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*u,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,y=a*u,x=a*d;t[0]=l*u,t[4]=y*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,x=a*c;t[0]=l*u,t[4]=x-p*d,t[8]=y*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+y,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,x=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+x,t[5]=o*u,t[9]=m*d-y,t[2]=y*d-m,t[6]=a*u,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Fee,e,Oee)}lookAt(e,t,i){const r=this.elements;return yr.subVectors(e,t),yr.lengthSq()===0&&(yr.z=1),yr.normalize(),Aa.crossVectors(i,yr),Aa.lengthSq()===0&&(Math.abs(i.z)===1?yr.x+=1e-4:yr.z+=1e-4,yr.normalize(),Aa.crossVectors(i,yr)),Aa.normalize(),wg.crossVectors(yr,Aa),r[0]=Aa.x,r[4]=wg.x,r[8]=yr.x,r[1]=Aa.y,r[5]=wg.y,r[9]=yr.y,r[2]=Aa.z,r[6]=wg.z,r[10]=yr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],p=i[9],m=i[13],y=i[2],x=i[6],_=i[10],g=i[14],A=i[3],S=i[7],w=i[11],b=i[15],T=r[0],C=r[4],B=r[8],P=r[12],L=r[1],U=r[5],te=r[9],ne=r[13],V=r[2],$=r[6],le=r[10],ue=r[14],G=r[3],Y=r[7],q=r[11],z=r[15];return s[0]=o*T+a*L+l*V+c*G,s[4]=o*C+a*U+l*$+c*Y,s[8]=o*B+a*te+l*le+c*q,s[12]=o*P+a*ne+l*ue+c*z,s[1]=u*T+d*L+p*V+m*G,s[5]=u*C+d*U+p*$+m*Y,s[9]=u*B+d*te+p*le+m*q,s[13]=u*P+d*ne+p*ue+m*z,s[2]=y*T+x*L+_*V+g*G,s[6]=y*C+x*U+_*$+g*Y,s[10]=y*B+x*te+_*le+g*q,s[14]=y*P+x*ne+_*ue+g*z,s[3]=A*T+S*L+w*V+b*G,s[7]=A*C+S*U+w*$+b*Y,s[11]=A*B+S*te+w*le+b*q,s[15]=A*P+S*ne+w*ue+b*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],y=e[3],x=e[7],_=e[11],g=e[15];return y*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*u-s*l*u)+_*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+g*(-r*a*u-t*l*d+t*a*p+r*o*d-i*o*p+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],y=e[12],x=e[13],_=e[14],g=e[15],A=d*_*c-x*p*c+x*l*m-a*_*m-d*l*g+a*p*g,S=y*p*c-u*_*c-y*l*m+o*_*m+u*l*g-o*p*g,w=u*x*c-y*d*c+y*a*m-o*x*m-u*a*g+o*d*g,b=y*d*l-u*x*l-y*a*p+o*x*p+u*a*_-o*d*_,T=t*A+i*S+r*w+s*b;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/T;return e[0]=A*C,e[1]=(x*p*s-d*_*s-x*r*m+i*_*m+d*r*g-i*p*g)*C,e[2]=(a*_*s-x*l*s+x*r*c-i*_*c-a*r*g+i*l*g)*C,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*C,e[4]=S*C,e[5]=(u*_*s-y*p*s+y*r*m-t*_*m-u*r*g+t*p*g)*C,e[6]=(y*l*s-o*_*s-y*r*c+t*_*c+o*r*g-t*l*g)*C,e[7]=(o*p*s-u*l*s+u*r*c-t*p*c-o*r*m+t*l*m)*C,e[8]=w*C,e[9]=(y*d*s-u*x*s-y*i*m+t*x*m+u*i*g-t*d*g)*C,e[10]=(o*x*s-y*a*s+y*i*c-t*x*c-o*i*g+t*a*g)*C,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*m-t*a*m)*C,e[12]=b*C,e[13]=(u*x*r-y*d*r+y*i*p-t*x*p-u*i*_+t*d*_)*C,e[14]=(y*a*r-o*x*r-y*i*l+t*x*l+o*i*_-t*a*_)*C,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*p+t*a*p)*C,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,y=s*d,x=o*u,_=o*d,g=a*d,A=l*c,S=l*u,w=l*d,b=i.x,T=i.y,C=i.z;return r[0]=(1-(x+g))*b,r[1]=(m+w)*b,r[2]=(y-S)*b,r[3]=0,r[4]=(m-w)*T,r[5]=(1-(p+g))*T,r[6]=(_+A)*T,r[7]=0,r[8]=(y+S)*C,r[9]=(_-A)*C,r[10]=(1-(p+x))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=wu.set(r[0],r[1],r[2]).length();const o=wu.set(r[4],r[5],r[6]).length(),a=wu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ys.copy(this);const c=1/s,u=1/o,d=1/a;return ys.elements[0]*=c,ys.elements[1]*=c,ys.elements[2]*=c,ys.elements[4]*=u,ys.elements[5]*=u,ys.elements[6]*=u,ys.elements[8]*=d,ys.elements[9]*=d,ys.elements[10]*=d,t.setFromRotationMatrix(ys),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=to){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,y;if(a===to)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===gp)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=to){const l=this.elements,c=1/(t-e),u=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*u;let y,x;if(a===to)y=(o+s)*d,x=-2*d;else if(a===gp)y=s*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const wu=new N,ys=new _t,Fee=new N(0,0,0),Oee=new N(1,1,1),Aa=new N,wg=new N,yr=new N,H2=new _t,G2=new di;class Gp{constructor(e=0,t=0,i=0,r=Gp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(In(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-In(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(In(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-In(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(In(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-In(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return H2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(H2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return G2.setFromEuler(this),this.setFromQuaternion(G2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Gp.DEFAULT_ORDER="XYZ";class Ac{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kee=0;const V2=new N,Mu=new di,Ro=new _t,Mg=new N,Vh=new N,Nee=new N,Uee=new di,W2=new N(1,0,0),j2=new N(0,1,0),X2=new N(0,0,1),zee={type:"added"},Hee={type:"removed"};class kt extends vo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kee++}),this.uuid=Ir(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kt.DEFAULT_UP.clone();const e=new N,t=new Gp,i=new di,r=new N(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _t},normalMatrix:{value:new It}}),this.matrix=new _t,this.matrixWorld=new _t,this.matrixAutoUpdate=kt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ac,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Mu.setFromAxisAngle(e,t),this.quaternion.multiply(Mu),this}rotateOnWorldAxis(e,t){return Mu.setFromAxisAngle(e,t),this.quaternion.premultiply(Mu),this}rotateX(e){return this.rotateOnAxis(W2,e)}rotateY(e){return this.rotateOnAxis(j2,e)}rotateZ(e){return this.rotateOnAxis(X2,e)}translateOnAxis(e,t){return V2.copy(e).applyQuaternion(this.quaternion),this.position.add(V2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(W2,e)}translateY(e){return this.translateOnAxis(j2,e)}translateZ(e){return this.translateOnAxis(X2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ro.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Mg.copy(e):Mg.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Vh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ro.lookAt(Vh,Mg,this.up):Ro.lookAt(Mg,Vh,this.up),this.quaternion.setFromRotationMatrix(Ro),r&&(Ro.extractRotation(r.matrixWorld),Mu.setFromRotationMatrix(Ro),this.quaternion.premultiply(Mu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Hee)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ro.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ro.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ro),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vh,e,Nee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vh,Uee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}kt.DEFAULT_UP=new N(0,1,0);kt.DEFAULT_MATRIX_AUTO_UPDATE=!0;kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const vs=new N,Po=new N,PA=new N,Lo=new N,Eu=new N,bu=new N,J2=new N,LA=new N,IA=new N,BA=new N;let Eg=!1;class ir{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),vs.subVectors(e,t),r.cross(vs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){vs.subVectors(r,t),Po.subVectors(i,t),PA.subVectors(e,t);const o=vs.dot(vs),a=vs.dot(Po),l=vs.dot(PA),c=Po.dot(Po),u=Po.dot(PA),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Lo),Lo.x>=0&&Lo.y>=0&&Lo.x+Lo.y<=1}static getUV(e,t,i,r,s,o,a,l){return Eg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Eg=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Lo),l.setScalar(0),l.addScaledVector(s,Lo.x),l.addScaledVector(o,Lo.y),l.addScaledVector(a,Lo.z),l}static isFrontFacing(e,t,i,r){return vs.subVectors(i,t),Po.subVectors(e,t),vs.cross(Po).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return vs.subVectors(this.c,this.b),Po.subVectors(this.a,this.b),vs.cross(Po).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ir.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ir.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Eg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Eg=!0),ir.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return ir.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ir.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ir.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Eu.subVectors(r,i),bu.subVectors(s,i),LA.subVectors(e,i);const l=Eu.dot(LA),c=bu.dot(LA);if(l<=0&&c<=0)return t.copy(i);IA.subVectors(e,r);const u=Eu.dot(IA),d=bu.dot(IA);if(u>=0&&d<=u)return t.copy(r);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Eu,o);BA.subVectors(e,s);const m=Eu.dot(BA),y=bu.dot(BA);if(y>=0&&m<=y)return t.copy(s);const x=m*c-l*y;if(x<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(i).addScaledVector(bu,a);const _=u*y-m*d;if(_<=0&&d-u>=0&&m-y>=0)return J2.subVectors(s,r),a=(d-u)/(d-u+(m-y)),t.copy(r).addScaledVector(J2,a);const g=1/(_+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector(Eu,o).addScaledVector(bu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const uN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sa={h:0,s:0,l:0},bg={h:0,s:0,l:0};function DA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class We{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=qt.workingColorSpace){return this.r=e,this.g=t,this.b=i,qt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=qt.workingColorSpace){if(e=GE(e,1),t=In(t,0,1),i=In(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=DA(o,s,e+1/3),this.g=DA(o,s,e),this.b=DA(o,s,e-1/3)}return qt.toWorkingColorSpace(this,r),this}setStyle(e,t=qn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=qn){const i=uN[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ef(e.r),this.g=Ef(e.g),this.b=Ef(e.b),this}copyLinearToSRGB(e){return this.r=SA(e.r),this.g=SA(e.g),this.b=SA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qn){return qt.fromWorkingColorSpace(Pi.copy(this),e),Math.round(In(Pi.r*255,0,255))*65536+Math.round(In(Pi.g*255,0,255))*256+Math.round(In(Pi.b*255,0,255))}getHexString(e=qn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qt.workingColorSpace){qt.fromWorkingColorSpace(Pi.copy(this),t);const i=Pi.r,r=Pi.g,s=Pi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=qt.workingColorSpace){return qt.fromWorkingColorSpace(Pi.copy(this),t),e.r=Pi.r,e.g=Pi.g,e.b=Pi.b,e}getStyle(e=qn){qt.fromWorkingColorSpace(Pi.copy(this),e);const t=Pi.r,i=Pi.g,r=Pi.b;return e!==qn?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Sa),this.setHSL(Sa.h+e,Sa.s+t,Sa.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Sa),e.getHSL(bg);const i=Rd(Sa.h,bg.h,t),r=Rd(Sa.s,bg.s,t),s=Rd(Sa.l,bg.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Pi=new We;We.NAMES=uN;let Gee=0;class Xn extends vo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Gee++}),this.uuid=Ir(),this.name="",this.type="Material",this.blending=xc,this.side=fo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=P0,this.blendDst=L0,this.blendEquation=Da,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new We(0,0,0),this.blendAlpha=0,this.depthFunc=ap,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=S1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zl,this.stencilZFail=Zl,this.stencilZPass=Zl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==xc&&(i.blending=this.blending),this.side!==fo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==P0&&(i.blendSrc=this.blendSrc),this.blendDst!==L0&&(i.blendDst=this.blendDst),this.blendEquation!==Da&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ap&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==S1&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Zl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Zl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Zl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class br extends Xn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const No=Vee();function Vee(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function er(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=In(n,-65504,65504),No.floatView[0]=n;const e=No.uint32View[0],t=e>>23&511;return No.baseTable[t]+((e&8388607)>>No.shiftTable[t])}function sd(n){const e=n>>10;return No.uint32View[0]=No.mantissaTable[No.offsetTable[e]+(n&1023)]+No.exponentTable[e],No.floatView[0]}const Wee={toHalfFloat:er,fromHalfFloat:sd},Vn=new N,Tg=new Ae;class Jt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=mp,this.updateRange={offset:0,count:-1},this.gpuType=Cs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Tg.fromBufferAttribute(this,t),Tg.applyMatrix3(e),this.setXY(t,Tg.x,Tg.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix3(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix4(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Vn.fromBufferAttribute(this,t),Vn.applyNormalMatrix(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Vn.fromBufferAttribute(this,t),Vn.transformDirection(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=sr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Rt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=sr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=sr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=sr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=sr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array),r=Rt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array),r=Rt(r,this.array),s=Rt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class jee extends Jt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Xee extends Jt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Jee extends Jt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Kee extends Jt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class jE extends Jt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Yee extends Jt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class XE extends Jt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class qee extends Jt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=sd(this.array[e*this.itemSize]);return this.normalized&&(t=sr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize]=er(t),this}getY(e){let t=sd(this.array[e*this.itemSize+1]);return this.normalized&&(t=sr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize+1]=er(t),this}getZ(e){let t=sd(this.array[e*this.itemSize+2]);return this.normalized&&(t=sr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize+2]=er(t),this}getW(e){let t=sd(this.array[e*this.itemSize+3]);return this.normalized&&(t=sr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rt(t,this.array)),this.array[e*this.itemSize+3]=er(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array)),this.array[e+0]=er(t),this.array[e+1]=er(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array),r=Rt(r,this.array)),this.array[e+0]=er(t),this.array[e+1]=er(i),this.array[e+2]=er(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array),r=Rt(r,this.array),s=Rt(s,this.array)),this.array[e+0]=er(t),this.array[e+1]=er(i),this.array[e+2]=er(r),this.array[e+3]=er(s),this}}class it extends Jt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class $ee extends Jt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let Qee=0;const Zr=new _t,FA=new kt,Tu=new N,vr=new ks,Wh=new ks,oi=new N;class Tt extends vo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qee++}),this.uuid=Ir(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(aN(e)?XE:jE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new It().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zr.makeRotationFromQuaternion(e),this.applyMatrix4(Zr),this}rotateX(e){return Zr.makeRotationX(e),this.applyMatrix4(Zr),this}rotateY(e){return Zr.makeRotationY(e),this.applyMatrix4(Zr),this}rotateZ(e){return Zr.makeRotationZ(e),this.applyMatrix4(Zr),this}translate(e,t,i){return Zr.makeTranslation(e,t,i),this.applyMatrix4(Zr),this}scale(e,t,i){return Zr.makeScale(e,t,i),this.applyMatrix4(Zr),this}lookAt(e){return FA.lookAt(e),FA.updateMatrix(),this.applyMatrix4(FA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tu).negate(),this.translate(Tu.x,Tu.y,Tu.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new it(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ks);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];vr.setFromBufferAttribute(s),this.morphTargetsRelative?(oi.addVectors(this.boundingBox.min,vr.min),this.boundingBox.expandByPoint(oi),oi.addVectors(this.boundingBox.max,vr.max),this.boundingBox.expandByPoint(oi)):(this.boundingBox.expandByPoint(vr.min),this.boundingBox.expandByPoint(vr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new us);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const i=this.boundingSphere.center;if(vr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Wh.setFromBufferAttribute(a),this.morphTargetsRelative?(oi.addVectors(vr.min,Wh.min),vr.expandByPoint(oi),oi.addVectors(vr.max,Wh.max),vr.expandByPoint(oi)):(vr.expandByPoint(Wh.min),vr.expandByPoint(Wh.max))}vr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)oi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(oi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)oi.fromBufferAttribute(a,c),l&&(Tu.fromBufferAttribute(e,c),oi.add(Tu)),r=Math.max(r,i.distanceToSquared(oi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new N,u[L]=new N;const d=new N,p=new N,m=new N,y=new Ae,x=new Ae,_=new Ae,g=new N,A=new N;function S(L,U,te){d.fromArray(r,L*3),p.fromArray(r,U*3),m.fromArray(r,te*3),y.fromArray(o,L*2),x.fromArray(o,U*2),_.fromArray(o,te*2),p.sub(d),m.sub(d),x.sub(y),_.sub(y);const ne=1/(x.x*_.y-_.x*x.y);isFinite(ne)&&(g.copy(p).multiplyScalar(_.y).addScaledVector(m,-x.y).multiplyScalar(ne),A.copy(m).multiplyScalar(x.x).addScaledVector(p,-_.x).multiplyScalar(ne),c[L].add(g),c[U].add(g),c[te].add(g),u[L].add(A),u[U].add(A),u[te].add(A))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let L=0,U=w.length;L<U;++L){const te=w[L],ne=te.start,V=te.count;for(let $=ne,le=ne+V;$<le;$+=3)S(i[$+0],i[$+1],i[$+2])}const b=new N,T=new N,C=new N,B=new N;function P(L){C.fromArray(s,L*3),B.copy(C);const U=c[L];b.copy(U),b.sub(C.multiplyScalar(C.dot(U))).normalize(),T.crossVectors(B,U);const ne=T.dot(u[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=ne}for(let L=0,U=w.length;L<U;++L){const te=w[L],ne=te.start,V=te.count;for(let $=ne,le=ne+V;$<le;$+=3)P(i[$+0]),P(i[$+1]),P(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Jt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new N,s=new N,o=new N,a=new N,l=new N,c=new N,u=new N,d=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),x=e.getX(p+1),_=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,_),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(p+0,u.x,u.y,u.z),i.setXYZ(p+1,u.x,u.y,u.z),i.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)oi.fromBufferAttribute(e,t),oi.normalize(),e.setXYZ(t,oi.x,oi.y,oi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let x=0,_=l.length;x<_;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[y++]=c[m++]}return new Jt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Tt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const K2=new _t,Fl=new qc,Cg=new us,Y2=new N,Cu=new N,Ru=new N,Pu=new N,OA=new N,Rg=new N,Pg=new Ae,Lg=new Ae,Ig=new Ae,q2=new N,$2=new N,Q2=new N,Bg=new N,Dg=new N;class ui extends kt{constructor(e=new Tt,t=new br){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Rg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(OA.fromBufferAttribute(d,e),o?Rg.addScaledVector(OA,u):Rg.addScaledVector(OA.sub(t),u))}t.add(Rg)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Cg.copy(i.boundingSphere),Cg.applyMatrix4(s),Fl.copy(e.ray).recast(e.near),!(Cg.containsPoint(Fl.origin)===!1&&(Fl.intersectSphere(Cg,Y2)===null||Fl.origin.distanceToSquared(Y2)>(e.far-e.near)**2))&&(K2.copy(s).invert(),Fl.copy(e.ray).applyMatrix4(K2),!(i.boundingBox!==null&&Fl.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Fl)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,x=p.length;y<x;y++){const _=p[y],g=o[_.materialIndex],A=Math.max(_.start,m.start),S=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let w=A,b=S;w<b;w+=3){const T=a.getX(w),C=a.getX(w+1),B=a.getX(w+2);r=Fg(this,g,e,i,c,u,d,T,C,B),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let _=y,g=x;_<g;_+=3){const A=a.getX(_),S=a.getX(_+1),w=a.getX(_+2);r=Fg(this,o,e,i,c,u,d,A,S,w),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,x=p.length;y<x;y++){const _=p[y],g=o[_.materialIndex],A=Math.max(_.start,m.start),S=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let w=A,b=S;w<b;w+=3){const T=w,C=w+1,B=w+2;r=Fg(this,g,e,i,c,u,d,T,C,B),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let _=y,g=x;_<g;_+=3){const A=_,S=_+1,w=_+2;r=Fg(this,o,e,i,c,u,d,A,S,w),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function Zee(n,e,t,i,r,s,o,a){let l;if(e.side===Ji?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===fo,a),l===null)return null;Dg.copy(a),Dg.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Dg);return c<t.near||c>t.far?null:{distance:c,point:Dg.clone(),object:n}}function Fg(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Cu),n.getVertexPosition(l,Ru),n.getVertexPosition(c,Pu);const u=Zee(n,e,t,i,Cu,Ru,Pu,Bg);if(u){r&&(Pg.fromBufferAttribute(r,a),Lg.fromBufferAttribute(r,l),Ig.fromBufferAttribute(r,c),u.uv=ir.getInterpolation(Bg,Cu,Ru,Pu,Pg,Lg,Ig,new Ae)),s&&(Pg.fromBufferAttribute(s,a),Lg.fromBufferAttribute(s,l),Ig.fromBufferAttribute(s,c),u.uv1=ir.getInterpolation(Bg,Cu,Ru,Pu,Pg,Lg,Ig,new Ae),u.uv2=u.uv1),o&&(q2.fromBufferAttribute(o,a),$2.fromBufferAttribute(o,l),Q2.fromBufferAttribute(o,c),u.normal=ir.getInterpolation(Bg,Cu,Ru,Pu,q2,$2,Q2,new N),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new N,materialIndex:0};ir.getNormal(Cu,Ru,Pu,d.normal),u.face=d}return u}class $c extends Tt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new it(c,3)),this.setAttribute("normal",new it(u,3)),this.setAttribute("uv",new it(d,2));function y(x,_,g,A,S,w,b,T,C,B,P){const L=w/C,U=b/B,te=w/2,ne=b/2,V=T/2,$=C+1,le=B+1;let ue=0,G=0;const Y=new N;for(let q=0;q<le;q++){const z=q*U-ne;for(let J=0;J<$;J++){const _e=J*L-te;Y[x]=_e*A,Y[_]=z*S,Y[g]=V,c.push(Y.x,Y.y,Y.z),Y[x]=0,Y[_]=0,Y[g]=T>0?1:-1,u.push(Y.x,Y.y,Y.z),d.push(J/C),d.push(1-q/B),ue+=1}}for(let q=0;q<B;q++)for(let z=0;z<C;z++){const J=p+z+$*q,_e=p+z+$*(q+1),Me=p+(z+1)+$*(q+1),Ee=p+(z+1)+$*q;l.push(J,_e,Ee),l.push(_e,Me,Ee),G+=6}a.addGroup(m,G,P),m+=G,p+=ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $c(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Wf(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Gi(n){const e={};for(let t=0;t<n.length;t++){const i=Wf(n[t]);for(const r in i)e[r]=i[r]}return e}function ete(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function fN(n){return n.getRenderTarget()===null?n.outputColorSpace:qt.workingColorSpace}const hN={clone:Wf,merge:Gi};var tte=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nte=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class mo extends Xn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=tte,this.fragmentShader=nte,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Wf(e.uniforms),this.uniformsGroups=ete(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Vp extends kt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _t,this.projectionMatrix=new _t,this.projectionMatrixInverse=new _t,this.coordinateSystem=to}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let _n=class extends Vp{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Vf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_c*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vf*2*Math.atan(Math.tan(_c*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_c*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Lu=-90,Iu=1;class dN extends kt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new _n(Lu,Iu,e,t);r.layers=this.layers,this.add(r);const s=new _n(Lu,Iu,e,t);s.layers=this.layers,this.add(s);const o=new _n(Lu,Iu,e,t);o.layers=this.layers,this.add(o);const a=new _n(Lu,Iu,e,t);a.layers=this.layers,this.add(a);const l=new _n(Lu,Iu,e,t);l.layers=this.layers,this.add(l);const c=new _n(Lu,Iu,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===to)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===gp)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(d,p,m),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class Wp extends mn{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:na,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class pN extends cs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Pd("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Za?qn:Mr),this.texture=new Wp(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:un}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new $c(5,5,5),s=new mo({name:"CubemapFromEquirect",uniforms:Wf(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ji,blending:qo});s.uniforms.tEquirect.value=t;const o=new ui(r,s),a=t.minFilter;return t.minFilter===ho&&(t.minFilter=un),new dN(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const kA=new N,ite=new N,rte=new It;class ko{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=kA.subVectors(i,t).cross(ite.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(kA),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||rte.getNormalMatrix(e),r=this.coplanarPoint(kA).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ol=new us,Og=new N;class Uv{constructor(e=new ko,t=new ko,i=new ko,r=new ko,s=new ko,o=new ko){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=to){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],p=r[7],m=r[8],y=r[9],x=r[10],_=r[11],g=r[12],A=r[13],S=r[14],w=r[15];if(i[0].setComponents(l-s,p-c,_-m,w-g).normalize(),i[1].setComponents(l+s,p+c,_+m,w+g).normalize(),i[2].setComponents(l+o,p+u,_+y,w+A).normalize(),i[3].setComponents(l-o,p-u,_-y,w-A).normalize(),i[4].setComponents(l-a,p-d,_-x,w-S).normalize(),t===to)i[5].setComponents(l+a,p+d,_+x,w+S).normalize();else if(t===gp)i[5].setComponents(a,d,x,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ol.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ol.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ol)}intersectsSprite(e){return Ol.center.set(0,0,0),Ol.radius=.7071067811865476,Ol.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ol)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Og.x=r.normal.x>0?e.max.x:e.min.x,Og.y=r.normal.y>0?e.max.y:e.min.y,Og.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Og)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function mN(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function ste(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,p),c.onUploadCallback();let y;if(d instanceof Float32Array)y=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=n.SHORT;else if(d instanceof Uint32Array)y=n.UNSIGNED_INT;else if(d instanceof Int32Array)y=n.INT;else if(d instanceof Int8Array)y=n.BYTE;else if(d instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class jp extends Tt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,p=t/l,m=[],y=[],x=[],_=[];for(let g=0;g<u;g++){const A=g*p-o;for(let S=0;S<c;S++){const w=S*d-s;y.push(w,-A,0),x.push(0,0,1),_.push(S/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const S=A+c*g,w=A+c*(g+1),b=A+1+c*(g+1),T=A+1+c*g;m.push(S,w,T),m.push(w,b,T)}this.setIndex(m),this.setAttribute("position",new it(y,3)),this.setAttribute("normal",new it(x,3)),this.setAttribute("uv",new it(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jp(e.width,e.height,e.widthSegments,e.heightSegments)}}var ote=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ate=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,lte=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,cte=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ute=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,fte=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hte=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dte=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pte=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,mte=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gte=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,yte=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,vte=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xte=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,_te=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ate=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ste=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wte=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Mte=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ete=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,bte=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Tte=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Cte=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Rte=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Pte=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lte=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ite=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Bte=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Dte="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fte=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Ote=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,kte=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Nte=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ute=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Hte=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Gte=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vte=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Wte=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,jte=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Xte=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Jte=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Kte=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Yte=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qte=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$te=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Qte=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Zte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ene=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tne=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,nne=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,ine=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rne=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,sne=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,one=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ane=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lne=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cne=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,une=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,fne=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,hne=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dne=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,pne=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mne=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gne=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,yne=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,vne=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,xne=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,_ne=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Ane=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Sne=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Mne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ene=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bne=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Tne=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Cne=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Rne=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pne=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Lne=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ine=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Bne=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Dne=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Fne=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,One=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kne=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Nne=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Une=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,zne=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Hne=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Gne=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Vne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Wne=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,jne=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Xne=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Jne=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Kne=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Yne=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qne=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$ne=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Qne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Zne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nie=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const iie=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rie=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oie=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lie=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cie=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uie=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fie=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hie=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,die=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pie=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mie=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gie=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yie=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,vie=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xie=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ie=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aie=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Sie=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wie=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Mie=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Eie=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bie=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tie=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Cie=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rie=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pie=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lie=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Iie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Bie=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Die=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fie=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ct={alphahash_fragment:ote,alphahash_pars_fragment:ate,alphamap_fragment:lte,alphamap_pars_fragment:cte,alphatest_fragment:ute,alphatest_pars_fragment:fte,aomap_fragment:hte,aomap_pars_fragment:dte,begin_vertex:pte,beginnormal_vertex:mte,bsdfs:gte,iridescence_fragment:yte,bumpmap_pars_fragment:vte,clipping_planes_fragment:xte,clipping_planes_pars_fragment:_te,clipping_planes_pars_vertex:Ate,clipping_planes_vertex:Ste,color_fragment:wte,color_pars_fragment:Mte,color_pars_vertex:Ete,color_vertex:bte,common:Tte,cube_uv_reflection_fragment:Cte,defaultnormal_vertex:Rte,displacementmap_pars_vertex:Pte,displacementmap_vertex:Lte,emissivemap_fragment:Ite,emissivemap_pars_fragment:Bte,colorspace_fragment:Dte,colorspace_pars_fragment:Fte,envmap_fragment:Ote,envmap_common_pars_fragment:kte,envmap_pars_fragment:Nte,envmap_pars_vertex:Ute,envmap_physical_pars_fragment:$te,envmap_vertex:zte,fog_vertex:Hte,fog_pars_vertex:Gte,fog_fragment:Vte,fog_pars_fragment:Wte,gradientmap_pars_fragment:jte,lightmap_fragment:Xte,lightmap_pars_fragment:Jte,lights_lambert_fragment:Kte,lights_lambert_pars_fragment:Yte,lights_pars_begin:qte,lights_toon_fragment:Qte,lights_toon_pars_fragment:Zte,lights_phong_fragment:ene,lights_phong_pars_fragment:tne,lights_physical_fragment:nne,lights_physical_pars_fragment:ine,lights_fragment_begin:rne,lights_fragment_maps:sne,lights_fragment_end:one,logdepthbuf_fragment:ane,logdepthbuf_pars_fragment:lne,logdepthbuf_pars_vertex:cne,logdepthbuf_vertex:une,map_fragment:fne,map_pars_fragment:hne,map_particle_fragment:dne,map_particle_pars_fragment:pne,metalnessmap_fragment:mne,metalnessmap_pars_fragment:gne,morphcolor_vertex:yne,morphnormal_vertex:vne,morphtarget_pars_vertex:xne,morphtarget_vertex:_ne,normal_fragment_begin:Ane,normal_fragment_maps:Sne,normal_pars_fragment:wne,normal_pars_vertex:Mne,normal_vertex:Ene,normalmap_pars_fragment:bne,clearcoat_normal_fragment_begin:Tne,clearcoat_normal_fragment_maps:Cne,clearcoat_pars_fragment:Rne,iridescence_pars_fragment:Pne,opaque_fragment:Lne,packing:Ine,premultiplied_alpha_fragment:Bne,project_vertex:Dne,dithering_fragment:Fne,dithering_pars_fragment:One,roughnessmap_fragment:kne,roughnessmap_pars_fragment:Nne,shadowmap_pars_fragment:Une,shadowmap_pars_vertex:zne,shadowmap_vertex:Hne,shadowmask_pars_fragment:Gne,skinbase_vertex:Vne,skinning_pars_vertex:Wne,skinning_vertex:jne,skinnormal_vertex:Xne,specularmap_fragment:Jne,specularmap_pars_fragment:Kne,tonemapping_fragment:Yne,tonemapping_pars_fragment:qne,transmission_fragment:$ne,transmission_pars_fragment:Qne,uv_pars_fragment:Zne,uv_pars_vertex:eie,uv_vertex:tie,worldpos_vertex:nie,background_vert:iie,background_frag:rie,backgroundCube_vert:sie,backgroundCube_frag:oie,cube_vert:aie,cube_frag:lie,depth_vert:cie,depth_frag:uie,distanceRGBA_vert:fie,distanceRGBA_frag:hie,equirect_vert:die,equirect_frag:pie,linedashed_vert:mie,linedashed_frag:gie,meshbasic_vert:yie,meshbasic_frag:vie,meshlambert_vert:xie,meshlambert_frag:_ie,meshmatcap_vert:Aie,meshmatcap_frag:Sie,meshnormal_vert:wie,meshnormal_frag:Mie,meshphong_vert:Eie,meshphong_frag:bie,meshphysical_vert:Tie,meshphysical_frag:Cie,meshtoon_vert:Rie,meshtoon_frag:Pie,points_vert:Lie,points_frag:Iie,shadow_vert:Bie,shadow_frag:Die,sprite_vert:Fie,sprite_frag:Oie},He={common:{diffuse:{value:new We(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new It}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new It}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new It}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new It},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new It},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new It},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new It}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new It}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new It}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0},uvTransform:{value:new It}},sprite:{diffuse:{value:new We(16777215)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}}},bs={basic:{uniforms:Gi([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.fog]),vertexShader:Ct.meshbasic_vert,fragmentShader:Ct.meshbasic_frag},lambert:{uniforms:Gi([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new We(0)}}]),vertexShader:Ct.meshlambert_vert,fragmentShader:Ct.meshlambert_frag},phong:{uniforms:Gi([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:Ct.meshphong_vert,fragmentShader:Ct.meshphong_frag},standard:{uniforms:Gi([He.common,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.roughnessmap,He.metalnessmap,He.fog,He.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag},toon:{uniforms:Gi([He.common,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.gradientmap,He.fog,He.lights,{emissive:{value:new We(0)}}]),vertexShader:Ct.meshtoon_vert,fragmentShader:Ct.meshtoon_frag},matcap:{uniforms:Gi([He.common,He.bumpmap,He.normalmap,He.displacementmap,He.fog,{matcap:{value:null}}]),vertexShader:Ct.meshmatcap_vert,fragmentShader:Ct.meshmatcap_frag},points:{uniforms:Gi([He.points,He.fog]),vertexShader:Ct.points_vert,fragmentShader:Ct.points_frag},dashed:{uniforms:Gi([He.common,He.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ct.linedashed_vert,fragmentShader:Ct.linedashed_frag},depth:{uniforms:Gi([He.common,He.displacementmap]),vertexShader:Ct.depth_vert,fragmentShader:Ct.depth_frag},normal:{uniforms:Gi([He.common,He.bumpmap,He.normalmap,He.displacementmap,{opacity:{value:1}}]),vertexShader:Ct.meshnormal_vert,fragmentShader:Ct.meshnormal_frag},sprite:{uniforms:Gi([He.sprite,He.fog]),vertexShader:Ct.sprite_vert,fragmentShader:Ct.sprite_frag},background:{uniforms:{uvTransform:{value:new It},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ct.background_vert,fragmentShader:Ct.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ct.backgroundCube_vert,fragmentShader:Ct.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ct.cube_vert,fragmentShader:Ct.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ct.equirect_vert,fragmentShader:Ct.equirect_frag},distanceRGBA:{uniforms:Gi([He.common,He.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ct.distanceRGBA_vert,fragmentShader:Ct.distanceRGBA_frag},shadow:{uniforms:Gi([He.lights,He.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:Ct.shadow_vert,fragmentShader:Ct.shadow_frag}};bs.physical={uniforms:Gi([bs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new It},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new It},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new It},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new It},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new It},sheen:{value:0},sheenColor:{value:new We(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new It},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new It},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new It},transmissionSamplerSize:{value:new Ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new It},attenuationDistance:{value:0},attenuationColor:{value:new We(0)},specularColor:{value:new We(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new It},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new It},anisotropyVector:{value:new Ae},anisotropyMap:{value:null},anisotropyMapTransform:{value:new It}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag};const kg={r:0,b:0,g:0};function kie(n,e,t,i,r,s,o){const a=new We(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function y(_,g){let A=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?x(a,l):S&&S.isColor&&(x(S,1),A=!0);const w=n.xr.getEnvironmentBlendMode();w==="additive"?i.buffers.color.setClear(0,0,0,1,o):w==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===nh)?(u===void 0&&(u=new ui(new $c(1,1,1),new mo({name:"BackgroundCubeMaterial",uniforms:Wf(bs.backgroundCube.uniforms),vertexShader:bs.backgroundCube.vertexShader,fragmentShader:bs.backgroundCube.fragmentShader,side:Ji,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,T,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=qt.getTransfer(S.colorSpace)!==nn,(d!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new ui(new jp(2,2),new mo({name:"BackgroundMaterial",uniforms:Wf(bs.background.uniforms),vertexShader:bs.background.vertexShader,fragmentShader:bs.background.fragmentShader,side:fo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=qt.getTransfer(S.colorSpace)!==nn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function x(_,g){_.getRGB(kg,fN(n)),i.buffers.color.setClear(kg.r,kg.g,kg.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(_,g=1){a.set(_),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,x(a,l)},render:y}}function Nie(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function d(V,$,le,ue,G){let Y=!1;if(o){const q=x(ue,le,$);c!==q&&(c=q,m(c.object)),Y=g(V,ue,le,G),Y&&A(V,ue,le,G)}else{const q=$.wireframe===!0;(c.geometry!==ue.id||c.program!==le.id||c.wireframe!==q)&&(c.geometry=ue.id,c.program=le.id,c.wireframe=q,Y=!0)}G!==null&&t.update(G,n.ELEMENT_ARRAY_BUFFER),(Y||u)&&(u=!1,B(V,$,le,ue),G!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(G).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(V){return i.isWebGL2?n.bindVertexArray(V):s.bindVertexArrayOES(V)}function y(V){return i.isWebGL2?n.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function x(V,$,le){const ue=le.wireframe===!0;let G=a[V.id];G===void 0&&(G={},a[V.id]=G);let Y=G[$.id];Y===void 0&&(Y={},G[$.id]=Y);let q=Y[ue];return q===void 0&&(q=_(p()),Y[ue]=q),q}function _(V){const $=[],le=[],ue=[];for(let G=0;G<r;G++)$[G]=0,le[G]=0,ue[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:le,attributeDivisors:ue,object:V,attributes:{},index:null}}function g(V,$,le,ue){const G=c.attributes,Y=$.attributes;let q=0;const z=le.getAttributes();for(const J in z)if(z[J].location>=0){const Me=G[J];let Ee=Y[J];if(Ee===void 0&&(J==="instanceMatrix"&&V.instanceMatrix&&(Ee=V.instanceMatrix),J==="instanceColor"&&V.instanceColor&&(Ee=V.instanceColor)),Me===void 0||Me.attribute!==Ee||Ee&&Me.data!==Ee.data)return!0;q++}return c.attributesNum!==q||c.index!==ue}function A(V,$,le,ue){const G={},Y=$.attributes;let q=0;const z=le.getAttributes();for(const J in z)if(z[J].location>=0){let Me=Y[J];Me===void 0&&(J==="instanceMatrix"&&V.instanceMatrix&&(Me=V.instanceMatrix),J==="instanceColor"&&V.instanceColor&&(Me=V.instanceColor));const Ee={};Ee.attribute=Me,Me&&Me.data&&(Ee.data=Me.data),G[J]=Ee,q++}c.attributes=G,c.attributesNum=q,c.index=ue}function S(){const V=c.newAttributes;for(let $=0,le=V.length;$<le;$++)V[$]=0}function w(V){b(V,0)}function b(V,$){const le=c.newAttributes,ue=c.enabledAttributes,G=c.attributeDivisors;le[V]=1,ue[V]===0&&(n.enableVertexAttribArray(V),ue[V]=1),G[V]!==$&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,$),G[V]=$)}function T(){const V=c.newAttributes,$=c.enabledAttributes;for(let le=0,ue=$.length;le<ue;le++)$[le]!==V[le]&&(n.disableVertexAttribArray(le),$[le]=0)}function C(V,$,le,ue,G,Y,q){q===!0?n.vertexAttribIPointer(V,$,le,G,Y):n.vertexAttribPointer(V,$,le,ue,G,Y)}function B(V,$,le,ue){if(i.isWebGL2===!1&&(V.isInstancedMesh||ue.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const G=ue.attributes,Y=le.getAttributes(),q=$.defaultAttributeValues;for(const z in Y){const J=Y[z];if(J.location>=0){let _e=G[z];if(_e===void 0&&(z==="instanceMatrix"&&V.instanceMatrix&&(_e=V.instanceMatrix),z==="instanceColor"&&V.instanceColor&&(_e=V.instanceColor)),_e!==void 0){const Me=_e.normalized,Ee=_e.itemSize,ke=t.get(_e);if(ke===void 0)continue;const Ke=ke.buffer,rt=ke.type,qe=ke.bytesPerElement,ut=i.isWebGL2===!0&&(rt===n.INT||rt===n.UNSIGNED_INT||_e.gpuType===BE);if(_e.isInterleavedBufferAttribute){const Ue=_e.data,W=Ue.stride,be=_e.offset;if(Ue.isInstancedInterleavedBuffer){for(let xe=0;xe<J.locationSize;xe++)b(J.location+xe,Ue.meshPerAttribute);V.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let xe=0;xe<J.locationSize;xe++)w(J.location+xe);n.bindBuffer(n.ARRAY_BUFFER,Ke);for(let xe=0;xe<J.locationSize;xe++)C(J.location+xe,Ee/J.locationSize,rt,Me,W*qe,(be+Ee/J.locationSize*xe)*qe,ut)}else{if(_e.isInstancedBufferAttribute){for(let Ue=0;Ue<J.locationSize;Ue++)b(J.location+Ue,_e.meshPerAttribute);V.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let Ue=0;Ue<J.locationSize;Ue++)w(J.location+Ue);n.bindBuffer(n.ARRAY_BUFFER,Ke);for(let Ue=0;Ue<J.locationSize;Ue++)C(J.location+Ue,Ee/J.locationSize,rt,Me,Ee*qe,Ee/J.locationSize*Ue*qe,ut)}}else if(q!==void 0){const Me=q[z];if(Me!==void 0)switch(Me.length){case 2:n.vertexAttrib2fv(J.location,Me);break;case 3:n.vertexAttrib3fv(J.location,Me);break;case 4:n.vertexAttrib4fv(J.location,Me);break;default:n.vertexAttrib1fv(J.location,Me)}}}}T()}function P(){te();for(const V in a){const $=a[V];for(const le in $){const ue=$[le];for(const G in ue)y(ue[G].object),delete ue[G];delete $[le]}delete a[V]}}function L(V){if(a[V.id]===void 0)return;const $=a[V.id];for(const le in $){const ue=$[le];for(const G in ue)y(ue[G].object),delete ue[G];delete $[le]}delete a[V.id]}function U(V){for(const $ in a){const le=a[$];if(le[V.id]===void 0)continue;const ue=le[V.id];for(const G in ue)y(ue[G].object),delete ue[G];delete le[V.id]}}function te(){ne(),u=!0,c!==l&&(c=l,m(c.object))}function ne(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:te,resetDefaultState:ne,dispose:P,releaseStatesOfGeometry:L,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:w,disableUnusedAttributes:T}}function Uie(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function zie(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,w=o||e.has("OES_texture_float"),b=S&&w,T=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:A,vertexTextures:S,floatFragmentTextures:w,floatVertexTextures:b,maxSamples:T}}function Hie(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ko,a=new It,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=u(d,p,0)},this.setState=function(d,p,m){const y=d.clippingPlanes,x=d.clipIntersection,_=d.clipShadows,g=n.get(d);if(!r||y===null||y.length===0||s&&!_)s?u(null):c();else{const A=s?0:i,S=A*4;let w=g.clippingState||null;l.value=w,w=u(y,p,S,m);for(let b=0;b!==S;++b)w[b]=t[b];g.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,p,m,y){const x=d!==null?d.length:0;let _=null;if(x!==0){if(_=l.value,y!==!0||_===null){const g=m+x*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(_===null||_.length<g)&&(_=new Float32Array(g));for(let S=0,w=m;S!==x;++S,w+=4)o.copy(d[S]).applyMatrix4(A,a),o.normal.toArray(_,w),_[w+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}}function Gie(n){let e=new WeakMap;function t(o,a){return a===lp?o.mapping=na:a===cp&&(o.mapping=ol),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===lp||a===cp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new pN(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class no extends Vp{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hf=4,Z2=[.125,.215,.35,.446,.526,.582],nc=20,NA=new no,eL=new We;let UA=null,zA=0,HA=0;const ec=(1+Math.sqrt(5))/2,Bu=1/ec,tL=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,ec,Bu),new N(0,ec,-Bu),new N(Bu,0,ec),new N(-Bu,0,ec),new N(ec,Bu,0),new N(-ec,Bu,0)];class E1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){UA=this._renderer.getRenderTarget(),zA=this._renderer.getActiveCubeFace(),HA=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=rL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=iL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(UA,zA,HA),e.scissorTest=!1,Ng(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===na||e.mapping===ol?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),UA=this._renderer.getRenderTarget(),zA=this._renderer.getActiveCubeFace(),HA=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:un,minFilter:un,generateMipmaps:!1,type:Dc,format:rr,colorSpace:po,depthBuffer:!1},r=nL(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nL(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Vie(s)),this._blurMaterial=Wie(s,e,t)}return r}_compileMaterial(e){const t=new ui(this._lodPlanes[0],e);this._renderer.compile(t,NA)}_sceneToCubeUV(e,t,i,r){const a=new _n(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(eL),u.toneMapping=oo,u.autoClear=!1;const m=new br({name:"PMREM.Background",side:Ji,depthWrite:!1,depthTest:!1}),y=new ui(new $c,m);let x=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,x=!0):(m.color.copy(eL),x=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;Ng(r,A*S,g>2?S:0,S,S),u.setRenderTarget(r),x&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===na||e.mapping===ol;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=rL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=iL());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new ui(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Ng(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,NA)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=tL[(r-1)%tL.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new ui(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*nc-1),x=s/y,_=isFinite(s)?1+Math.floor(u*x):nc;_>nc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${nc}`);const g=[];let A=0;for(let C=0;C<nc;++C){const B=C/x,P=Math.exp(-B*B/2);g.push(P),C===0?A+=P:C<_&&(A+=2*P)}for(let C=0;C<g.length;C++)g[C]=g[C]/A;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const w=this._sizeLods[r],b=3*w*(r>S-hf?r-S+hf:0),T=4*(this._cubeSize-w);Ng(t,b,T,3*w,2*w),l.setRenderTarget(t),l.render(d,NA)}}function Vie(n){const e=[],t=[],i=[];let r=n;const s=n-hf+1+Z2.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-hf?l=Z2[o-n+hf-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,y=6,x=3,_=2,g=1,A=new Float32Array(x*y*m),S=new Float32Array(_*y*m),w=new Float32Array(g*y*m);for(let T=0;T<m;T++){const C=T%3*2/3-1,B=T>2?0:-1,P=[C,B,0,C+2/3,B,0,C+2/3,B+1,0,C,B,0,C+2/3,B+1,0,C,B+1,0];A.set(P,x*y*T),S.set(p,_*y*T);const L=[T,T,T,T,T,T];w.set(L,g*y*T)}const b=new Tt;b.setAttribute("position",new Jt(A,x)),b.setAttribute("uv",new Jt(S,_)),b.setAttribute("faceIndex",new Jt(w,g)),e.push(b),r>hf&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function nL(n,e,t){const i=new cs(n,e,t);return i.texture.mapping=nh,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ng(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Wie(n,e,t){const i=new Float32Array(nc),r=new N(0,1,0);return new mo({name:"SphericalGaussianBlur",defines:{n:nc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:JE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qo,depthTest:!1,depthWrite:!1})}function iL(){return new mo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:JE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qo,depthTest:!1,depthWrite:!1})}function rL(){return new mo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:JE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qo,depthTest:!1,depthWrite:!1})}function JE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jie(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===lp||l===cp,u=l===na||l===ol;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new E1(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){t===null&&(t=new E1(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Xie(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Jie(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const x=p.morphAttributes[y];for(let _=0,g=x.length;_<g;_++)e.remove(x[_])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const y in m){const x=m[y];for(let _=0,g=x.length;_<g;_++)e.update(x[_],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,y=d.attributes.position;let x=0;if(m!==null){const A=m.array;x=m.version;for(let S=0,w=A.length;S<w;S+=3){const b=A[S+0],T=A[S+1],C=A[S+2];p.push(b,T,T,C,C,b)}}else if(y!==void 0){const A=y.array;x=y.version;for(let S=0,w=A.length/3-1;S<w;S+=3){const b=S+0,T=S+1,C=S+2;p.push(b,T,T,C,C,b)}}else return;const _=new(aN(p)?XE:jE)(p,1);_.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,_)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Kie(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,y){if(y===0)return;let x,_;if(r)x=n,_="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[_](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function Yie(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function qie(n,e){return n[0]-e[0]}function $ie(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Qie(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new $t,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,x=y!==void 0?y.length:0;let _=s.get(u);if(_===void 0||_.count!==x){let $=function(){ne.dispose(),s.delete(u),u.removeEventListener("dispose",$)};var m=$;_!==void 0&&_.texture.dispose();const S=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,b=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let P=0;S===!0&&(P=1),w===!0&&(P=2),b===!0&&(P=3);let L=u.attributes.position.count*P,U=1;L>e.maxTextureSize&&(U=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const te=new Float32Array(L*U*4*x),ne=new Nv(te,L,U,x);ne.type=Cs,ne.needsUpdate=!0;const V=P*4;for(let le=0;le<x;le++){const ue=T[le],G=C[le],Y=B[le],q=L*U*4*le;for(let z=0;z<ue.count;z++){const J=z*V;S===!0&&(o.fromBufferAttribute(ue,z),te[q+J+0]=o.x,te[q+J+1]=o.y,te[q+J+2]=o.z,te[q+J+3]=0),w===!0&&(o.fromBufferAttribute(G,z),te[q+J+4]=o.x,te[q+J+5]=o.y,te[q+J+6]=o.z,te[q+J+7]=0),b===!0&&(o.fromBufferAttribute(Y,z),te[q+J+8]=o.x,te[q+J+9]=o.y,te[q+J+10]=o.z,te[q+J+11]=Y.itemSize===4?o.w:1)}}_={count:x,texture:ne,size:new Ae(L,U)},s.set(u,_),u.addEventListener("dispose",$)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const A=u.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const y=p===void 0?0:p.length;let x=i[u.id];if(x===void 0||x.length!==y){x=[];for(let w=0;w<y;w++)x[w]=[w,0];i[u.id]=x}for(let w=0;w<y;w++){const b=x[w];b[0]=w,b[1]=p[w]}x.sort($ie);for(let w=0;w<8;w++)w<y&&x[w][1]?(a[w][0]=x[w][0],a[w][1]=x[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(qie);const _=u.morphAttributes.position,g=u.morphAttributes.normal;let A=0;for(let w=0;w<8;w++){const b=a[w],T=b[0],C=b[1];T!==Number.MAX_SAFE_INTEGER&&C?(_&&u.getAttribute("morphTarget"+w)!==_[T]&&u.setAttribute("morphTarget"+w,_[T]),g&&u.getAttribute("morphNormal"+w)!==g[T]&&u.setAttribute("morphNormal"+w,g[T]),r[w]=C,A+=C):(_&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),g&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),r[w]=0)}const S=u.morphTargetsRelative?1:1-A;d.getUniforms().setValue(n,"morphTargetBaseInfluence",S),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Zie(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const gN=new mn,yN=new Nv,vN=new WE,xN=new Wp,sL=[],oL=[],aL=new Float32Array(16),lL=new Float32Array(9),cL=new Float32Array(4);function ih(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=sL[r];if(s===void 0&&(s=new Float32Array(r),sL[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Qn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Zn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function zv(n,e){let t=oL[e];t===void 0&&(t=new Int32Array(e),oL[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function ere(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function tre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qn(t,e))return;n.uniform2fv(this.addr,e),Zn(t,e)}}function nre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Qn(t,e))return;n.uniform3fv(this.addr,e),Zn(t,e)}}function ire(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qn(t,e))return;n.uniform4fv(this.addr,e),Zn(t,e)}}function rre(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Zn(t,e)}else{if(Qn(t,i))return;cL.set(i),n.uniformMatrix2fv(this.addr,!1,cL),Zn(t,i)}}function sre(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Zn(t,e)}else{if(Qn(t,i))return;lL.set(i),n.uniformMatrix3fv(this.addr,!1,lL),Zn(t,i)}}function ore(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Zn(t,e)}else{if(Qn(t,i))return;aL.set(i),n.uniformMatrix4fv(this.addr,!1,aL),Zn(t,i)}}function are(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function lre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qn(t,e))return;n.uniform2iv(this.addr,e),Zn(t,e)}}function cre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Qn(t,e))return;n.uniform3iv(this.addr,e),Zn(t,e)}}function ure(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qn(t,e))return;n.uniform4iv(this.addr,e),Zn(t,e)}}function fre(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function hre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qn(t,e))return;n.uniform2uiv(this.addr,e),Zn(t,e)}}function dre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Qn(t,e))return;n.uniform3uiv(this.addr,e),Zn(t,e)}}function pre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qn(t,e))return;n.uniform4uiv(this.addr,e),Zn(t,e)}}function mre(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||gN,r)}function gre(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||vN,r)}function yre(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||xN,r)}function vre(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||yN,r)}function xre(n){switch(n){case 5126:return ere;case 35664:return tre;case 35665:return nre;case 35666:return ire;case 35674:return rre;case 35675:return sre;case 35676:return ore;case 5124:case 35670:return are;case 35667:case 35671:return lre;case 35668:case 35672:return cre;case 35669:case 35673:return ure;case 5125:return fre;case 36294:return hre;case 36295:return dre;case 36296:return pre;case 35678:case 36198:case 36298:case 36306:case 35682:return mre;case 35679:case 36299:case 36307:return gre;case 35680:case 36300:case 36308:case 36293:return yre;case 36289:case 36303:case 36311:case 36292:return vre}}function _re(n,e){n.uniform1fv(this.addr,e)}function Are(n,e){const t=ih(e,this.size,2);n.uniform2fv(this.addr,t)}function Sre(n,e){const t=ih(e,this.size,3);n.uniform3fv(this.addr,t)}function wre(n,e){const t=ih(e,this.size,4);n.uniform4fv(this.addr,t)}function Mre(n,e){const t=ih(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Ere(n,e){const t=ih(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function bre(n,e){const t=ih(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Tre(n,e){n.uniform1iv(this.addr,e)}function Cre(n,e){n.uniform2iv(this.addr,e)}function Rre(n,e){n.uniform3iv(this.addr,e)}function Pre(n,e){n.uniform4iv(this.addr,e)}function Lre(n,e){n.uniform1uiv(this.addr,e)}function Ire(n,e){n.uniform2uiv(this.addr,e)}function Bre(n,e){n.uniform3uiv(this.addr,e)}function Dre(n,e){n.uniform4uiv(this.addr,e)}function Fre(n,e,t){const i=this.cache,r=e.length,s=zv(t,r);Qn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||gN,s[o])}function Ore(n,e,t){const i=this.cache,r=e.length,s=zv(t,r);Qn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||vN,s[o])}function kre(n,e,t){const i=this.cache,r=e.length,s=zv(t,r);Qn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||xN,s[o])}function Nre(n,e,t){const i=this.cache,r=e.length,s=zv(t,r);Qn(i,s)||(n.uniform1iv(this.addr,s),Zn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||yN,s[o])}function Ure(n){switch(n){case 5126:return _re;case 35664:return Are;case 35665:return Sre;case 35666:return wre;case 35674:return Mre;case 35675:return Ere;case 35676:return bre;case 5124:case 35670:return Tre;case 35667:case 35671:return Cre;case 35668:case 35672:return Rre;case 35669:case 35673:return Pre;case 5125:return Lre;case 36294:return Ire;case 36295:return Bre;case 36296:return Dre;case 35678:case 36198:case 36298:case 36306:case 35682:return Fre;case 35679:case 36299:case 36307:return Ore;case 35680:case 36300:case 36308:case 36293:return kre;case 36289:case 36303:case 36311:case 36292:return Nre}}class zre{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=xre(t.type)}}class Hre{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Ure(t.type)}}class Gre{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const GA=/(\w+)(\])?(\[|\.)?/g;function uL(n,e){n.seq.push(e),n.map[e.id]=e}function Vre(n,e,t){const i=n.name,r=i.length;for(GA.lastIndex=0;;){const s=GA.exec(i),o=GA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){uL(t,c===void 0?new zre(a,n,e):new Hre(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new Gre(a),uL(t,d)),t=d}}}class Ny{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Vre(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function fL(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Wre=37297;let jre=0;function Xre(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function Jre(n){const e=qt.getPrimaries(qt.workingColorSpace),t=qt.getPrimaries(n);let i;switch(e===t?i="":e===pp&&t===dp?i="LinearDisplayP3ToLinearSRGB":e===dp&&t===pp&&(i="LinearSRGBToLinearDisplayP3"),n){case po:case Hp:return[i,"LinearTransferOETF"];case qn:case kv:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function hL(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Xre(n.getShaderSource(e),o)}else return r}function Kre(n,e){const t=Jre(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Yre(n,e){let t;switch(e){case Lk:t="Linear";break;case Ik:t="Reinhard";break;case Bk:t="OptimizedCineon";break;case IE:t="ACESFilmic";break;case Dk:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function qre(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(od).join(`
`)}function $re(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Qre(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function od(n){return n!==""}function dL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Zre=/^[ \t]*#include +<([\w\d./]+)>/gm;function b1(n){return n.replace(Zre,tse)}const ese=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function tse(n,e){let t=Ct[e];if(t===void 0){const i=ese.get(e);if(i!==void 0)t=Ct[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return b1(t)}const nse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mL(n){return n.replace(nse,ise)}function ise(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function gL(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rse(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Iv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Cd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ss&&(e="SHADOWMAP_TYPE_VSM"),e}function sse(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case na:case ol:e="ENVMAP_TYPE_CUBE";break;case nh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ose(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ol:e="ENVMAP_MODE_REFRACTION";break}return e}function ase(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case zp:e="ENVMAP_BLENDING_MULTIPLY";break;case Rk:e="ENVMAP_BLENDING_MIX";break;case Pk:e="ENVMAP_BLENDING_ADD";break}return e}function lse(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function cse(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=rse(t),c=sse(t),u=ose(t),d=ase(t),p=lse(t),m=t.isWebGL2?"":qre(t),y=$re(s),x=r.createProgram();let _,g,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(od).join(`
`),_.length>0&&(_+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(od).join(`
`),g.length>0&&(g+=`
`)):(_=[gL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(od).join(`
`),g=[m,gL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==oo?"#define TONE_MAPPING":"",t.toneMapping!==oo?Ct.tonemapping_pars_fragment:"",t.toneMapping!==oo?Yre("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ct.colorspace_pars_fragment,Kre("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(od).join(`
`)),o=b1(o),o=dL(o,t),o=pL(o,t),a=b1(a),a=dL(a,t),a=pL(a,t),o=mL(o),a=mL(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===w1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===w1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=A+_+o,w=A+g+a,b=fL(r,r.VERTEX_SHADER,S),T=fL(r,r.FRAGMENT_SHADER,w);r.attachShader(x,b),r.attachShader(x,T),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function C(U){if(n.debug.checkShaderErrors){const te=r.getProgramInfoLog(x).trim(),ne=r.getShaderInfoLog(b).trim(),V=r.getShaderInfoLog(T).trim();let $=!0,le=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,b,T);else{const ue=hL(r,b,"vertex"),G=hL(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Program Info Log: `+te+`
`+ue+`
`+G)}else te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",te):(ne===""||V==="")&&(le=!1);le&&(U.diagnostics={runnable:$,programLog:te,vertexShader:{log:ne,prefix:_},fragmentShader:{log:V,prefix:g}})}r.deleteShader(b),r.deleteShader(T),B=new Ny(r,x),P=Qre(r,x)}let B;this.getUniforms=function(){return B===void 0&&C(this),B};let P;this.getAttributes=function(){return P===void 0&&C(this),P};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(x,Wre)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=jre++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=b,this.fragmentShader=T,this}let use=0;class fse{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new hse(e),t.set(e,i)),i}}class hse{constructor(e){this.id=use++,this.code=e,this.usedTimes=0}}function dse(n,e,t,i,r,s,o){const a=new Ac,l=new fse,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return P===0?"uv":`uv${P}`}function _(P,L,U,te,ne){const V=te.fog,$=ne.geometry,le=P.isMeshStandardMaterial?te.environment:null,ue=(P.isMeshStandardMaterial?t:e).get(P.envMap||le),G=ue&&ue.mapping===nh?ue.image.height:null,Y=y[P.type];P.precision!==null&&(m=r.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const q=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,z=q!==void 0?q.length:0;let J=0;$.morphAttributes.position!==void 0&&(J=1),$.morphAttributes.normal!==void 0&&(J=2),$.morphAttributes.color!==void 0&&(J=3);let _e,Me,Ee,ke;if(Y){const ze=bs[Y];_e=ze.vertexShader,Me=ze.fragmentShader}else _e=P.vertexShader,Me=P.fragmentShader,l.update(P),Ee=l.getVertexShaderID(P),ke=l.getFragmentShaderID(P);const Ke=n.getRenderTarget(),rt=ne.isInstancedMesh===!0,qe=!!P.map,ut=!!P.matcap,Ue=!!ue,W=!!P.aoMap,be=!!P.lightMap,xe=!!P.bumpMap,Pe=!!P.normalMap,we=!!P.displacementMap,nt=!!P.emissiveMap,Ge=!!P.metalnessMap,je=!!P.roughnessMap,lt=P.anisotropy>0,vt=P.clearcoat>0,se=P.iridescence>0,F=P.sheen>0,I=P.transmission>0,Q=lt&&!!P.anisotropyMap,ge=vt&&!!P.clearcoatMap,pe=vt&&!!P.clearcoatNormalMap,Se=vt&&!!P.clearcoatRoughnessMap,Xe=se&&!!P.iridescenceMap,Ie=se&&!!P.iridescenceThicknessMap,Ne=F&&!!P.sheenColorMap,ct=F&&!!P.sheenRoughnessMap,bt=!!P.specularMap,Le=!!P.specularColorMap,Pt=!!P.specularIntensityMap,K=I&&!!P.transmissionMap,ye=I&&!!P.thicknessMap,Ce=!!P.gradientMap,Te=!!P.alphaMap,ot=P.alphaTest>0,D=!!P.alphaHash,j=!!P.extensions,ee=!!$.attributes.uv1,Z=!!$.attributes.uv2,ce=!!$.attributes.uv3;let Re=oo;return P.toneMapped&&(Ke===null||Ke.isXRRenderTarget===!0)&&(Re=n.toneMapping),{isWebGL2:u,shaderID:Y,shaderType:P.type,shaderName:P.name,vertexShader:_e,fragmentShader:Me,defines:P.defines,customVertexShaderID:Ee,customFragmentShaderID:ke,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,instancing:rt,instancingColor:rt&&ne.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Ke===null?n.outputColorSpace:Ke.isXRRenderTarget===!0?Ke.texture.colorSpace:po,map:qe,matcap:ut,envMap:Ue,envMapMode:Ue&&ue.mapping,envMapCubeUVHeight:G,aoMap:W,lightMap:be,bumpMap:xe,normalMap:Pe,displacementMap:p&&we,emissiveMap:nt,normalMapObjectSpace:Pe&&P.normalMapType===$k,normalMapTangentSpace:Pe&&P.normalMapType===vl,metalnessMap:Ge,roughnessMap:je,anisotropy:lt,anisotropyMap:Q,clearcoat:vt,clearcoatMap:ge,clearcoatNormalMap:pe,clearcoatRoughnessMap:Se,iridescence:se,iridescenceMap:Xe,iridescenceThicknessMap:Ie,sheen:F,sheenColorMap:Ne,sheenRoughnessMap:ct,specularMap:bt,specularColorMap:Le,specularIntensityMap:Pt,transmission:I,transmissionMap:K,thicknessMap:ye,gradientMap:Ce,opaque:P.transparent===!1&&P.blending===xc,alphaMap:Te,alphaTest:ot,alphaHash:D,combine:P.combine,mapUv:qe&&x(P.map.channel),aoMapUv:W&&x(P.aoMap.channel),lightMapUv:be&&x(P.lightMap.channel),bumpMapUv:xe&&x(P.bumpMap.channel),normalMapUv:Pe&&x(P.normalMap.channel),displacementMapUv:we&&x(P.displacementMap.channel),emissiveMapUv:nt&&x(P.emissiveMap.channel),metalnessMapUv:Ge&&x(P.metalnessMap.channel),roughnessMapUv:je&&x(P.roughnessMap.channel),anisotropyMapUv:Q&&x(P.anisotropyMap.channel),clearcoatMapUv:ge&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:pe&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Se&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:Ne&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:ct&&x(P.sheenRoughnessMap.channel),specularMapUv:bt&&x(P.specularMap.channel),specularColorMapUv:Le&&x(P.specularColorMap.channel),specularIntensityMapUv:Pt&&x(P.specularIntensityMap.channel),transmissionMapUv:K&&x(P.transmissionMap.channel),thicknessMapUv:ye&&x(P.thicknessMap.channel),alphaMapUv:Te&&x(P.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(Pe||lt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUv1s:ee,vertexUv2s:Z,vertexUv3s:ce,pointsUvs:ne.isPoints===!0&&!!$.attributes.uv&&(qe||Te),fog:!!V,useFog:P.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:ne.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:J,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:Re,useLegacyLights:n._useLegacyLights,decodeVideoTexture:qe&&P.map.isVideoTexture===!0&&qt.getTransfer(P.map.colorSpace)===nn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ts,flipSided:P.side===Ji,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:j&&P.extensions.derivatives===!0,extensionFragDepth:j&&P.extensions.fragDepth===!0,extensionDrawBuffers:j&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:j&&P.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()}}function g(P){const L=[];if(P.shaderID?L.push(P.shaderID):(L.push(P.customVertexShaderID),L.push(P.customFragmentShaderID)),P.defines!==void 0)for(const U in P.defines)L.push(U),L.push(P.defines[U]);return P.isRawShaderMaterial===!1&&(A(L,P),S(L,P),L.push(n.outputColorSpace)),L.push(P.customProgramCacheKey),L.join()}function A(P,L){P.push(L.precision),P.push(L.outputColorSpace),P.push(L.envMapMode),P.push(L.envMapCubeUVHeight),P.push(L.mapUv),P.push(L.alphaMapUv),P.push(L.lightMapUv),P.push(L.aoMapUv),P.push(L.bumpMapUv),P.push(L.normalMapUv),P.push(L.displacementMapUv),P.push(L.emissiveMapUv),P.push(L.metalnessMapUv),P.push(L.roughnessMapUv),P.push(L.anisotropyMapUv),P.push(L.clearcoatMapUv),P.push(L.clearcoatNormalMapUv),P.push(L.clearcoatRoughnessMapUv),P.push(L.iridescenceMapUv),P.push(L.iridescenceThicknessMapUv),P.push(L.sheenColorMapUv),P.push(L.sheenRoughnessMapUv),P.push(L.specularMapUv),P.push(L.specularColorMapUv),P.push(L.specularIntensityMapUv),P.push(L.transmissionMapUv),P.push(L.thicknessMapUv),P.push(L.combine),P.push(L.fogExp2),P.push(L.sizeAttenuation),P.push(L.morphTargetsCount),P.push(L.morphAttributeCount),P.push(L.numDirLights),P.push(L.numPointLights),P.push(L.numSpotLights),P.push(L.numSpotLightMaps),P.push(L.numHemiLights),P.push(L.numRectAreaLights),P.push(L.numDirLightShadows),P.push(L.numPointLightShadows),P.push(L.numSpotLightShadows),P.push(L.numSpotLightShadowsWithMaps),P.push(L.numLightProbes),P.push(L.shadowMapType),P.push(L.toneMapping),P.push(L.numClippingPlanes),P.push(L.numClipIntersection),P.push(L.depthPacking)}function S(P,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),P.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),P.push(a.mask)}function w(P){const L=y[P.type];let U;if(L){const te=bs[L];U=hN.clone(te.uniforms)}else U=P.uniforms;return U}function b(P,L){let U;for(let te=0,ne=c.length;te<ne;te++){const V=c[te];if(V.cacheKey===L){U=V,++U.usedTimes;break}}return U===void 0&&(U=new cse(n,L,P,s),c.push(U)),U}function T(P){if(--P.usedTimes===0){const L=c.indexOf(P);c[L]=c[c.length-1],c.pop(),P.destroy()}}function C(P){l.remove(P)}function B(){l.dispose()}return{getParameters:_,getProgramCacheKey:g,getUniforms:w,acquireProgram:b,releaseProgram:T,releaseShaderCache:C,programs:c,dispose:B}}function pse(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function mse(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function yL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function vL(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,y,x,_){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:y,renderOrder:d.renderOrder,z:x,group:_},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=d.renderOrder,g.z=x,g.group=_),e++,g}function a(d,p,m,y,x,_){const g=o(d,p,m,y,x,_);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,y,x,_){const g=o(d,p,m,y,x,_);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||mse),i.length>1&&i.sort(p||yL),r.length>1&&r.sort(p||yL)}function u(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function gse(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new vL,n.set(i,[o])):r>=s.length?(o=new vL,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function yse(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new We};break;case"SpotLight":t={position:new N,direction:new N,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new We,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new We,groundColor:new We};break;case"RectAreaLight":t={color:new We,position:new N,halfWidth:new N,halfHeight:new N};break}return n[e.id]=t,t}}}function vse(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let xse=0;function _se(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Ase(n,e){const t=new yse,i=vse(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new N);const s=new N,o=new _t,a=new _t;function l(u,d){let p=0,m=0,y=0;for(let te=0;te<9;te++)r.probe[te].set(0,0,0);let x=0,_=0,g=0,A=0,S=0,w=0,b=0,T=0,C=0,B=0,P=0;u.sort(_se);const L=d===!0?Math.PI:1;for(let te=0,ne=u.length;te<ne;te++){const V=u[te],$=V.color,le=V.intensity,ue=V.distance,G=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=$.r*le*L,m+=$.g*le*L,y+=$.b*le*L;else if(V.isLightProbe){for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector(V.sh.coefficients[Y],le);P++}else if(V.isDirectionalLight){const Y=t.get(V);if(Y.color.copy(V.color).multiplyScalar(V.intensity*L),V.castShadow){const q=V.shadow,z=i.get(V);z.shadowBias=q.bias,z.shadowNormalBias=q.normalBias,z.shadowRadius=q.radius,z.shadowMapSize=q.mapSize,r.directionalShadow[x]=z,r.directionalShadowMap[x]=G,r.directionalShadowMatrix[x]=V.shadow.matrix,w++}r.directional[x]=Y,x++}else if(V.isSpotLight){const Y=t.get(V);Y.position.setFromMatrixPosition(V.matrixWorld),Y.color.copy($).multiplyScalar(le*L),Y.distance=ue,Y.coneCos=Math.cos(V.angle),Y.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),Y.decay=V.decay,r.spot[g]=Y;const q=V.shadow;if(V.map&&(r.spotLightMap[C]=V.map,C++,q.updateMatrices(V),V.castShadow&&B++),r.spotLightMatrix[g]=q.matrix,V.castShadow){const z=i.get(V);z.shadowBias=q.bias,z.shadowNormalBias=q.normalBias,z.shadowRadius=q.radius,z.shadowMapSize=q.mapSize,r.spotShadow[g]=z,r.spotShadowMap[g]=G,T++}g++}else if(V.isRectAreaLight){const Y=t.get(V);Y.color.copy($).multiplyScalar(le),Y.halfWidth.set(V.width*.5,0,0),Y.halfHeight.set(0,V.height*.5,0),r.rectArea[A]=Y,A++}else if(V.isPointLight){const Y=t.get(V);if(Y.color.copy(V.color).multiplyScalar(V.intensity*L),Y.distance=V.distance,Y.decay=V.decay,V.castShadow){const q=V.shadow,z=i.get(V);z.shadowBias=q.bias,z.shadowNormalBias=q.normalBias,z.shadowRadius=q.radius,z.shadowMapSize=q.mapSize,z.shadowCameraNear=q.camera.near,z.shadowCameraFar=q.camera.far,r.pointShadow[_]=z,r.pointShadowMap[_]=G,r.pointShadowMatrix[_]=V.shadow.matrix,b++}r.point[_]=Y,_++}else if(V.isHemisphereLight){const Y=t.get(V);Y.skyColor.copy(V.color).multiplyScalar(le*L),Y.groundColor.copy(V.groundColor).multiplyScalar(le*L),r.hemi[S]=Y,S++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=He.LTC_FLOAT_1,r.rectAreaLTC2=He.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=He.LTC_HALF_1,r.rectAreaLTC2=He.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const U=r.hash;(U.directionalLength!==x||U.pointLength!==_||U.spotLength!==g||U.rectAreaLength!==A||U.hemiLength!==S||U.numDirectionalShadows!==w||U.numPointShadows!==b||U.numSpotShadows!==T||U.numSpotMaps!==C||U.numLightProbes!==P)&&(r.directional.length=x,r.spot.length=g,r.rectArea.length=A,r.point.length=_,r.hemi.length=S,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=T+C-B,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=B,r.numLightProbes=P,U.directionalLength=x,U.pointLength=_,U.spotLength=g,U.rectAreaLength=A,U.hemiLength=S,U.numDirectionalShadows=w,U.numPointShadows=b,U.numSpotShadows=T,U.numSpotMaps=C,U.numLightProbes=P,r.version=xse++)}function c(u,d){let p=0,m=0,y=0,x=0,_=0;const g=d.matrixWorldInverse;for(let A=0,S=u.length;A<S;A++){const w=u[A];if(w.isDirectionalLight){const b=r.directional[p];b.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),p++}else if(w.isSpotLight){const b=r.spot[y];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),y++}else if(w.isRectAreaLight){const b=r.rectArea[x];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(g),a.identity(),o.copy(w.matrixWorld),o.premultiply(g),a.extractRotation(o),b.halfWidth.set(w.width*.5,0,0),b.halfHeight.set(0,w.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),x++}else if(w.isPointLight){const b=r.point[m];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(g),m++}else if(w.isHemisphereLight){const b=r.hemi[_];b.direction.setFromMatrixPosition(w.matrixWorld),b.direction.transformDirection(g),_++}}}return{setup:l,setupView:c,state:r}}function xL(n,e){const t=new Ase(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Sse(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new xL(n,e),t.set(s,[l])):o>=a.length?(l=new xL(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class KE extends Xn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Yk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class YE extends Xn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const wse=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Mse=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ese(n,e,t){let i=new Uv;const r=new Ae,s=new Ae,o=new $t,a=new KE({depthPacking:qk}),l=new YE,c={},u=t.maxTextureSize,d={[fo]:Ji,[Ji]:fo,[Ts]:Ts},p=new mo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:wse,fragmentShader:Mse}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new Tt;y.setAttribute("position",new Jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ui(y,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Iv;let g=this.type;this.render=function(b,T,C){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||b.length===0)return;const B=n.getRenderTarget(),P=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),U=n.state;U.setBlending(qo),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const te=g!==Ss&&this.type===Ss,ne=g===Ss&&this.type!==Ss;for(let V=0,$=b.length;V<$;V++){const le=b[V],ue=le.shadow;if(ue===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(ue.autoUpdate===!1&&ue.needsUpdate===!1)continue;r.copy(ue.mapSize);const G=ue.getFrameExtents();if(r.multiply(G),s.copy(ue.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/G.x),r.x=s.x*G.x,ue.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/G.y),r.y=s.y*G.y,ue.mapSize.y=s.y)),ue.map===null||te===!0||ne===!0){const q=this.type!==Ss?{minFilter:Ln,magFilter:Ln}:{};ue.map!==null&&ue.map.dispose(),ue.map=new cs(r.x,r.y,q),ue.map.texture.name=le.name+".shadowMap",ue.camera.updateProjectionMatrix()}n.setRenderTarget(ue.map),n.clear();const Y=ue.getViewportCount();for(let q=0;q<Y;q++){const z=ue.getViewport(q);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),U.viewport(o),ue.updateMatrices(le,q),i=ue.getFrustum(),w(T,C,ue.camera,le,this.type)}ue.isPointLightShadow!==!0&&this.type===Ss&&A(ue,C),ue.needsUpdate=!1}g=this.type,_.needsUpdate=!1,n.setRenderTarget(B,P,L)};function A(b,T){const C=e.update(x);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new cs(r.x,r.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(T,null,C,p,x,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(T,null,C,m,x,null)}function S(b,T,C,B){let P=null;const L=C.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(L!==void 0)P=L;else if(P=C.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const U=P.uuid,te=T.uuid;let ne=c[U];ne===void 0&&(ne={},c[U]=ne);let V=ne[te];V===void 0&&(V=P.clone(),ne[te]=V),P=V}if(P.visible=T.visible,P.wireframe=T.wireframe,B===Ss?P.side=T.shadowSide!==null?T.shadowSide:T.side:P.side=T.shadowSide!==null?T.shadowSide:d[T.side],P.alphaMap=T.alphaMap,P.alphaTest=T.alphaTest,P.map=T.map,P.clipShadows=T.clipShadows,P.clippingPlanes=T.clippingPlanes,P.clipIntersection=T.clipIntersection,P.displacementMap=T.displacementMap,P.displacementScale=T.displacementScale,P.displacementBias=T.displacementBias,P.wireframeLinewidth=T.wireframeLinewidth,P.linewidth=T.linewidth,C.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const U=n.properties.get(P);U.light=C}return P}function w(b,T,C,B,P){if(b.visible===!1)return;if(b.layers.test(T.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&P===Ss)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,b.matrixWorld);const te=e.update(b),ne=b.material;if(Array.isArray(ne)){const V=te.groups;for(let $=0,le=V.length;$<le;$++){const ue=V[$],G=ne[ue.materialIndex];if(G&&G.visible){const Y=S(b,G,B,P);n.renderBufferDirect(C,null,te,Y,b,ue)}}}else if(ne.visible){const V=S(b,ne,B,P);n.renderBufferDirect(C,null,te,V,b,null)}}const U=b.children;for(let te=0,ne=U.length;te<ne;te++)w(U[te],T,C,B,P)}}function bse(n,e,t){const i=t.isWebGL2;function r(){let D=!1;const j=new $t;let ee=null;const Z=new $t(0,0,0,0);return{setMask:function(ce){ee!==ce&&!D&&(n.colorMask(ce,ce,ce,ce),ee=ce)},setLocked:function(ce){D=ce},setClear:function(ce,Re,Oe,ze,Ve){Ve===!0&&(ce*=ze,Re*=ze,Oe*=ze),j.set(ce,Re,Oe,ze),Z.equals(j)===!1&&(n.clearColor(ce,Re,Oe,ze),Z.copy(j))},reset:function(){D=!1,ee=null,Z.set(-1,0,0,0)}}}function s(){let D=!1,j=null,ee=null,Z=null;return{setTest:function(ce){ce?qe(n.DEPTH_TEST):ut(n.DEPTH_TEST)},setMask:function(ce){j!==ce&&!D&&(n.depthMask(ce),j=ce)},setFunc:function(ce){if(ee!==ce){switch(ce){case Sk:n.depthFunc(n.NEVER);break;case wk:n.depthFunc(n.ALWAYS);break;case Mk:n.depthFunc(n.LESS);break;case ap:n.depthFunc(n.LEQUAL);break;case Ek:n.depthFunc(n.EQUAL);break;case bk:n.depthFunc(n.GEQUAL);break;case Tk:n.depthFunc(n.GREATER);break;case Ck:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ee=ce}},setLocked:function(ce){D=ce},setClear:function(ce){Z!==ce&&(n.clearDepth(ce),Z=ce)},reset:function(){D=!1,j=null,ee=null,Z=null}}}function o(){let D=!1,j=null,ee=null,Z=null,ce=null,Re=null,Oe=null,ze=null,Ve=null;return{setTest:function($e){D||($e?qe(n.STENCIL_TEST):ut(n.STENCIL_TEST))},setMask:function($e){j!==$e&&!D&&(n.stencilMask($e),j=$e)},setFunc:function($e,Ut,mt){(ee!==$e||Z!==Ut||ce!==mt)&&(n.stencilFunc($e,Ut,mt),ee=$e,Z=Ut,ce=mt)},setOp:function($e,Ut,mt){(Re!==$e||Oe!==Ut||ze!==mt)&&(n.stencilOp($e,Ut,mt),Re=$e,Oe=Ut,ze=mt)},setLocked:function($e){D=$e},setClear:function($e){Ve!==$e&&(n.clearStencil($e),Ve=$e)},reset:function(){D=!1,j=null,ee=null,Z=null,ce=null,Re=null,Oe=null,ze=null,Ve=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let p={},m={},y=new WeakMap,x=[],_=null,g=!1,A=null,S=null,w=null,b=null,T=null,C=null,B=null,P=new We(0,0,0),L=0,U=!1,te=null,ne=null,V=null,$=null,le=null;const ue=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,Y=0;const q=n.getParameter(n.VERSION);q.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(q)[1]),G=Y>=1):q.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),G=Y>=2);let z=null,J={};const _e=n.getParameter(n.SCISSOR_BOX),Me=n.getParameter(n.VIEWPORT),Ee=new $t().fromArray(_e),ke=new $t().fromArray(Me);function Ke(D,j,ee,Z){const ce=new Uint8Array(4),Re=n.createTexture();n.bindTexture(D,Re),n.texParameteri(D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(D,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Oe=0;Oe<ee;Oe++)i&&(D===n.TEXTURE_3D||D===n.TEXTURE_2D_ARRAY)?n.texImage3D(j,0,n.RGBA,1,1,Z,0,n.RGBA,n.UNSIGNED_BYTE,ce):n.texImage2D(j+Oe,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ce);return Re}const rt={};rt[n.TEXTURE_2D]=Ke(n.TEXTURE_2D,n.TEXTURE_2D,1),rt[n.TEXTURE_CUBE_MAP]=Ke(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(rt[n.TEXTURE_2D_ARRAY]=Ke(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),rt[n.TEXTURE_3D]=Ke(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),qe(n.DEPTH_TEST),l.setFunc(ap),Ge(!1),je(Ww),qe(n.CULL_FACE),we(qo);function qe(D){p[D]!==!0&&(n.enable(D),p[D]=!0)}function ut(D){p[D]!==!1&&(n.disable(D),p[D]=!1)}function Ue(D,j){return m[D]!==j?(n.bindFramebuffer(D,j),m[D]=j,i&&(D===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=j),D===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=j)),!0):!1}function W(D,j){let ee=x,Z=!1;if(D)if(ee=y.get(j),ee===void 0&&(ee=[],y.set(j,ee)),D.isWebGLMultipleRenderTargets){const ce=D.texture;if(ee.length!==ce.length||ee[0]!==n.COLOR_ATTACHMENT0){for(let Re=0,Oe=ce.length;Re<Oe;Re++)ee[Re]=n.COLOR_ATTACHMENT0+Re;ee.length=ce.length,Z=!0}}else ee[0]!==n.COLOR_ATTACHMENT0&&(ee[0]=n.COLOR_ATTACHMENT0,Z=!0);else ee[0]!==n.BACK&&(ee[0]=n.BACK,Z=!0);Z&&(t.isWebGL2?n.drawBuffers(ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ee))}function be(D){return _!==D?(n.useProgram(D),_=D,!0):!1}const xe={[Da]:n.FUNC_ADD,[ak]:n.FUNC_SUBTRACT,[lk]:n.FUNC_REVERSE_SUBTRACT};if(i)xe[Kw]=n.MIN,xe[Yw]=n.MAX;else{const D=e.get("EXT_blend_minmax");D!==null&&(xe[Kw]=D.MIN_EXT,xe[Yw]=D.MAX_EXT)}const Pe={[ck]:n.ZERO,[uk]:n.ONE,[fk]:n.SRC_COLOR,[P0]:n.SRC_ALPHA,[yk]:n.SRC_ALPHA_SATURATE,[mk]:n.DST_COLOR,[dk]:n.DST_ALPHA,[hk]:n.ONE_MINUS_SRC_COLOR,[L0]:n.ONE_MINUS_SRC_ALPHA,[gk]:n.ONE_MINUS_DST_COLOR,[pk]:n.ONE_MINUS_DST_ALPHA,[vk]:n.CONSTANT_COLOR,[xk]:n.ONE_MINUS_CONSTANT_COLOR,[_k]:n.CONSTANT_ALPHA,[Ak]:n.ONE_MINUS_CONSTANT_ALPHA};function we(D,j,ee,Z,ce,Re,Oe,ze,Ve,$e){if(D===qo){g===!0&&(ut(n.BLEND),g=!1);return}if(g===!1&&(qe(n.BLEND),g=!0),D!==ok){if(D!==A||$e!==U){if((S!==Da||T!==Da)&&(n.blendEquation(n.FUNC_ADD),S=Da,T=Da),$e)switch(D){case xc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jw:n.blendFunc(n.ONE,n.ONE);break;case Xw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Jw:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}else switch(D){case xc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jw:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Xw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Jw:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}w=null,b=null,C=null,B=null,P.set(0,0,0),L=0,A=D,U=$e}return}ce=ce||j,Re=Re||ee,Oe=Oe||Z,(j!==S||ce!==T)&&(n.blendEquationSeparate(xe[j],xe[ce]),S=j,T=ce),(ee!==w||Z!==b||Re!==C||Oe!==B)&&(n.blendFuncSeparate(Pe[ee],Pe[Z],Pe[Re],Pe[Oe]),w=ee,b=Z,C=Re,B=Oe),(ze.equals(P)===!1||Ve!==L)&&(n.blendColor(ze.r,ze.g,ze.b,Ve),P.copy(ze),L=Ve),A=D,U=!1}function nt(D,j){D.side===Ts?ut(n.CULL_FACE):qe(n.CULL_FACE);let ee=D.side===Ji;j&&(ee=!ee),Ge(ee),D.blending===xc&&D.transparent===!1?we(qo):we(D.blending,D.blendEquation,D.blendSrc,D.blendDst,D.blendEquationAlpha,D.blendSrcAlpha,D.blendDstAlpha,D.blendColor,D.blendAlpha,D.premultipliedAlpha),l.setFunc(D.depthFunc),l.setTest(D.depthTest),l.setMask(D.depthWrite),a.setMask(D.colorWrite);const Z=D.stencilWrite;c.setTest(Z),Z&&(c.setMask(D.stencilWriteMask),c.setFunc(D.stencilFunc,D.stencilRef,D.stencilFuncMask),c.setOp(D.stencilFail,D.stencilZFail,D.stencilZPass)),vt(D.polygonOffset,D.polygonOffsetFactor,D.polygonOffsetUnits),D.alphaToCoverage===!0?qe(n.SAMPLE_ALPHA_TO_COVERAGE):ut(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(D){te!==D&&(D?n.frontFace(n.CW):n.frontFace(n.CCW),te=D)}function je(D){D!==ik?(qe(n.CULL_FACE),D!==ne&&(D===Ww?n.cullFace(n.BACK):D===rk?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ut(n.CULL_FACE),ne=D}function lt(D){D!==V&&(G&&n.lineWidth(D),V=D)}function vt(D,j,ee){D?(qe(n.POLYGON_OFFSET_FILL),($!==j||le!==ee)&&(n.polygonOffset(j,ee),$=j,le=ee)):ut(n.POLYGON_OFFSET_FILL)}function se(D){D?qe(n.SCISSOR_TEST):ut(n.SCISSOR_TEST)}function F(D){D===void 0&&(D=n.TEXTURE0+ue-1),z!==D&&(n.activeTexture(D),z=D)}function I(D,j,ee){ee===void 0&&(z===null?ee=n.TEXTURE0+ue-1:ee=z);let Z=J[ee];Z===void 0&&(Z={type:void 0,texture:void 0},J[ee]=Z),(Z.type!==D||Z.texture!==j)&&(z!==ee&&(n.activeTexture(ee),z=ee),n.bindTexture(D,j||rt[D]),Z.type=D,Z.texture=j)}function Q(){const D=J[z];D!==void 0&&D.type!==void 0&&(n.bindTexture(D.type,null),D.type=void 0,D.texture=void 0)}function ge(){try{n.compressedTexImage2D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function pe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Se(){try{n.texSubImage2D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Xe(){try{n.texSubImage3D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Ie(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Ne(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function ct(){try{n.texStorage2D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function bt(){try{n.texStorage3D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Le(){try{n.texImage2D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Pt(){try{n.texImage3D.apply(n,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function K(D){Ee.equals(D)===!1&&(n.scissor(D.x,D.y,D.z,D.w),Ee.copy(D))}function ye(D){ke.equals(D)===!1&&(n.viewport(D.x,D.y,D.z,D.w),ke.copy(D))}function Ce(D,j){let ee=d.get(j);ee===void 0&&(ee=new WeakMap,d.set(j,ee));let Z=ee.get(D);Z===void 0&&(Z=n.getUniformBlockIndex(j,D.name),ee.set(D,Z))}function Te(D,j){const Z=d.get(j).get(D);u.get(j)!==Z&&(n.uniformBlockBinding(j,Z,D.__bindingPointIndex),u.set(j,Z))}function ot(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},z=null,J={},m={},y=new WeakMap,x=[],_=null,g=!1,A=null,S=null,w=null,b=null,T=null,C=null,B=null,P=new We(0,0,0),L=0,U=!1,te=null,ne=null,V=null,$=null,le=null,Ee.set(0,0,n.canvas.width,n.canvas.height),ke.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:qe,disable:ut,bindFramebuffer:Ue,drawBuffers:W,useProgram:be,setBlending:we,setMaterial:nt,setFlipSided:Ge,setCullFace:je,setLineWidth:lt,setPolygonOffset:vt,setScissorTest:se,activeTexture:F,bindTexture:I,unbindTexture:Q,compressedTexImage2D:ge,compressedTexImage3D:pe,texImage2D:Le,texImage3D:Pt,updateUBOMapping:Ce,uniformBlockBinding:Te,texStorage2D:ct,texStorage3D:bt,texSubImage2D:Se,texSubImage3D:Xe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Ne,scissor:K,viewport:ye,reset:ot}}function Tse(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let x;const _=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(F,I){return g?new OffscreenCanvas(F,I):yp("canvas")}function S(F,I,Q,ge){let pe=1;if((F.width>ge||F.height>ge)&&(pe=ge/Math.max(F.width,F.height)),pe<1||I===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const Se=I?D0:Math.floor,Xe=Se(pe*F.width),Ie=Se(pe*F.height);x===void 0&&(x=A(Xe,Ie));const Ne=Q?A(Xe,Ie):x;return Ne.width=Xe,Ne.height=Ie,Ne.getContext("2d").drawImage(F,0,0,Xe,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+Xe+"x"+Ie+")."),Ne}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function w(F){return M1(F.width)&&M1(F.height)}function b(F){return a?!1:F.wrapS!==xi||F.wrapT!==xi||F.minFilter!==Ln&&F.minFilter!==un}function T(F,I){return F.generateMipmaps&&I&&F.minFilter!==Ln&&F.minFilter!==un}function C(F){n.generateMipmap(F)}function B(F,I,Q,ge,pe=!1){if(a===!1)return I;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Se=I;if(I===n.RED&&(Q===n.FLOAT&&(Se=n.R32F),Q===n.HALF_FLOAT&&(Se=n.R16F),Q===n.UNSIGNED_BYTE&&(Se=n.R8)),I===n.RED_INTEGER&&(Q===n.UNSIGNED_BYTE&&(Se=n.R8UI),Q===n.UNSIGNED_SHORT&&(Se=n.R16UI),Q===n.UNSIGNED_INT&&(Se=n.R32UI),Q===n.BYTE&&(Se=n.R8I),Q===n.SHORT&&(Se=n.R16I),Q===n.INT&&(Se=n.R32I)),I===n.RG&&(Q===n.FLOAT&&(Se=n.RG32F),Q===n.HALF_FLOAT&&(Se=n.RG16F),Q===n.UNSIGNED_BYTE&&(Se=n.RG8)),I===n.RGBA){const Xe=pe?hp:qt.getTransfer(ge);Q===n.FLOAT&&(Se=n.RGBA32F),Q===n.HALF_FLOAT&&(Se=n.RGBA16F),Q===n.UNSIGNED_BYTE&&(Se=Xe===nn?n.SRGB8_ALPHA8:n.RGBA8),Q===n.UNSIGNED_SHORT_4_4_4_4&&(Se=n.RGBA4),Q===n.UNSIGNED_SHORT_5_5_5_1&&(Se=n.RGB5_A1)}return(Se===n.R16F||Se===n.R32F||Se===n.RG16F||Se===n.RG32F||Se===n.RGBA16F||Se===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Se}function P(F,I,Q){return T(F,Q)===!0||F.isFramebufferTexture&&F.minFilter!==Ln&&F.minFilter!==un?Math.log2(Math.max(I.width,I.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?I.mipmaps.length:1}function L(F){return F===Ln||F===up||F===Mf?n.NEAREST:n.LINEAR}function U(F){const I=F.target;I.removeEventListener("dispose",U),ne(I),I.isVideoTexture&&y.delete(I)}function te(F){const I=F.target;I.removeEventListener("dispose",te),$(I)}function ne(F){const I=i.get(F);if(I.__webglInit===void 0)return;const Q=F.source,ge=_.get(Q);if(ge){const pe=ge[I.__cacheKey];pe.usedTimes--,pe.usedTimes===0&&V(F),Object.keys(ge).length===0&&_.delete(Q)}i.remove(F)}function V(F){const I=i.get(F);n.deleteTexture(I.__webglTexture);const Q=F.source,ge=_.get(Q);delete ge[I.__cacheKey],o.memory.textures--}function $(F){const I=F.texture,Q=i.get(F),ge=i.get(I);if(ge.__webglTexture!==void 0&&(n.deleteTexture(ge.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(Q.__webglFramebuffer[pe]))for(let Se=0;Se<Q.__webglFramebuffer[pe].length;Se++)n.deleteFramebuffer(Q.__webglFramebuffer[pe][Se]);else n.deleteFramebuffer(Q.__webglFramebuffer[pe]);Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[pe])}else{if(Array.isArray(Q.__webglFramebuffer))for(let pe=0;pe<Q.__webglFramebuffer.length;pe++)n.deleteFramebuffer(Q.__webglFramebuffer[pe]);else n.deleteFramebuffer(Q.__webglFramebuffer);if(Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let pe=0;pe<Q.__webglColorRenderbuffer.length;pe++)Q.__webglColorRenderbuffer[pe]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[pe]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let pe=0,Se=I.length;pe<Se;pe++){const Xe=i.get(I[pe]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),i.remove(I[pe])}i.remove(I),i.remove(F)}let le=0;function ue(){le=0}function G(){const F=le;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),le+=1,F}function Y(F){const I=[];return I.push(F.wrapS),I.push(F.wrapT),I.push(F.wrapR||0),I.push(F.magFilter),I.push(F.minFilter),I.push(F.anisotropy),I.push(F.internalFormat),I.push(F.format),I.push(F.type),I.push(F.generateMipmaps),I.push(F.premultiplyAlpha),I.push(F.flipY),I.push(F.unpackAlignment),I.push(F.colorSpace),I.join()}function q(F,I){const Q=i.get(F);if(F.isVideoTexture&&vt(F),F.isRenderTargetTexture===!1&&F.version>0&&Q.__version!==F.version){const ge=F.image;if(ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{qe(Q,F,I);return}}t.bindTexture(n.TEXTURE_2D,Q.__webglTexture,n.TEXTURE0+I)}function z(F,I){const Q=i.get(F);if(F.version>0&&Q.__version!==F.version){qe(Q,F,I);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Q.__webglTexture,n.TEXTURE0+I)}function J(F,I){const Q=i.get(F);if(F.version>0&&Q.__version!==F.version){qe(Q,F,I);return}t.bindTexture(n.TEXTURE_3D,Q.__webglTexture,n.TEXTURE0+I)}function _e(F,I){const Q=i.get(F);if(F.version>0&&Q.__version!==F.version){ut(Q,F,I);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+I)}const Me={[al]:n.REPEAT,[xi]:n.CLAMP_TO_EDGE,[Hf]:n.MIRRORED_REPEAT},Ee={[Ln]:n.NEAREST,[up]:n.NEAREST_MIPMAP_NEAREST,[Mf]:n.NEAREST_MIPMAP_LINEAR,[un]:n.LINEAR,[Dv]:n.LINEAR_MIPMAP_NEAREST,[ho]:n.LINEAR_MIPMAP_LINEAR},ke={[Qk]:n.NEVER,[sN]:n.ALWAYS,[Zk]:n.LESS,[tN]:n.LEQUAL,[eN]:n.EQUAL,[rN]:n.GEQUAL,[nN]:n.GREATER,[iN]:n.NOTEQUAL};function Ke(F,I,Q){if(Q?(n.texParameteri(F,n.TEXTURE_WRAP_S,Me[I.wrapS]),n.texParameteri(F,n.TEXTURE_WRAP_T,Me[I.wrapT]),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,Me[I.wrapR]),n.texParameteri(F,n.TEXTURE_MAG_FILTER,Ee[I.magFilter]),n.texParameteri(F,n.TEXTURE_MIN_FILTER,Ee[I.minFilter])):(n.texParameteri(F,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(F,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(I.wrapS!==xi||I.wrapT!==xi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,n.TEXTURE_MAG_FILTER,L(I.magFilter)),n.texParameteri(F,n.TEXTURE_MIN_FILTER,L(I.minFilter)),I.minFilter!==Ln&&I.minFilter!==un&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),I.compareFunction&&(n.texParameteri(F,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(F,n.TEXTURE_COMPARE_FUNC,ke[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ge=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===Ln||I.minFilter!==Mf&&I.minFilter!==ho||I.type===Cs&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Dc&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(n.texParameterf(F,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function rt(F,I){let Q=!1;F.__webglInit===void 0&&(F.__webglInit=!0,I.addEventListener("dispose",U));const ge=I.source;let pe=_.get(ge);pe===void 0&&(pe={},_.set(ge,pe));const Se=Y(I);if(Se!==F.__cacheKey){pe[Se]===void 0&&(pe[Se]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),pe[Se].usedTimes++;const Xe=pe[F.__cacheKey];Xe!==void 0&&(pe[F.__cacheKey].usedTimes--,Xe.usedTimes===0&&V(I)),F.__cacheKey=Se,F.__webglTexture=pe[Se].texture}return Q}function qe(F,I,Q){let ge=n.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(ge=n.TEXTURE_2D_ARRAY),I.isData3DTexture&&(ge=n.TEXTURE_3D);const pe=rt(F,I),Se=I.source;t.bindTexture(ge,F.__webglTexture,n.TEXTURE0+Q);const Xe=i.get(Se);if(Se.version!==Xe.__version||pe===!0){t.activeTexture(n.TEXTURE0+Q);const Ie=qt.getPrimaries(qt.workingColorSpace),Ne=I.colorSpace===Mr?null:qt.getPrimaries(I.colorSpace),ct=I.colorSpace===Mr||Ie===Ne?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);const bt=b(I)&&w(I.image)===!1;let Le=S(I.image,bt,!1,u);Le=se(I,Le);const Pt=w(Le)||a,K=s.convert(I.format,I.colorSpace);let ye=s.convert(I.type),Ce=B(I.internalFormat,K,ye,I.colorSpace,I.isVideoTexture);Ke(ge,I,Pt);let Te;const ot=I.mipmaps,D=a&&I.isVideoTexture!==!0,j=Xe.__version===void 0||pe===!0,ee=P(I,Le,Pt);if(I.isDepthTexture)Ce=n.DEPTH_COMPONENT,a?I.type===Cs?Ce=n.DEPTH_COMPONENT32F:I.type===Go?Ce=n.DEPTH_COMPONENT24:I.type===$a?Ce=n.DEPTH24_STENCIL8:Ce=n.DEPTH_COMPONENT16:I.type===Cs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Qa&&Ce===n.DEPTH_COMPONENT&&I.type!==Fv&&I.type!==Go&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Go,ye=s.convert(I.type)),I.format===Fc&&Ce===n.DEPTH_COMPONENT&&(Ce=n.DEPTH_STENCIL,I.type!==$a&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=$a,ye=s.convert(I.type))),j&&(D?t.texStorage2D(n.TEXTURE_2D,1,Ce,Le.width,Le.height):t.texImage2D(n.TEXTURE_2D,0,Ce,Le.width,Le.height,0,K,ye,null));else if(I.isDataTexture)if(ot.length>0&&Pt){D&&j&&t.texStorage2D(n.TEXTURE_2D,ee,Ce,ot[0].width,ot[0].height);for(let Z=0,ce=ot.length;Z<ce;Z++)Te=ot[Z],D?t.texSubImage2D(n.TEXTURE_2D,Z,0,0,Te.width,Te.height,K,ye,Te.data):t.texImage2D(n.TEXTURE_2D,Z,Ce,Te.width,Te.height,0,K,ye,Te.data);I.generateMipmaps=!1}else D?(j&&t.texStorage2D(n.TEXTURE_2D,ee,Ce,Le.width,Le.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Le.width,Le.height,K,ye,Le.data)):t.texImage2D(n.TEXTURE_2D,0,Ce,Le.width,Le.height,0,K,ye,Le.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){D&&j&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ee,Ce,ot[0].width,ot[0].height,Le.depth);for(let Z=0,ce=ot.length;Z<ce;Z++)Te=ot[Z],I.format!==rr?K!==null?D?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Z,0,0,0,Te.width,Te.height,Le.depth,K,Te.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Z,Ce,Te.width,Te.height,Le.depth,0,Te.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):D?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Z,0,0,0,Te.width,Te.height,Le.depth,K,ye,Te.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Z,Ce,Te.width,Te.height,Le.depth,0,K,ye,Te.data)}else{D&&j&&t.texStorage2D(n.TEXTURE_2D,ee,Ce,ot[0].width,ot[0].height);for(let Z=0,ce=ot.length;Z<ce;Z++)Te=ot[Z],I.format!==rr?K!==null?D?t.compressedTexSubImage2D(n.TEXTURE_2D,Z,0,0,Te.width,Te.height,K,Te.data):t.compressedTexImage2D(n.TEXTURE_2D,Z,Ce,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):D?t.texSubImage2D(n.TEXTURE_2D,Z,0,0,Te.width,Te.height,K,ye,Te.data):t.texImage2D(n.TEXTURE_2D,Z,Ce,Te.width,Te.height,0,K,ye,Te.data)}else if(I.isDataArrayTexture)D?(j&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ee,Ce,Le.width,Le.height,Le.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Le.width,Le.height,Le.depth,K,ye,Le.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ce,Le.width,Le.height,Le.depth,0,K,ye,Le.data);else if(I.isData3DTexture)D?(j&&t.texStorage3D(n.TEXTURE_3D,ee,Ce,Le.width,Le.height,Le.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Le.width,Le.height,Le.depth,K,ye,Le.data)):t.texImage3D(n.TEXTURE_3D,0,Ce,Le.width,Le.height,Le.depth,0,K,ye,Le.data);else if(I.isFramebufferTexture){if(j)if(D)t.texStorage2D(n.TEXTURE_2D,ee,Ce,Le.width,Le.height);else{let Z=Le.width,ce=Le.height;for(let Re=0;Re<ee;Re++)t.texImage2D(n.TEXTURE_2D,Re,Ce,Z,ce,0,K,ye,null),Z>>=1,ce>>=1}}else if(ot.length>0&&Pt){D&&j&&t.texStorage2D(n.TEXTURE_2D,ee,Ce,ot[0].width,ot[0].height);for(let Z=0,ce=ot.length;Z<ce;Z++)Te=ot[Z],D?t.texSubImage2D(n.TEXTURE_2D,Z,0,0,K,ye,Te):t.texImage2D(n.TEXTURE_2D,Z,Ce,K,ye,Te);I.generateMipmaps=!1}else D?(j&&t.texStorage2D(n.TEXTURE_2D,ee,Ce,Le.width,Le.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,K,ye,Le)):t.texImage2D(n.TEXTURE_2D,0,Ce,K,ye,Le);T(I,Pt)&&C(ge),Xe.__version=Se.version,I.onUpdate&&I.onUpdate(I)}F.__version=I.version}function ut(F,I,Q){if(I.image.length!==6)return;const ge=rt(F,I),pe=I.source;t.bindTexture(n.TEXTURE_CUBE_MAP,F.__webglTexture,n.TEXTURE0+Q);const Se=i.get(pe);if(pe.version!==Se.__version||ge===!0){t.activeTexture(n.TEXTURE0+Q);const Xe=qt.getPrimaries(qt.workingColorSpace),Ie=I.colorSpace===Mr?null:qt.getPrimaries(I.colorSpace),Ne=I.colorSpace===Mr||Xe===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ne);const ct=I.isCompressedTexture||I.image[0].isCompressedTexture,bt=I.image[0]&&I.image[0].isDataTexture,Le=[];for(let Z=0;Z<6;Z++)!ct&&!bt?Le[Z]=S(I.image[Z],!1,!0,c):Le[Z]=bt?I.image[Z].image:I.image[Z],Le[Z]=se(I,Le[Z]);const Pt=Le[0],K=w(Pt)||a,ye=s.convert(I.format,I.colorSpace),Ce=s.convert(I.type),Te=B(I.internalFormat,ye,Ce,I.colorSpace),ot=a&&I.isVideoTexture!==!0,D=Se.__version===void 0||ge===!0;let j=P(I,Pt,K);Ke(n.TEXTURE_CUBE_MAP,I,K);let ee;if(ct){ot&&D&&t.texStorage2D(n.TEXTURE_CUBE_MAP,j,Te,Pt.width,Pt.height);for(let Z=0;Z<6;Z++){ee=Le[Z].mipmaps;for(let ce=0;ce<ee.length;ce++){const Re=ee[ce];I.format!==rr?ye!==null?ot?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce,0,0,Re.width,Re.height,ye,Re.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce,Te,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce,0,0,Re.width,Re.height,ye,Ce,Re.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce,Te,Re.width,Re.height,0,ye,Ce,Re.data)}}}else{ee=I.mipmaps,ot&&D&&(ee.length>0&&j++,t.texStorage2D(n.TEXTURE_CUBE_MAP,j,Te,Le[0].width,Le[0].height));for(let Z=0;Z<6;Z++)if(bt){ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,Le[Z].width,Le[Z].height,ye,Ce,Le[Z].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,Te,Le[Z].width,Le[Z].height,0,ye,Ce,Le[Z].data);for(let ce=0;ce<ee.length;ce++){const Oe=ee[ce].image[Z].image;ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce+1,0,0,Oe.width,Oe.height,ye,Ce,Oe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce+1,Te,Oe.width,Oe.height,0,ye,Ce,Oe.data)}}else{ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,ye,Ce,Le[Z]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,Te,ye,Ce,Le[Z]);for(let ce=0;ce<ee.length;ce++){const Re=ee[ce];ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce+1,0,0,ye,Ce,Re.image[Z]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ce+1,Te,ye,Ce,Re.image[Z])}}}T(I,K)&&C(n.TEXTURE_CUBE_MAP),Se.__version=pe.version,I.onUpdate&&I.onUpdate(I)}F.__version=I.version}function Ue(F,I,Q,ge,pe,Se){const Xe=s.convert(Q.format,Q.colorSpace),Ie=s.convert(Q.type),Ne=B(Q.internalFormat,Xe,Ie,Q.colorSpace);if(!i.get(I).__hasExternalTextures){const bt=Math.max(1,I.width>>Se),Le=Math.max(1,I.height>>Se);pe===n.TEXTURE_3D||pe===n.TEXTURE_2D_ARRAY?t.texImage3D(pe,Se,Ne,bt,Le,I.depth,0,Xe,Ie,null):t.texImage2D(pe,Se,Ne,bt,Le,0,Xe,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,F),lt(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ge,pe,i.get(Q).__webglTexture,0,je(I)):(pe===n.TEXTURE_2D||pe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&pe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ge,pe,i.get(Q).__webglTexture,Se),t.bindFramebuffer(n.FRAMEBUFFER,null)}function W(F,I,Q){if(n.bindRenderbuffer(n.RENDERBUFFER,F),I.depthBuffer&&!I.stencilBuffer){let ge=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(Q||lt(I)){const pe=I.depthTexture;pe&&pe.isDepthTexture&&(pe.type===Cs?ge=n.DEPTH_COMPONENT32F:pe.type===Go&&(ge=n.DEPTH_COMPONENT24));const Se=je(I);lt(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Se,ge,I.width,I.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Se,ge,I.width,I.height)}else n.renderbufferStorage(n.RENDERBUFFER,ge,I.width,I.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,F)}else if(I.depthBuffer&&I.stencilBuffer){const ge=je(I);Q&&lt(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ge,n.DEPTH24_STENCIL8,I.width,I.height):lt(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ge,n.DEPTH24_STENCIL8,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,F)}else{const ge=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let pe=0;pe<ge.length;pe++){const Se=ge[pe],Xe=s.convert(Se.format,Se.colorSpace),Ie=s.convert(Se.type),Ne=B(Se.internalFormat,Xe,Ie,Se.colorSpace),ct=je(I);Q&&lt(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,Ne,I.width,I.height):lt(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ct,Ne,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,Ne,I.width,I.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function be(F,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,F),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),q(I.depthTexture,0);const ge=i.get(I.depthTexture).__webglTexture,pe=je(I);if(I.depthTexture.format===Qa)lt(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0,pe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0);else if(I.depthTexture.format===Fc)lt(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0,pe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0);else throw new Error("Unknown depthTexture format")}function xe(F){const I=i.get(F),Q=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!I.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");be(I.__webglFramebuffer,F)}else if(Q){I.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer[ge]),I.__webglDepthbuffer[ge]=n.createRenderbuffer(),W(I.__webglDepthbuffer[ge],F,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),W(I.__webglDepthbuffer,F,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Pe(F,I,Q){const ge=i.get(F);I!==void 0&&Ue(ge.__webglFramebuffer,F,F.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Q!==void 0&&xe(F)}function we(F){const I=F.texture,Q=i.get(F),ge=i.get(I);F.addEventListener("dispose",te),F.isWebGLMultipleRenderTargets!==!0&&(ge.__webglTexture===void 0&&(ge.__webglTexture=n.createTexture()),ge.__version=I.version,o.memory.textures++);const pe=F.isWebGLCubeRenderTarget===!0,Se=F.isWebGLMultipleRenderTargets===!0,Xe=w(F)||a;if(pe){Q.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(a&&I.mipmaps&&I.mipmaps.length>0){Q.__webglFramebuffer[Ie]=[];for(let Ne=0;Ne<I.mipmaps.length;Ne++)Q.__webglFramebuffer[Ie][Ne]=n.createFramebuffer()}else Q.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(a&&I.mipmaps&&I.mipmaps.length>0){Q.__webglFramebuffer=[];for(let Ie=0;Ie<I.mipmaps.length;Ie++)Q.__webglFramebuffer[Ie]=n.createFramebuffer()}else Q.__webglFramebuffer=n.createFramebuffer();if(Se)if(r.drawBuffers){const Ie=F.texture;for(let Ne=0,ct=Ie.length;Ne<ct;Ne++){const bt=i.get(Ie[Ne]);bt.__webglTexture===void 0&&(bt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&lt(F)===!1){const Ie=Se?I:[I];Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let Ne=0;Ne<Ie.length;Ne++){const ct=Ie[Ne];Q.__webglColorRenderbuffer[Ne]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Q.__webglColorRenderbuffer[Ne]);const bt=s.convert(ct.format,ct.colorSpace),Le=s.convert(ct.type),Pt=B(ct.internalFormat,bt,Le,ct.colorSpace,F.isXRRenderTarget===!0),K=je(F);n.renderbufferStorageMultisample(n.RENDERBUFFER,K,Pt,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ne,n.RENDERBUFFER,Q.__webglColorRenderbuffer[Ne])}n.bindRenderbuffer(n.RENDERBUFFER,null),F.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),W(Q.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(pe){t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture),Ke(n.TEXTURE_CUBE_MAP,I,Xe);for(let Ie=0;Ie<6;Ie++)if(a&&I.mipmaps&&I.mipmaps.length>0)for(let Ne=0;Ne<I.mipmaps.length;Ne++)Ue(Q.__webglFramebuffer[Ie][Ne],F,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ne);else Ue(Q.__webglFramebuffer[Ie],F,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);T(I,Xe)&&C(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Se){const Ie=F.texture;for(let Ne=0,ct=Ie.length;Ne<ct;Ne++){const bt=Ie[Ne],Le=i.get(bt);t.bindTexture(n.TEXTURE_2D,Le.__webglTexture),Ke(n.TEXTURE_2D,bt,Xe),Ue(Q.__webglFramebuffer,F,bt,n.COLOR_ATTACHMENT0+Ne,n.TEXTURE_2D,0),T(bt,Xe)&&C(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?Ie=F.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,ge.__webglTexture),Ke(Ie,I,Xe),a&&I.mipmaps&&I.mipmaps.length>0)for(let Ne=0;Ne<I.mipmaps.length;Ne++)Ue(Q.__webglFramebuffer[Ne],F,I,n.COLOR_ATTACHMENT0,Ie,Ne);else Ue(Q.__webglFramebuffer,F,I,n.COLOR_ATTACHMENT0,Ie,0);T(I,Xe)&&C(Ie),t.unbindTexture()}F.depthBuffer&&xe(F)}function nt(F){const I=w(F)||a,Q=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let ge=0,pe=Q.length;ge<pe;ge++){const Se=Q[ge];if(T(Se,I)){const Xe=F.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ie=i.get(Se).__webglTexture;t.bindTexture(Xe,Ie),C(Xe),t.unbindTexture()}}}function Ge(F){if(a&&F.samples>0&&lt(F)===!1){const I=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],Q=F.width,ge=F.height;let pe=n.COLOR_BUFFER_BIT;const Se=[],Xe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=i.get(F),Ne=F.isWebGLMultipleRenderTargets===!0;if(Ne)for(let ct=0;ct<I.length;ct++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let ct=0;ct<I.length;ct++){Se.push(n.COLOR_ATTACHMENT0+ct),F.depthBuffer&&Se.push(Xe);const bt=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(bt===!1&&(F.depthBuffer&&(pe|=n.DEPTH_BUFFER_BIT),F.stencilBuffer&&(pe|=n.STENCIL_BUFFER_BIT)),Ne&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ct]),bt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Xe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Xe])),Ne){const Le=i.get(I[ct]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Le,0)}n.blitFramebuffer(0,0,Q,ge,0,0,Q,ge,pe,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Se)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ne)for(let ct=0;ct<I.length;ct++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ct]);const bt=i.get(I[ct]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.TEXTURE_2D,bt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function je(F){return Math.min(d,F.samples)}function lt(F){const I=i.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function vt(F){const I=o.render.frame;y.get(F)!==I&&(y.set(F,I),F.update())}function se(F,I){const Q=F.colorSpace,ge=F.format,pe=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===B0||Q!==po&&Q!==Mr&&(qt.getTransfer(Q)===nn?a===!1?e.has("EXT_sRGB")===!0&&ge===rr?(F.format=B0,F.minFilter=un,F.generateMipmaps=!1):I=VE.sRGBToLinear(I):(ge!==rr||pe!==ao)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Q)),I}this.allocateTextureUnit=G,this.resetTextureUnits=ue,this.setTexture2D=q,this.setTexture2DArray=z,this.setTexture3D=J,this.setTextureCube=_e,this.rebindTextures=Pe,this.setupRenderTarget=we,this.updateRenderTargetMipmap=nt,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=lt}function _N(n,e,t){const i=t.isWebGL2;function r(s,o=Mr){let a;const l=qt.getTransfer(o);if(s===ao)return n.UNSIGNED_BYTE;if(s===DE)return n.UNSIGNED_SHORT_4_4_4_4;if(s===FE)return n.UNSIGNED_SHORT_5_5_5_1;if(s===Ok)return n.BYTE;if(s===kk)return n.SHORT;if(s===Fv)return n.UNSIGNED_SHORT;if(s===BE)return n.INT;if(s===Go)return n.UNSIGNED_INT;if(s===Cs)return n.FLOAT;if(s===Dc)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Nk)return n.ALPHA;if(s===rr)return n.RGBA;if(s===Uk)return n.LUMINANCE;if(s===zk)return n.LUMINANCE_ALPHA;if(s===Qa)return n.DEPTH_COMPONENT;if(s===Fc)return n.DEPTH_STENCIL;if(s===B0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Hk)return n.RED;if(s===OE)return n.RED_INTEGER;if(s===Gk)return n.RG;if(s===kE)return n.RG_INTEGER;if(s===NE)return n.RGBA_INTEGER;if(s===Iy||s===By||s===Dy||s===Fy)if(l===nn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Iy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===By)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Dy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Fy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Iy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===By)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Dy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Fy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===$w||s===Qw||s===Zw||s===e1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===$w)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Qw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Zw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===e1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Vk)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===t1||s===n1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===t1)return l===nn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===n1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===i1||s===r1||s===s1||s===o1||s===a1||s===l1||s===c1||s===u1||s===f1||s===h1||s===d1||s===p1||s===m1||s===g1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===i1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===r1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===s1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===o1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===a1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===l1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===c1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===u1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===f1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===h1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===d1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===p1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===m1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===g1)return l===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Oy||s===y1||s===v1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Oy)return l===nn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===y1)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===v1)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===Wk||s===x1||s===_1||s===A1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Oy)return a.COMPRESSED_RED_RGTC1_EXT;if(s===x1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===_1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===A1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===$a?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class AN extends _n{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vo extends kt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Cse={type:"move"};class VA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const _=t.getJointPose(x,i),g=this._getHandJoint(c,x);_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=_!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Cse)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Vo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class qE extends mn{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Qa,u!==Qa&&u!==Fc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Qa&&(i=Go),i===void 0&&u===Fc&&(i=$a),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ln,this.minFilter=l!==void 0?l:Ln,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Rse extends vo{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,m=null,y=null;const x=t.getContextAttributes();let _=null,g=null;const A=[],S=[],w=new _n;w.layers.enable(1),w.viewport=new $t;const b=new _n;b.layers.enable(2),b.viewport=new $t;const T=[w,b],C=new AN;C.layers.enable(1),C.layers.enable(2);let B=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let J=A[z];return J===void 0&&(J=new VA,A[z]=J),J.getTargetRaySpace()},this.getControllerGrip=function(z){let J=A[z];return J===void 0&&(J=new VA,A[z]=J),J.getGripSpace()},this.getHand=function(z){let J=A[z];return J===void 0&&(J=new VA,A[z]=J),J.getHandSpace()};function L(z){const J=S.indexOf(z.inputSource);if(J===-1)return;const _e=A[J];_e!==void 0&&(_e.update(z.inputSource,z.frame,c||o),_e.dispatchEvent({type:z.type,data:z.inputSource}))}function U(){r.removeEventListener("select",L),r.removeEventListener("selectstart",L),r.removeEventListener("selectend",L),r.removeEventListener("squeeze",L),r.removeEventListener("squeezestart",L),r.removeEventListener("squeezeend",L),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",te);for(let z=0;z<A.length;z++){const J=S[z];J!==null&&(S[z]=null,A[z].disconnect(J))}B=null,P=null,e.setRenderTarget(_),m=null,p=null,d=null,r=null,g=null,q.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(z){if(r=z,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",L),r.addEventListener("selectstart",L),r.addEventListener("selectend",L),r.addEventListener("squeeze",L),r.addEventListener("squeezestart",L),r.addEventListener("squeezeend",L),r.addEventListener("end",U),r.addEventListener("inputsourceschange",te),x.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:r.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,J),r.updateRenderState({baseLayer:m}),g=new cs(m.framebufferWidth,m.framebufferHeight,{format:rr,type:ao,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let J=null,_e=null,Me=null;x.depth&&(Me=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,J=x.stencil?Fc:Qa,_e=x.stencil?$a:Go);const Ee={colorFormat:t.RGBA8,depthFormat:Me,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(Ee),r.updateRenderState({layers:[p]}),g=new cs(p.textureWidth,p.textureHeight,{format:rr,type:ao,depthTexture:new qE(p.textureWidth,p.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const ke=e.properties.get(g);ke.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),q.setContext(r),q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function te(z){for(let J=0;J<z.removed.length;J++){const _e=z.removed[J],Me=S.indexOf(_e);Me>=0&&(S[Me]=null,A[Me].disconnect(_e))}for(let J=0;J<z.added.length;J++){const _e=z.added[J];let Me=S.indexOf(_e);if(Me===-1){for(let ke=0;ke<A.length;ke++)if(ke>=S.length){S.push(_e),Me=ke;break}else if(S[ke]===null){S[ke]=_e,Me=ke;break}if(Me===-1)break}const Ee=A[Me];Ee&&Ee.connect(_e)}}const ne=new N,V=new N;function $(z,J,_e){ne.setFromMatrixPosition(J.matrixWorld),V.setFromMatrixPosition(_e.matrixWorld);const Me=ne.distanceTo(V),Ee=J.projectionMatrix.elements,ke=_e.projectionMatrix.elements,Ke=Ee[14]/(Ee[10]-1),rt=Ee[14]/(Ee[10]+1),qe=(Ee[9]+1)/Ee[5],ut=(Ee[9]-1)/Ee[5],Ue=(Ee[8]-1)/Ee[0],W=(ke[8]+1)/ke[0],be=Ke*Ue,xe=Ke*W,Pe=Me/(-Ue+W),we=Pe*-Ue;J.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(we),z.translateZ(Pe),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const nt=Ke+Pe,Ge=rt+Pe,je=be-we,lt=xe+(Me-we),vt=qe*rt/Ge*nt,se=ut*rt/Ge*nt;z.projectionMatrix.makePerspective(je,lt,vt,se,nt,Ge),z.projectionMatrixInverse.copy(z.projectionMatrix).invert()}function le(z,J){J===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(J.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(r===null)return;C.near=b.near=w.near=z.near,C.far=b.far=w.far=z.far,(B!==C.near||P!==C.far)&&(r.updateRenderState({depthNear:C.near,depthFar:C.far}),B=C.near,P=C.far);const J=z.parent,_e=C.cameras;le(C,J);for(let Me=0;Me<_e.length;Me++)le(_e[Me],J);_e.length===2?$(C,w,b):C.projectionMatrix.copy(w.projectionMatrix),ue(z,C,J)};function ue(z,J,_e){_e===null?z.matrix.copy(J.matrixWorld):(z.matrix.copy(_e.matrixWorld),z.matrix.invert(),z.matrix.multiply(J.matrixWorld)),z.matrix.decompose(z.position,z.quaternion,z.scale),z.updateMatrixWorld(!0),z.projectionMatrix.copy(J.projectionMatrix),z.projectionMatrixInverse.copy(J.projectionMatrixInverse),z.isPerspectiveCamera&&(z.fov=Vf*2*Math.atan(1/z.projectionMatrix.elements[5]),z.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(z){l=z,p!==null&&(p.fixedFoveation=z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=z)};let G=null;function Y(z,J){if(u=J.getViewerPose(c||o),y=J,u!==null){const _e=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Me=!1;_e.length!==C.cameras.length&&(C.cameras.length=0,Me=!0);for(let Ee=0;Ee<_e.length;Ee++){const ke=_e[Ee];let Ke=null;if(m!==null)Ke=m.getViewport(ke);else{const qe=d.getViewSubImage(p,ke);Ke=qe.viewport,Ee===0&&(e.setRenderTargetTextures(g,qe.colorTexture,p.ignoreDepthValues?void 0:qe.depthStencilTexture),e.setRenderTarget(g))}let rt=T[Ee];rt===void 0&&(rt=new _n,rt.layers.enable(Ee),rt.viewport=new $t,T[Ee]=rt),rt.matrix.fromArray(ke.transform.matrix),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale),rt.projectionMatrix.fromArray(ke.projectionMatrix),rt.projectionMatrixInverse.copy(rt.projectionMatrix).invert(),rt.viewport.set(Ke.x,Ke.y,Ke.width,Ke.height),Ee===0&&(C.matrix.copy(rt.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),Me===!0&&C.cameras.push(rt)}}for(let _e=0;_e<A.length;_e++){const Me=S[_e],Ee=A[_e];Me!==null&&Ee!==void 0&&Ee.update(Me,J,c||o)}G&&G(z,J),J.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:J}),y=null}const q=new mN;q.setAnimationLoop(Y),this.setAnimationLoop=function(z){G=z},this.dispose=function(){}}}function Pse(n,e){function t(_,g){_.matrixAutoUpdate===!0&&_.updateMatrix(),g.value.copy(_.matrix)}function i(_,g){g.color.getRGB(_.fogColor.value,fN(n)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)}function r(_,g,A,S,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(_,g):g.isMeshToonMaterial?(s(_,g),d(_,g)):g.isMeshPhongMaterial?(s(_,g),u(_,g)):g.isMeshStandardMaterial?(s(_,g),p(_,g),g.isMeshPhysicalMaterial&&m(_,g,w)):g.isMeshMatcapMaterial?(s(_,g),y(_,g)):g.isMeshDepthMaterial?s(_,g):g.isMeshDistanceMaterial?(s(_,g),x(_,g)):g.isMeshNormalMaterial?s(_,g):g.isLineBasicMaterial?(o(_,g),g.isLineDashedMaterial&&a(_,g)):g.isPointsMaterial?l(_,g,A,S):g.isSpriteMaterial?c(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,g.side===Ji&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),g.side===Ji&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const A=e.get(g).envMap;if(A&&(_.envMap.value=A,_.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap){_.lightMap.value=g.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,_.lightMapTransform)}g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}function l(_,g,A,S){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*A,_.scale.value=S*.5,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function u(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}function d(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}function p(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),e.get(g).envMap&&(_.envMapIntensity.value=g.envMapIntensity)}function m(_,g,A){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ji&&_.clearcoatNormalScale.value.negate())),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=A.texture,_.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(_.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(_.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}function y(_,g){g.matcap&&(_.matcap.value=g.matcap)}function x(_,g){const A=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(A.matrixWorld),_.nearDistance.value=A.shadow.camera.near,_.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Lse(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,S){const w=S.program;i.uniformBlockBinding(A,w)}function c(A,S){let w=r[A.id];w===void 0&&(y(A),w=u(A),r[A.id]=w,A.addEventListener("dispose",_));const b=S.program;i.updateUBOMapping(A,b);const T=e.render.frame;s[A.id]!==T&&(p(A),s[A.id]=T)}function u(A){const S=d();A.__bindingPointIndex=S;const w=n.createBuffer(),b=A.__size,T=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,b,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,w),w}function d(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const S=r[A.id],w=A.uniforms,b=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let T=0,C=w.length;T<C;T++){const B=w[T];if(m(B,T,b)===!0){const P=B.__offset,L=Array.isArray(B.value)?B.value:[B.value];let U=0;for(let te=0;te<L.length;te++){const ne=L[te],V=x(ne);typeof ne=="number"?(B.__data[0]=ne,n.bufferSubData(n.UNIFORM_BUFFER,P+U,B.__data)):ne.isMatrix3?(B.__data[0]=ne.elements[0],B.__data[1]=ne.elements[1],B.__data[2]=ne.elements[2],B.__data[3]=ne.elements[0],B.__data[4]=ne.elements[3],B.__data[5]=ne.elements[4],B.__data[6]=ne.elements[5],B.__data[7]=ne.elements[0],B.__data[8]=ne.elements[6],B.__data[9]=ne.elements[7],B.__data[10]=ne.elements[8],B.__data[11]=ne.elements[0]):(ne.toArray(B.__data,U),U+=V.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,P,B.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,S,w){const b=A.value;if(w[S]===void 0){if(typeof b=="number")w[S]=b;else{const T=Array.isArray(b)?b:[b],C=[];for(let B=0;B<T.length;B++)C.push(T[B].clone());w[S]=C}return!0}else if(typeof b=="number"){if(w[S]!==b)return w[S]=b,!0}else{const T=Array.isArray(w[S])?w[S]:[w[S]],C=Array.isArray(b)?b:[b];for(let B=0;B<T.length;B++){const P=T[B];if(P.equals(C[B])===!1)return P.copy(C[B]),!0}}return!1}function y(A){const S=A.uniforms;let w=0;const b=16;let T=0;for(let C=0,B=S.length;C<B;C++){const P=S[C],L={boundary:0,storage:0},U=Array.isArray(P.value)?P.value:[P.value];for(let te=0,ne=U.length;te<ne;te++){const V=U[te],$=x(V);L.boundary+=$.boundary,L.storage+=$.storage}if(P.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=w,C>0){T=w%b;const te=b-T;T!==0&&te-L.boundary<0&&(w+=b-T,P.__offset=w)}w+=L.storage}return T=w%b,T>0&&(w+=b-T),A.__size=w,A.__cache={},this}function x(A){const S={boundary:0,storage:0};return typeof A=="number"?(S.boundary=4,S.storage=4):A.isVector2?(S.boundary=8,S.storage=8):A.isVector3||A.isColor?(S.boundary=16,S.storage=12):A.isVector4?(S.boundary=16,S.storage=16):A.isMatrix3?(S.boundary=48,S.storage=48):A.isMatrix4?(S.boundary=64,S.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),S}function _(A){const S=A.target;S.removeEventListener("dispose",_);const w=o.indexOf(S.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class $E{constructor(e={}){const{canvas:t=lN(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),y=new Int32Array(4);let x=null,_=null;const g=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=qn,this._useLegacyLights=!1,this.toneMapping=oo,this.toneMappingExposure=1;const S=this;let w=!1,b=0,T=0,C=null,B=-1,P=null;const L=new $t,U=new $t;let te=null;const ne=new We(0);let V=0,$=t.width,le=t.height,ue=1,G=null,Y=null;const q=new $t(0,0,$,le),z=new $t(0,0,$,le);let J=!1;const _e=new Uv;let Me=!1,Ee=!1,ke=null;const Ke=new _t,rt=new Ae,qe=new N,ut={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ue(){return C===null?ue:1}let W=i;function be(k,oe){for(let he=0;he<k.length;he++){const ae=k[he],de=t.getContext(ae,oe);if(de!==null)return de}return null}try{const k={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Up}`),t.addEventListener("webglcontextlost",ot,!1),t.addEventListener("webglcontextrestored",D,!1),t.addEventListener("webglcontextcreationerror",j,!1),W===null){const oe=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&oe.shift(),W=be(oe,k),W===null)throw be(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&W instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let xe,Pe,we,nt,Ge,je,lt,vt,se,F,I,Q,ge,pe,Se,Xe,Ie,Ne,ct,bt,Le,Pt,K,ye;function Ce(){xe=new Xie(W),Pe=new zie(W,xe,e),xe.init(Pe),Pt=new _N(W,xe,Pe),we=new bse(W,xe,Pe),nt=new Yie(W),Ge=new pse,je=new Tse(W,xe,we,Ge,Pe,Pt,nt),lt=new Gie(S),vt=new jie(S),se=new ste(W,Pe),K=new Nie(W,xe,se,Pe),F=new Jie(W,se,nt,K),I=new Zie(W,F,se,nt),ct=new Qie(W,Pe,je),Xe=new Hie(Ge),Q=new dse(S,lt,vt,xe,Pe,K,Xe),ge=new Pse(S,Ge),pe=new gse,Se=new Sse(xe,Pe),Ne=new kie(S,lt,vt,we,I,p,l),Ie=new Ese(S,I,Pe),ye=new Lse(W,nt,Pe,we),bt=new Uie(W,xe,nt,Pe),Le=new Kie(W,xe,nt,Pe),nt.programs=Q.programs,S.capabilities=Pe,S.extensions=xe,S.properties=Ge,S.renderLists=pe,S.shadowMap=Ie,S.state=we,S.info=nt}Ce();const Te=new Rse(S,W);this.xr=Te,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){const k=xe.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=xe.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return ue},this.setPixelRatio=function(k){k!==void 0&&(ue=k,this.setSize($,le,!1))},this.getSize=function(k){return k.set($,le)},this.setSize=function(k,oe,he=!0){if(Te.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=k,le=oe,t.width=Math.floor(k*ue),t.height=Math.floor(oe*ue),he===!0&&(t.style.width=k+"px",t.style.height=oe+"px"),this.setViewport(0,0,k,oe)},this.getDrawingBufferSize=function(k){return k.set($*ue,le*ue).floor()},this.setDrawingBufferSize=function(k,oe,he){$=k,le=oe,ue=he,t.width=Math.floor(k*he),t.height=Math.floor(oe*he),this.setViewport(0,0,k,oe)},this.getCurrentViewport=function(k){return k.copy(L)},this.getViewport=function(k){return k.copy(q)},this.setViewport=function(k,oe,he,ae){k.isVector4?q.set(k.x,k.y,k.z,k.w):q.set(k,oe,he,ae),we.viewport(L.copy(q).multiplyScalar(ue).floor())},this.getScissor=function(k){return k.copy(z)},this.setScissor=function(k,oe,he,ae){k.isVector4?z.set(k.x,k.y,k.z,k.w):z.set(k,oe,he,ae),we.scissor(U.copy(z).multiplyScalar(ue).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(k){we.setScissorTest(J=k)},this.setOpaqueSort=function(k){G=k},this.setTransparentSort=function(k){Y=k},this.getClearColor=function(k){return k.copy(Ne.getClearColor())},this.setClearColor=function(){Ne.setClearColor.apply(Ne,arguments)},this.getClearAlpha=function(){return Ne.getClearAlpha()},this.setClearAlpha=function(){Ne.setClearAlpha.apply(Ne,arguments)},this.clear=function(k=!0,oe=!0,he=!0){let ae=0;if(k){let de=!1;if(C!==null){const De=C.texture.format;de=De===NE||De===kE||De===OE}if(de){const De=C.texture.type,Ze=De===ao||De===Go||De===Fv||De===$a||De===DE||De===FE,ft=Ne.getClearColor(),dt=Ne.getClearAlpha(),St=ft.r,At=ft.g,wt=ft.b;Ze?(m[0]=St,m[1]=At,m[2]=wt,m[3]=dt,W.clearBufferuiv(W.COLOR,0,m)):(y[0]=St,y[1]=At,y[2]=wt,y[3]=dt,W.clearBufferiv(W.COLOR,0,y))}else ae|=W.COLOR_BUFFER_BIT}oe&&(ae|=W.DEPTH_BUFFER_BIT),he&&(ae|=W.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),W.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ot,!1),t.removeEventListener("webglcontextrestored",D,!1),t.removeEventListener("webglcontextcreationerror",j,!1),pe.dispose(),Se.dispose(),Ge.dispose(),lt.dispose(),vt.dispose(),I.dispose(),K.dispose(),ye.dispose(),Q.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",Ve),Te.removeEventListener("sessionend",$e),ke&&(ke.dispose(),ke=null),Ut.stop()};function ot(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function D(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const k=nt.autoReset,oe=Ie.enabled,he=Ie.autoUpdate,ae=Ie.needsUpdate,de=Ie.type;Ce(),nt.autoReset=k,Ie.enabled=oe,Ie.autoUpdate=he,Ie.needsUpdate=ae,Ie.type=de}function j(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function ee(k){const oe=k.target;oe.removeEventListener("dispose",ee),Z(oe)}function Z(k){ce(k),Ge.remove(k)}function ce(k){const oe=Ge.get(k).programs;oe!==void 0&&(oe.forEach(function(he){Q.releaseProgram(he)}),k.isShaderMaterial&&Q.releaseShaderCache(k))}this.renderBufferDirect=function(k,oe,he,ae,de,De){oe===null&&(oe=ut);const Ze=de.isMesh&&de.matrixWorld.determinant()<0,ft=Ni(k,oe,he,ae,de);we.setMaterial(ae,Ze);let dt=he.index,St=1;if(ae.wireframe===!0){if(dt=F.getWireframeAttribute(he),dt===void 0)return;St=2}const At=he.drawRange,wt=he.attributes.position;let gn=At.start*St,gi=(At.start+At.count)*St;De!==null&&(gn=Math.max(gn,De.start*St),gi=Math.min(gi,(De.start+De.count)*St)),dt!==null?(gn=Math.max(gn,0),gi=Math.min(gi,dt.count)):wt!=null&&(gn=Math.max(gn,0),gi=Math.min(gi,wt.count));const on=gi-gn;if(on<0||on===1/0)return;K.setup(de,ae,ft,he,dt);let ei,yt=bt;if(dt!==null&&(ei=se.get(dt),yt=Le,yt.setIndex(ei)),de.isMesh)ae.wireframe===!0?(we.setLineWidth(ae.wireframeLinewidth*Ue()),yt.setMode(W.LINES)):yt.setMode(W.TRIANGLES);else if(de.isLine){let tt=ae.linewidth;tt===void 0&&(tt=1),we.setLineWidth(tt*Ue()),de.isLineSegments?yt.setMode(W.LINES):de.isLineLoop?yt.setMode(W.LINE_LOOP):yt.setMode(W.LINE_STRIP)}else de.isPoints?yt.setMode(W.POINTS):de.isSprite&&yt.setMode(W.TRIANGLES);if(de.isInstancedMesh)yt.renderInstances(gn,on,de.count);else if(he.isInstancedBufferGeometry){const tt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,zr=Math.min(he.instanceCount,tt);yt.renderInstances(gn,on,zr)}else yt.render(gn,on)};function Re(k,oe,he){k.transparent===!0&&k.side===Ts&&k.forceSinglePass===!1?(k.side=Ji,k.needsUpdate=!0,Ur(k,oe,he),k.side=fo,k.needsUpdate=!0,Ur(k,oe,he),k.side=Ts):Ur(k,oe,he)}this.compile=function(k,oe,he=null){he===null&&(he=k),_=Se.get(he),_.init(),A.push(_),he.traverseVisible(function(de){de.isLight&&de.layers.test(oe.layers)&&(_.pushLight(de),de.castShadow&&_.pushShadow(de))}),k!==he&&k.traverseVisible(function(de){de.isLight&&de.layers.test(oe.layers)&&(_.pushLight(de),de.castShadow&&_.pushShadow(de))}),_.setupLights(S._useLegacyLights);const ae=new Set;return k.traverse(function(de){const De=de.material;if(De)if(Array.isArray(De))for(let Ze=0;Ze<De.length;Ze++){const ft=De[Ze];Re(ft,he,de),ae.add(ft)}else Re(De,he,de),ae.add(De)}),A.pop(),_=null,ae},this.compileAsync=function(k,oe,he=null){const ae=this.compile(k,oe,he);return new Promise(de=>{function De(){if(ae.forEach(function(Ze){Ge.get(Ze).currentProgram.isReady()&&ae.delete(Ze)}),ae.size===0){de(k);return}setTimeout(De,10)}xe.get("KHR_parallel_shader_compile")!==null?De():setTimeout(De,10)})};let Oe=null;function ze(k){Oe&&Oe(k)}function Ve(){Ut.stop()}function $e(){Ut.start()}const Ut=new mN;Ut.setAnimationLoop(ze),typeof self<"u"&&Ut.setContext(self),this.setAnimationLoop=function(k){Oe=k,Te.setAnimationLoop(k),k===null?Ut.stop():Ut.start()},Te.addEventListener("sessionstart",Ve),Te.addEventListener("sessionend",$e),this.render=function(k,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Te.enabled===!0&&Te.isPresenting===!0&&(Te.cameraAutoUpdate===!0&&Te.updateCamera(oe),oe=Te.getCamera()),k.isScene===!0&&k.onBeforeRender(S,k,oe,C),_=Se.get(k,A.length),_.init(),A.push(_),Ke.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),_e.setFromProjectionMatrix(Ke),Ee=this.localClippingEnabled,Me=Xe.init(this.clippingPlanes,Ee),x=pe.get(k,g.length),x.init(),g.push(x),mt(k,oe,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(G,Y),this.info.render.frame++,Me===!0&&Xe.beginShadows();const he=_.state.shadowsArray;if(Ie.render(he,k,oe),Me===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ne.render(x,k),_.setupLights(S._useLegacyLights),oe.isArrayCamera){const ae=oe.cameras;for(let de=0,De=ae.length;de<De;de++){const Ze=ae[de];Vt(x,k,Ze,Ze.viewport)}}else Vt(x,k,oe);C!==null&&(je.updateMultisampleRenderTarget(C),je.updateRenderTargetMipmap(C)),k.isScene===!0&&k.onAfterRender(S,k,oe),K.resetDefaultState(),B=-1,P=null,A.pop(),A.length>0?_=A[A.length-1]:_=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function mt(k,oe,he,ae){if(k.visible===!1)return;if(k.layers.test(oe.layers)){if(k.isGroup)he=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(oe);else if(k.isLight)_.pushLight(k),k.castShadow&&_.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||_e.intersectsSprite(k)){ae&&qe.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Ke);const Ze=I.update(k),ft=k.material;ft.visible&&x.push(k,Ze,ft,he,qe.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||_e.intersectsObject(k))){const Ze=I.update(k),ft=k.material;if(ae&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),qe.copy(k.boundingSphere.center)):(Ze.boundingSphere===null&&Ze.computeBoundingSphere(),qe.copy(Ze.boundingSphere.center)),qe.applyMatrix4(k.matrixWorld).applyMatrix4(Ke)),Array.isArray(ft)){const dt=Ze.groups;for(let St=0,At=dt.length;St<At;St++){const wt=dt[St],gn=ft[wt.materialIndex];gn&&gn.visible&&x.push(k,Ze,gn,he,qe.z,wt)}}else ft.visible&&x.push(k,Ze,ft,he,qe.z,null)}}const De=k.children;for(let Ze=0,ft=De.length;Ze<ft;Ze++)mt(De[Ze],oe,he,ae)}function Vt(k,oe,he,ae){const de=k.opaque,De=k.transmissive,Ze=k.transparent;_.setupLightsView(he),Me===!0&&Xe.setGlobalState(S.clippingPlanes,he),De.length>0&&Yt(de,De,oe,he),ae&&we.viewport(L.copy(ae)),de.length>0&&En(de,oe,he),De.length>0&&En(De,oe,he),Ze.length>0&&En(Ze,oe,he),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Yt(k,oe,he,ae){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;const De=Pe.isWebGL2;ke===null&&(ke=new cs(1,1,{generateMipmaps:!0,type:xe.has("EXT_color_buffer_half_float")?Dc:ao,minFilter:ho,samples:De?4:0})),S.getDrawingBufferSize(rt),De?ke.setSize(rt.x,rt.y):ke.setSize(D0(rt.x),D0(rt.y));const Ze=S.getRenderTarget();S.setRenderTarget(ke),S.getClearColor(ne),V=S.getClearAlpha(),V<1&&S.setClearColor(16777215,.5),S.clear();const ft=S.toneMapping;S.toneMapping=oo,En(k,he,ae),je.updateMultisampleRenderTarget(ke),je.updateRenderTargetMipmap(ke);let dt=!1;for(let St=0,At=oe.length;St<At;St++){const wt=oe[St],gn=wt.object,gi=wt.geometry,on=wt.material,ei=wt.group;if(on.side===Ts&&gn.layers.test(ae.layers)){const yt=on.side;on.side=Ji,on.needsUpdate=!0,Jn(gn,he,ae,gi,on,ei),on.side=yt,on.needsUpdate=!0,dt=!0}}dt===!0&&(je.updateMultisampleRenderTarget(ke),je.updateRenderTargetMipmap(ke)),S.setRenderTarget(Ze),S.setClearColor(ne,V),S.toneMapping=ft}function En(k,oe,he){const ae=oe.isScene===!0?oe.overrideMaterial:null;for(let de=0,De=k.length;de<De;de++){const Ze=k[de],ft=Ze.object,dt=Ze.geometry,St=ae===null?Ze.material:ae,At=Ze.group;ft.layers.test(he.layers)&&Jn(ft,oe,he,dt,St,At)}}function Jn(k,oe,he,ae,de,De){k.onBeforeRender(S,oe,he,ae,de,De),k.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),de.onBeforeRender(S,oe,he,ae,k,De),de.transparent===!0&&de.side===Ts&&de.forceSinglePass===!1?(de.side=Ji,de.needsUpdate=!0,S.renderBufferDirect(he,oe,ae,de,k,De),de.side=fo,de.needsUpdate=!0,S.renderBufferDirect(he,oe,ae,de,k,De),de.side=Ts):S.renderBufferDirect(he,oe,ae,de,k,De),k.onAfterRender(S,oe,he,ae,de,De)}function Ur(k,oe,he){oe.isScene!==!0&&(oe=ut);const ae=Ge.get(k),de=_.state.lights,De=_.state.shadowsArray,Ze=de.state.version,ft=Q.getParameters(k,de.state,De,oe,he),dt=Q.getProgramCacheKey(ft);let St=ae.programs;ae.environment=k.isMeshStandardMaterial?oe.environment:null,ae.fog=oe.fog,ae.envMap=(k.isMeshStandardMaterial?vt:lt).get(k.envMap||ae.environment),St===void 0&&(k.addEventListener("dispose",ee),St=new Map,ae.programs=St);let At=St.get(dt);if(At!==void 0){if(ae.currentProgram===At&&ae.lightsStateVersion===Ze)return fs(k,ft),At}else ft.uniforms=Q.getUniforms(k),k.onBuild(he,ft,S),k.onBeforeCompile(ft,S),At=Q.acquireProgram(ft,dt),St.set(dt,At),ae.uniforms=ft.uniforms;const wt=ae.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(wt.clippingPlanes=Xe.uniform),fs(k,ft),ae.needsLights=Al(k),ae.lightsStateVersion=Ze,ae.needsLights&&(wt.ambientLightColor.value=de.state.ambient,wt.lightProbe.value=de.state.probe,wt.directionalLights.value=de.state.directional,wt.directionalLightShadows.value=de.state.directionalShadow,wt.spotLights.value=de.state.spot,wt.spotLightShadows.value=de.state.spotShadow,wt.rectAreaLights.value=de.state.rectArea,wt.ltc_1.value=de.state.rectAreaLTC1,wt.ltc_2.value=de.state.rectAreaLTC2,wt.pointLights.value=de.state.point,wt.pointLightShadows.value=de.state.pointShadow,wt.hemisphereLights.value=de.state.hemi,wt.directionalShadowMap.value=de.state.directionalShadowMap,wt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,wt.spotShadowMap.value=de.state.spotShadowMap,wt.spotLightMatrix.value=de.state.spotLightMatrix,wt.spotLightMap.value=de.state.spotLightMap,wt.pointShadowMap.value=de.state.pointShadowMap,wt.pointShadowMatrix.value=de.state.pointShadowMatrix),ae.currentProgram=At,ae.uniformsList=null,At}function aa(k){if(k.uniformsList===null){const oe=k.currentProgram.getUniforms();k.uniformsList=Ny.seqWithValue(oe.seq,k.uniforms)}return k.uniformsList}function fs(k,oe){const he=Ge.get(k);he.outputColorSpace=oe.outputColorSpace,he.instancing=oe.instancing,he.instancingColor=oe.instancingColor,he.skinning=oe.skinning,he.morphTargets=oe.morphTargets,he.morphNormals=oe.morphNormals,he.morphColors=oe.morphColors,he.morphTargetsCount=oe.morphTargetsCount,he.numClippingPlanes=oe.numClippingPlanes,he.numIntersection=oe.numClipIntersection,he.vertexAlphas=oe.vertexAlphas,he.vertexTangents=oe.vertexTangents,he.toneMapping=oe.toneMapping}function Ni(k,oe,he,ae,de){oe.isScene!==!0&&(oe=ut),je.resetTextureUnits();const De=oe.fog,Ze=ae.isMeshStandardMaterial?oe.environment:null,ft=C===null?S.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:po,dt=(ae.isMeshStandardMaterial?vt:lt).get(ae.envMap||Ze),St=ae.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,At=!!he.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),wt=!!he.morphAttributes.position,gn=!!he.morphAttributes.normal,gi=!!he.morphAttributes.color;let on=oo;ae.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(on=S.toneMapping);const ei=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,yt=ei!==void 0?ei.length:0,tt=Ge.get(ae),zr=_.state.lights;if(Me===!0&&(Ee===!0||k!==P)){const ni=k===P&&ae.id===B;Xe.setState(ae,k,ni)}let Ot=!1;ae.version===tt.__version?(tt.needsLights&&tt.lightsStateVersion!==zr.state.version||tt.outputColorSpace!==ft||de.isInstancedMesh&&tt.instancing===!1||!de.isInstancedMesh&&tt.instancing===!0||de.isSkinnedMesh&&tt.skinning===!1||!de.isSkinnedMesh&&tt.skinning===!0||de.isInstancedMesh&&tt.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&tt.instancingColor===!1&&de.instanceColor!==null||tt.envMap!==dt||ae.fog===!0&&tt.fog!==De||tt.numClippingPlanes!==void 0&&(tt.numClippingPlanes!==Xe.numPlanes||tt.numIntersection!==Xe.numIntersection)||tt.vertexAlphas!==St||tt.vertexTangents!==At||tt.morphTargets!==wt||tt.morphNormals!==gn||tt.morphColors!==gi||tt.toneMapping!==on||Pe.isWebGL2===!0&&tt.morphTargetsCount!==yt)&&(Ot=!0):(Ot=!0,tt.__version=ae.version);let bn=tt.currentProgram;Ot===!0&&(bn=Ur(ae,oe,de));let Hs=!1,Hr=!1,ti=!1;const zn=bn.getUniforms(),Gs=tt.uniforms;if(we.useProgram(bn.program)&&(Hs=!0,Hr=!0,ti=!0),ae.id!==B&&(B=ae.id,Hr=!0),Hs||P!==k){zn.setValue(W,"projectionMatrix",k.projectionMatrix),zn.setValue(W,"viewMatrix",k.matrixWorldInverse);const ni=zn.map.cameraPosition;ni!==void 0&&ni.setValue(W,qe.setFromMatrixPosition(k.matrixWorld)),Pe.logarithmicDepthBuffer&&zn.setValue(W,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&zn.setValue(W,"isOrthographic",k.isOrthographicCamera===!0),P!==k&&(P=k,Hr=!0,ti=!0)}if(de.isSkinnedMesh){zn.setOptional(W,de,"bindMatrix"),zn.setOptional(W,de,"bindMatrixInverse");const ni=de.skeleton;ni&&(Pe.floatVertexTextures?(ni.boneTexture===null&&ni.computeBoneTexture(),zn.setValue(W,"boneTexture",ni.boneTexture,je),zn.setValue(W,"boneTextureSize",ni.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const nu=he.morphAttributes;if((nu.position!==void 0||nu.normal!==void 0||nu.color!==void 0&&Pe.isWebGL2===!0)&&ct.update(de,he,bn),(Hr||tt.receiveShadow!==de.receiveShadow)&&(tt.receiveShadow=de.receiveShadow,zn.setValue(W,"receiveShadow",de.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(Gs.envMap.value=dt,Gs.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Hr&&(zn.setValue(W,"toneMappingExposure",S.toneMappingExposure),tt.needsLights&&la(Gs,ti),De&&ae.fog===!0&&ge.refreshFogUniforms(Gs,De),ge.refreshMaterialUniforms(Gs,ae,ue,le,ke),Ny.upload(W,aa(tt),Gs,je)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(Ny.upload(W,aa(tt),Gs,je),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&zn.setValue(W,"center",de.center),zn.setValue(W,"modelViewMatrix",de.modelViewMatrix),zn.setValue(W,"normalMatrix",de.normalMatrix),zn.setValue(W,"modelMatrix",de.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const ni=ae.uniformsGroups;for(let iu=0,hr=ni.length;iu<hr;iu++)if(Pe.isWebGL2){const em=ni[iu];ye.update(em,bn),ye.bind(em,bn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return bn}function la(k,oe){k.ambientLightColor.needsUpdate=oe,k.lightProbe.needsUpdate=oe,k.directionalLights.needsUpdate=oe,k.directionalLightShadows.needsUpdate=oe,k.pointLights.needsUpdate=oe,k.pointLightShadows.needsUpdate=oe,k.spotLights.needsUpdate=oe,k.spotLightShadows.needsUpdate=oe,k.rectAreaLights.needsUpdate=oe,k.hemisphereLights.needsUpdate=oe}function Al(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(k,oe,he){Ge.get(k.texture).__webglTexture=oe,Ge.get(k.depthTexture).__webglTexture=he;const ae=Ge.get(k);ae.__hasExternalTextures=!0,ae.__hasExternalTextures&&(ae.__autoAllocateDepthBuffer=he===void 0,ae.__autoAllocateDepthBuffer||xe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,oe){const he=Ge.get(k);he.__webglFramebuffer=oe,he.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function(k,oe=0,he=0){C=k,b=oe,T=he;let ae=!0,de=null,De=!1,Ze=!1;if(k){const dt=Ge.get(k);dt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(W.FRAMEBUFFER,null),ae=!1):dt.__webglFramebuffer===void 0?je.setupRenderTarget(k):dt.__hasExternalTextures&&je.rebindTextures(k,Ge.get(k.texture).__webglTexture,Ge.get(k.depthTexture).__webglTexture);const St=k.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(Ze=!0);const At=Ge.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(At[oe])?de=At[oe][he]:de=At[oe],De=!0):Pe.isWebGL2&&k.samples>0&&je.useMultisampledRTT(k)===!1?de=Ge.get(k).__webglMultisampledFramebuffer:Array.isArray(At)?de=At[he]:de=At,L.copy(k.viewport),U.copy(k.scissor),te=k.scissorTest}else L.copy(q).multiplyScalar(ue).floor(),U.copy(z).multiplyScalar(ue).floor(),te=J;if(we.bindFramebuffer(W.FRAMEBUFFER,de)&&Pe.drawBuffers&&ae&&we.drawBuffers(k,de),we.viewport(L),we.scissor(U),we.setScissorTest(te),De){const dt=Ge.get(k.texture);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_CUBE_MAP_POSITIVE_X+oe,dt.__webglTexture,he)}else if(Ze){const dt=Ge.get(k.texture),St=oe||0;W.framebufferTextureLayer(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,dt.__webglTexture,he||0,St)}B=-1},this.readRenderTargetPixels=function(k,oe,he,ae,de,De,Ze){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=Ge.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Ze!==void 0&&(ft=ft[Ze]),ft){we.bindFramebuffer(W.FRAMEBUFFER,ft);try{const dt=k.texture,St=dt.format,At=dt.type;if(St!==rr&&Pt.convert(St)!==W.getParameter(W.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=At===Dc&&(xe.has("EXT_color_buffer_half_float")||Pe.isWebGL2&&xe.has("EXT_color_buffer_float"));if(At!==ao&&Pt.convert(At)!==W.getParameter(W.IMPLEMENTATION_COLOR_READ_TYPE)&&!(At===Cs&&(Pe.isWebGL2||xe.has("OES_texture_float")||xe.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=k.width-ae&&he>=0&&he<=k.height-de&&W.readPixels(oe,he,ae,de,Pt.convert(St),Pt.convert(At),De)}finally{const dt=C!==null?Ge.get(C).__webglFramebuffer:null;we.bindFramebuffer(W.FRAMEBUFFER,dt)}}},this.copyFramebufferToTexture=function(k,oe,he=0){const ae=Math.pow(2,-he),de=Math.floor(oe.image.width*ae),De=Math.floor(oe.image.height*ae);je.setTexture2D(oe,0),W.copyTexSubImage2D(W.TEXTURE_2D,he,0,0,k.x,k.y,de,De),we.unbindTexture()},this.copyTextureToTexture=function(k,oe,he,ae=0){const de=oe.image.width,De=oe.image.height,Ze=Pt.convert(he.format),ft=Pt.convert(he.type);je.setTexture2D(he,0),W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,he.flipY),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),W.pixelStorei(W.UNPACK_ALIGNMENT,he.unpackAlignment),oe.isDataTexture?W.texSubImage2D(W.TEXTURE_2D,ae,k.x,k.y,de,De,Ze,ft,oe.image.data):oe.isCompressedTexture?W.compressedTexSubImage2D(W.TEXTURE_2D,ae,k.x,k.y,oe.mipmaps[0].width,oe.mipmaps[0].height,Ze,oe.mipmaps[0].data):W.texSubImage2D(W.TEXTURE_2D,ae,k.x,k.y,Ze,ft,oe.image),ae===0&&he.generateMipmaps&&W.generateMipmap(W.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(k,oe,he,ae,de=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const De=k.max.x-k.min.x+1,Ze=k.max.y-k.min.y+1,ft=k.max.z-k.min.z+1,dt=Pt.convert(ae.format),St=Pt.convert(ae.type);let At;if(ae.isData3DTexture)je.setTexture3D(ae,0),At=W.TEXTURE_3D;else if(ae.isDataArrayTexture)je.setTexture2DArray(ae,0),At=W.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,ae.flipY),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),W.pixelStorei(W.UNPACK_ALIGNMENT,ae.unpackAlignment);const wt=W.getParameter(W.UNPACK_ROW_LENGTH),gn=W.getParameter(W.UNPACK_IMAGE_HEIGHT),gi=W.getParameter(W.UNPACK_SKIP_PIXELS),on=W.getParameter(W.UNPACK_SKIP_ROWS),ei=W.getParameter(W.UNPACK_SKIP_IMAGES),yt=he.isCompressedTexture?he.mipmaps[0]:he.image;W.pixelStorei(W.UNPACK_ROW_LENGTH,yt.width),W.pixelStorei(W.UNPACK_IMAGE_HEIGHT,yt.height),W.pixelStorei(W.UNPACK_SKIP_PIXELS,k.min.x),W.pixelStorei(W.UNPACK_SKIP_ROWS,k.min.y),W.pixelStorei(W.UNPACK_SKIP_IMAGES,k.min.z),he.isDataTexture||he.isData3DTexture?W.texSubImage3D(At,de,oe.x,oe.y,oe.z,De,Ze,ft,dt,St,yt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(At,de,oe.x,oe.y,oe.z,De,Ze,ft,dt,yt.data)):W.texSubImage3D(At,de,oe.x,oe.y,oe.z,De,Ze,ft,dt,St,yt),W.pixelStorei(W.UNPACK_ROW_LENGTH,wt),W.pixelStorei(W.UNPACK_IMAGE_HEIGHT,gn),W.pixelStorei(W.UNPACK_SKIP_PIXELS,gi),W.pixelStorei(W.UNPACK_SKIP_ROWS,on),W.pixelStorei(W.UNPACK_SKIP_IMAGES,ei),de===0&&ae.generateMipmaps&&W.generateMipmap(At),we.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?je.setTextureCube(k,0):k.isData3DTexture?je.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?je.setTexture2DArray(k,0):je.setTexture2D(k,0),we.unbindTexture()},this.resetState=function(){b=0,T=0,C=null,we.reset(),K.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return to}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===kv?"display-p3":"srgb",t.unpackColorSpace=qt.workingColorSpace===Hp?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===qn?Za:HE}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Za?qn:po}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class SN extends $E{}SN.prototype.isWebGL1Renderer=!0;class Hv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new We(e),this.density=t}clone(){return new Hv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Gv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new We(e),this.near=t,this.far=i}clone(){return new Gv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class F0 extends kt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Xp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=mp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ir()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hi=new N;class ll{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Hi.fromBufferAttribute(this,t),Hi.applyMatrix4(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Hi.fromBufferAttribute(this,t),Hi.applyNormalMatrix(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Hi.fromBufferAttribute(this,t),Hi.transformDirection(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}setX(e,t){return this.normalized&&(t=Rt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Rt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Rt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Rt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=sr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=sr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=sr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=sr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array),r=Rt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rt(t,this.array),i=Rt(i,this.array),r=Rt(r,this.array),s=Rt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ll(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QE extends Xn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Du;const jh=new N,Fu=new N,Ou=new N,ku=new Ae,Xh=new Ae,wN=new _t,Ug=new N,Jh=new N,zg=new N,_L=new Ae,WA=new Ae,AL=new Ae;class MN extends kt{constructor(e=new QE){if(super(),this.isSprite=!0,this.type="Sprite",Du===void 0){Du=new Tt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Xp(t,5);Du.setIndex([0,1,2,0,2,3]),Du.setAttribute("position",new ll(i,3,0,!1)),Du.setAttribute("uv",new ll(i,2,3,!1))}this.geometry=Du,this.material=e,this.center=new Ae(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fu.setFromMatrixScale(this.matrixWorld),wN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ou.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fu.multiplyScalar(-Ou.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Hg(Ug.set(-.5,-.5,0),Ou,o,Fu,r,s),Hg(Jh.set(.5,-.5,0),Ou,o,Fu,r,s),Hg(zg.set(.5,.5,0),Ou,o,Fu,r,s),_L.set(0,0),WA.set(1,0),AL.set(1,1);let a=e.ray.intersectTriangle(Ug,Jh,zg,!1,jh);if(a===null&&(Hg(Jh.set(-.5,.5,0),Ou,o,Fu,r,s),WA.set(0,1),a=e.ray.intersectTriangle(Ug,zg,Jh,!1,jh),a===null))return;const l=e.ray.origin.distanceTo(jh);l<e.near||l>e.far||t.push({distance:l,point:jh.clone(),uv:ir.getInterpolation(jh,Ug,Jh,zg,_L,WA,AL,new Ae),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hg(n,e,t,i,r,s){ku.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Xh.x=s*ku.x-r*ku.y,Xh.y=r*ku.x+s*ku.y):Xh.copy(ku),n.copy(e),n.x+=Xh.x,n.y+=Xh.y,n.applyMatrix4(wN)}const Gg=new N,SL=new N;class EN extends kt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Gg.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Gg);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Gg.setFromMatrixPosition(e.matrixWorld),SL.setFromMatrixPosition(this.matrixWorld);const i=Gg.distanceTo(SL)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const wL=new N,ML=new $t,EL=new $t,Ise=new N,bL=new _t,Vg=new N,jA=new us,TL=new _t,XA=new qc;class ZE extends ui{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=qw,this.bindMatrix=new _t,this.bindMatrixInverse=new _t,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ks),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Vg),this.boundingBox.expandByPoint(Vg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new us),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Vg),this.boundingSphere.expandByPoint(Vg)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jA.copy(this.boundingSphere),jA.applyMatrix4(r),e.ray.intersectsSphere(jA)!==!1&&(TL.copy(r).invert(),XA.copy(e.ray).applyMatrix4(TL),!(this.boundingBox!==null&&XA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,XA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $t,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===qw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Fk?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;ML.fromBufferAttribute(r.attributes.skinIndex,e),EL.fromBufferAttribute(r.attributes.skinWeight,e),wL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=EL.getComponent(s);if(o!==0){const a=ML.getComponent(s);bL.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(Ise.copy(wL).applyMatrix4(bL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Vv extends kt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bf extends mn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Ln,u=Ln,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const CL=new _t,Bse=new _t;class Jp{constructor(e=[],t=[]){this.uuid=Ir(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new _t)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new _t;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Bse;CL.multiplyMatrices(a,t[s]),CL.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Jp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=oN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new bf(t,e,e,rr,Cs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Vv),this.bones.push(o),this.boneInverses.push(new _t().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class jf extends Jt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Nu=new _t,RL=new _t,Wg=[],PL=new ks,Dse=new _t,Kh=new ui,Yh=new us;class eb extends ui{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new jf(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Dse)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ks),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Nu),PL.copy(e.boundingBox).applyMatrix4(Nu),this.boundingBox.union(PL)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new us),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Nu),Yh.copy(e.boundingSphere).applyMatrix4(Nu),this.boundingSphere.union(Yh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Kh.geometry=this.geometry,Kh.material=this.material,Kh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Yh.copy(this.boundingSphere),Yh.applyMatrix4(i),e.ray.intersectsSphere(Yh)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Nu),RL.multiplyMatrices(i,Nu),Kh.matrixWorld=RL,Kh.raycast(e,Wg);for(let o=0,a=Wg.length;o<a;o++){const l=Wg[o];l.instanceId=s,l.object=this,t.push(l)}Wg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new jf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Oi extends Xn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new We(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const LL=new N,IL=new N,BL=new _t,JA=new qc,jg=new us;class ia extends kt{constructor(e=new Tt,t=new Oi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)LL.fromBufferAttribute(t,r-1),IL.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=LL.distanceTo(IL);e.setAttribute("lineDistance",new it(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),jg.copy(i.boundingSphere),jg.applyMatrix4(r),jg.radius+=s,e.ray.intersectsSphere(jg)===!1)return;BL.copy(r).invert(),JA.copy(e.ray).applyMatrix4(BL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new N,u=new N,d=new N,p=new N,m=this.isLineSegments?2:1,y=i.index,_=i.attributes.position;if(y!==null){const g=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let S=g,w=A-1;S<w;S+=m){const b=y.getX(S),T=y.getX(S+1);if(c.fromBufferAttribute(_,b),u.fromBufferAttribute(_,T),JA.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),A=Math.min(_.count,o.start+o.count);for(let S=g,w=A-1;S<w;S+=m){if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,S+1),JA.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const DL=new N,FL=new N;class Ns extends ia{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)DL.fromBufferAttribute(t,r),FL.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+DL.distanceTo(FL);e.setAttribute("lineDistance",new it(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tb extends ia{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Wv extends Xn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const OL=new _t,T1=new qc,Xg=new us,Jg=new N;class nb extends kt{constructor(e=new Tt,t=new Wv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Xg.copy(i.boundingSphere),Xg.applyMatrix4(r),Xg.radius+=s,e.ray.intersectsSphere(Xg)===!1)return;OL.copy(r).invert(),T1.copy(e.ray).applyMatrix4(OL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,x=m;y<x;y++){const _=c.getX(y);Jg.fromBufferAttribute(d,_),kL(Jg,_,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let y=p,x=m;y<x;y++)Jg.fromBufferAttribute(d,y),kL(Jg,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function kL(n,e,t,i,r,s,o){const a=T1.distanceSqToPoint(n);if(a<t){const l=new N;T1.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Fse extends mn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:un,this.magFilter=s!==void 0?s:un,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ose extends mn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ln,this.minFilter=Ln,this.generateMipmaps=!1,this.needsUpdate=!0}}class jv extends mn{constructor(e,t,i,r,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kse extends jv{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=xi}}class Nse extends jv{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,na),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Use extends mn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Us{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],p=i[r+1]-u,m=(o-u)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Ae:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,r=[],s=[],o=[],a=new N,l=new _t;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new N)}s[0]=new N,o[0]=new N;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(In(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(In(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Xv extends Us{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Ae,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class bN extends Xv{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function ib(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Kg=new N,KA=new ib,YA=new ib,qA=new ib;class TN extends Us{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Kg.subVectors(r[0],r[1]).add(r[0]),c=Kg);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Kg.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Kg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),y<1e-4&&(y=x),_<1e-4&&(_=x),KA.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,y,x,_),YA.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,y,x,_),qA.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,y,x,_)}else this.curveType==="catmullrom"&&(KA.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),YA.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),qA.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return i.set(KA.calc(l),YA.calc(l),qA.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new N().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function NL(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function zse(n,e){const t=1-n;return t*t*e}function Hse(n,e){return 2*(1-n)*n*e}function Gse(n,e){return n*n*e}function Ld(n,e,t,i){return zse(n,e)+Hse(n,t)+Gse(n,i)}function Vse(n,e){const t=1-n;return t*t*t*e}function Wse(n,e){const t=1-n;return 3*t*t*n*e}function jse(n,e){return 3*(1-n)*n*n*e}function Xse(n,e){return n*n*n*e}function Id(n,e,t,i,r){return Vse(n,e)+Wse(n,t)+jse(n,i)+Xse(n,r)}class rb extends Us{constructor(e=new Ae,t=new Ae,i=new Ae,r=new Ae){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ae){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Id(e,r.x,s.x,o.x,a.x),Id(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CN extends Us{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Id(e,r.x,s.x,o.x,a.x),Id(e,r.y,s.y,o.y,a.y),Id(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sb extends Us{constructor(e=new Ae,t=new Ae){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ae){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ae){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RN extends Us{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ob extends Us{constructor(e=new Ae,t=new Ae,i=new Ae){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ae){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Ld(e,r.x,s.x,o.x),Ld(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ab extends Us{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Ld(e,r.x,s.x,o.x),Ld(e,r.y,s.y,o.y),Ld(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lb extends Us{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ae){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(NL(a,l.x,c.x,u.x,d.x),NL(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ae().fromArray(r))}return this}}var O0=Object.freeze({__proto__:null,ArcCurve:bN,CatmullRomCurve3:TN,CubicBezierCurve:rb,CubicBezierCurve3:CN,EllipseCurve:Xv,LineCurve:sb,LineCurve3:RN,QuadraticBezierCurve:ob,QuadraticBezierCurve3:ab,SplineCurve:lb});class PN extends Us{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new O0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new O0[r.type]().fromJSON(r))}return this}}class vp extends PN{constructor(e){super(),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new sb(this.currentPoint.clone(),new Ae(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new ob(this.currentPoint.clone(),new Ae(e,t),new Ae(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new rb(this.currentPoint.clone(),new Ae(e,t),new Ae(i,r),new Ae(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new lb(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Xv(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Kp extends Tt{constructor(e=[new Ae(0,-.5),new Ae(.5,0),new Ae(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=In(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new N,p=new Ae,m=new N,y=new N,x=new N;let _=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-_,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:_=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-_,m.z=g*0,y.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(y)}for(let A=0;A<=t;A++){const S=i+A*u*r,w=Math.sin(S),b=Math.cos(S);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*w,d.y=e[T].y,d.z=e[T].x*b,o.push(d.x,d.y,d.z),p.x=A/t,p.y=T/(e.length-1),a.push(p.x,p.y);const C=l[3*T+0]*w,B=l[3*T+1],P=l[3*T+0]*b;c.push(C,B,P)}}for(let A=0;A<t;A++)for(let S=0;S<e.length-1;S++){const w=S+A*e.length,b=w,T=w+e.length,C=w+e.length+1,B=w+1;s.push(b,T,B),s.push(C,B,T)}this.setIndex(s),this.setAttribute("position",new it(o,3)),this.setAttribute("uv",new it(a,2)),this.setAttribute("normal",new it(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kp(e.points,e.segments,e.phiStart,e.phiLength)}}class Jv extends Kp{constructor(e=1,t=1,i=4,r=8){const s=new vp;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Jv(e.radius,e.length,e.capSegments,e.radialSegments)}}class Kv extends Tt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new N,u=new Ae;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new it(o,3)),this.setAttribute("normal",new it(a,3)),this.setAttribute("uv",new it(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class rh extends Tt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],p=[],m=[];let y=0;const x=[],_=i/2;let g=0;A(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new it(d,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(m,2));function A(){const w=new N,b=new N;let T=0;const C=(t-e)/i;for(let B=0;B<=s;B++){const P=[],L=B/s,U=L*(t-e)+e;for(let te=0;te<=r;te++){const ne=te/r,V=ne*l+a,$=Math.sin(V),le=Math.cos(V);b.x=U*$,b.y=-L*i+_,b.z=U*le,d.push(b.x,b.y,b.z),w.set($,C,le).normalize(),p.push(w.x,w.y,w.z),m.push(ne,1-L),P.push(y++)}x.push(P)}for(let B=0;B<r;B++)for(let P=0;P<s;P++){const L=x[P][B],U=x[P+1][B],te=x[P+1][B+1],ne=x[P][B+1];u.push(L,U,ne),u.push(U,te,ne),T+=6}c.addGroup(g,T,0),g+=T}function S(w){const b=y,T=new Ae,C=new N;let B=0;const P=w===!0?e:t,L=w===!0?1:-1;for(let te=1;te<=r;te++)d.push(0,_*L,0),p.push(0,L,0),m.push(.5,.5),y++;const U=y;for(let te=0;te<=r;te++){const V=te/r*l+a,$=Math.cos(V),le=Math.sin(V);C.x=P*le,C.y=_*L,C.z=P*$,d.push(C.x,C.y,C.z),p.push(0,L,0),T.x=$*.5+.5,T.y=le*.5*L+.5,m.push(T.x,T.y),y++}for(let te=0;te<r;te++){const ne=b+te,V=U+te;w===!0?u.push(V,V+1,ne):u.push(V+1,V,ne),B+=3}c.addGroup(g,B,w===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Yv extends rh{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Yv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xl extends Tt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new it(s,3)),this.setAttribute("normal",new it(s.slice(),3)),this.setAttribute("uv",new it(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const S=new N,w=new N,b=new N;for(let T=0;T<t.length;T+=3)m(t[T+0],S),m(t[T+1],w),m(t[T+2],b),l(S,w,b,A)}function l(A,S,w,b){const T=b+1,C=[];for(let B=0;B<=T;B++){C[B]=[];const P=A.clone().lerp(w,B/T),L=S.clone().lerp(w,B/T),U=T-B;for(let te=0;te<=U;te++)te===0&&B===T?C[B][te]=P:C[B][te]=P.clone().lerp(L,te/U)}for(let B=0;B<T;B++)for(let P=0;P<2*(T-B)-1;P++){const L=Math.floor(P/2);P%2===0?(p(C[B][L+1]),p(C[B+1][L]),p(C[B][L])):(p(C[B][L+1]),p(C[B+1][L+1]),p(C[B+1][L]))}}function c(A){const S=new N;for(let w=0;w<s.length;w+=3)S.x=s[w+0],S.y=s[w+1],S.z=s[w+2],S.normalize().multiplyScalar(A),s[w+0]=S.x,s[w+1]=S.y,s[w+2]=S.z}function u(){const A=new N;for(let S=0;S<s.length;S+=3){A.x=s[S+0],A.y=s[S+1],A.z=s[S+2];const w=_(A)/2/Math.PI+.5,b=g(A)/Math.PI+.5;o.push(w,1-b)}y(),d()}function d(){for(let A=0;A<o.length;A+=6){const S=o[A+0],w=o[A+2],b=o[A+4],T=Math.max(S,w,b),C=Math.min(S,w,b);T>.9&&C<.1&&(S<.2&&(o[A+0]+=1),w<.2&&(o[A+2]+=1),b<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,S){const w=A*3;S.x=e[w+0],S.y=e[w+1],S.z=e[w+2]}function y(){const A=new N,S=new N,w=new N,b=new N,T=new Ae,C=new Ae,B=new Ae;for(let P=0,L=0;P<s.length;P+=9,L+=6){A.set(s[P+0],s[P+1],s[P+2]),S.set(s[P+3],s[P+4],s[P+5]),w.set(s[P+6],s[P+7],s[P+8]),T.set(o[L+0],o[L+1]),C.set(o[L+2],o[L+3]),B.set(o[L+4],o[L+5]),b.copy(A).add(S).add(w).divideScalar(3);const U=_(b);x(T,L+0,A,U),x(C,L+2,S,U),x(B,L+4,w,U)}}function x(A,S,w,b){b<0&&A.x===1&&(o[S]=A.x-1),w.x===0&&w.z===0&&(o[S]=b/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xl(e.vertices,e.indices,e.radius,e.details)}}class qv extends xl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qv(e.radius,e.detail)}}const Yg=new N,qg=new N,$A=new N,$g=new ir;class LN extends Tt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(_c*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:x,b:_,c:g}=$g;if(x.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),$g.getNormal($A),d[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let A=0;A<3;A++){const S=(A+1)%3,w=d[A],b=d[S],T=$g[u[A]],C=$g[u[S]],B=`${w}_${b}`,P=`${b}_${w}`;P in p&&p[P]?($A.dot(p[P].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(C.x,C.y,C.z)),p[P]=null):B in p||(p[B]={index0:c[A],index1:c[S],normal:$A.clone()})}}for(const y in p)if(p[y]){const{index0:x,index1:_}=p[y];Yg.fromBufferAttribute(a,x),qg.fromBufferAttribute(a,_),m.push(Yg.x,Yg.y,Yg.z),m.push(qg.x,qg.y,qg.z)}this.setAttribute("position",new it(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Sc extends vp{constructor(e){super(e),this.uuid=Ir(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new vp().fromJSON(r))}return this}}const Jse={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=IN(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(i&&(s=Qse(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let y=t;y<r;y+=t)d=n[y],p=n[y+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return xp(s,o,t,a,l,m,0),o}};function IN(n,e,t,i,r){let s,o;if(r===coe(n,e,t,i)>0)for(s=e;s<t;s+=i)o=UL(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=UL(s,n[s],n[s+1],o);return o&&$v(o,o.next)&&(Ap(o),o=o.next),o}function kc(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&($v(t,t.next)||Sn(t.prev,t,t.next)===0)){if(Ap(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function xp(n,e,t,i,r,s,o){if(!n)return;!o&&s&&ioe(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Yse(n,i,r,s):Kse(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Ap(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=qse(kc(n),e,t),xp(n,e,t,i,r,s,2)):o===2&&$se(n,e,t,i,r,s):xp(kc(n),e,t,i,r,s,1);break}}}function Kse(n){const e=n.prev,t=n,i=n.next;if(Sn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=d&&y.y<=m&&df(r,a,s,l,o,c,y.x,y.y)&&Sn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Yse(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Sn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<d?u<p?u:p:d<p?d:p,x=a>l?a>c?a:c:l>c?l:c,_=u>d?u>p?u:p:d>p?d:p,g=C1(m,y,e,t,i),A=C1(x,_,e,t,i);let S=n.prevZ,w=n.nextZ;for(;S&&S.z>=g&&w&&w.z<=A;){if(S.x>=m&&S.x<=x&&S.y>=y&&S.y<=_&&S!==r&&S!==o&&df(a,u,l,d,c,p,S.x,S.y)&&Sn(S.prev,S,S.next)>=0||(S=S.prevZ,w.x>=m&&w.x<=x&&w.y>=y&&w.y<=_&&w!==r&&w!==o&&df(a,u,l,d,c,p,w.x,w.y)&&Sn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=x&&S.y>=y&&S.y<=_&&S!==r&&S!==o&&df(a,u,l,d,c,p,S.x,S.y)&&Sn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;w&&w.z<=A;){if(w.x>=m&&w.x<=x&&w.y>=y&&w.y<=_&&w!==r&&w!==o&&df(a,u,l,d,c,p,w.x,w.y)&&Sn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function qse(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!$v(r,s)&&BN(r,i,i.next,s)&&_p(r,s)&&_p(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Ap(i),Ap(i.next),i=n=s),i=i.next}while(i!==n);return kc(i)}function $se(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ooe(o,a)){let l=DN(o,a);o=kc(o,o.next),l=kc(l,l.next),xp(o,e,t,i,r,s,0),xp(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function Qse(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=IN(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(soe(c));for(r.sort(Zse),s=0;s<r.length;s++)t=eoe(r[s],t);return t}function Zse(n,e){return n.x-e.x}function eoe(n,e){const t=toe(n,e);if(!t)return e;const i=DN(t,n);return kc(i,i.next),kc(t,t.next)}function toe(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&df(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),_p(t,n)&&(d<u||d===u&&(t.x>r.x||t.x===r.x&&noe(r,t)))&&(r=t,u=d)),t=t.next;while(t!==a);return r}function noe(n,e){return Sn(n.prev,n,e.prev)<0&&Sn(e.next,n,n.next)<0}function ioe(n,e,t,i){let r=n;do r.z===0&&(r.z=C1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,roe(r)}function roe(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function C1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function soe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function df(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function ooe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!aoe(n,e)&&(_p(n,e)&&_p(e,n)&&loe(n,e)&&(Sn(n.prev,n,e.prev)||Sn(n,e.prev,e))||$v(n,e)&&Sn(n.prev,n,n.next)>0&&Sn(e.prev,e,e.next)>0)}function Sn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function $v(n,e){return n.x===e.x&&n.y===e.y}function BN(n,e,t,i){const r=Zg(Sn(n,e,t)),s=Zg(Sn(n,e,i)),o=Zg(Sn(t,i,n)),a=Zg(Sn(t,i,e));return!!(r!==s&&o!==a||r===0&&Qg(n,t,e)||s===0&&Qg(n,i,e)||o===0&&Qg(t,n,i)||a===0&&Qg(t,e,i))}function Qg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Zg(n){return n>0?1:n<0?-1:0}function aoe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&BN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function _p(n,e){return Sn(n.prev,n,n.next)<0?Sn(n,e,n.next)>=0&&Sn(n,n.prev,e)>=0:Sn(n,e,n.prev)<0||Sn(n,n.next,e)<0}function loe(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function DN(n,e){const t=new R1(n.i,n.x,n.y),i=new R1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function UL(n,e,t,i){const r=new R1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ap(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function R1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function coe(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class lo{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return lo.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];zL(e),HL(i,e);let o=e.length;t.forEach(zL);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,HL(i,t[l]);const a=Jse.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function zL(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HL(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Qv extends Tt{constructor(e=new Sc([new Ae(.5,.5),new Ae(-.5,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new it(r,3)),this.setAttribute("uv",new it(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:uoe;let S,w=!1,b,T,C,B;g&&(S=g.getSpacedPoints(u),w=!0,p=!1,b=g.computeFrenetFrames(u,!1),T=new N,C=new N,B=new N),p||(_=0,m=0,y=0,x=0);const P=a.extractPoints(c);let L=P.shape;const U=P.holes;if(!lo.isClockWise(L)){L=L.reverse();for(let W=0,be=U.length;W<be;W++){const xe=U[W];lo.isClockWise(xe)&&(U[W]=xe.reverse())}}const ne=lo.triangulateShape(L,U),V=L;for(let W=0,be=U.length;W<be;W++){const xe=U[W];L=L.concat(xe)}function $(W,be,xe){return be||console.error("THREE.ExtrudeGeometry: vec does not exist"),W.clone().addScaledVector(be,xe)}const le=L.length,ue=ne.length;function G(W,be,xe){let Pe,we,nt;const Ge=W.x-be.x,je=W.y-be.y,lt=xe.x-W.x,vt=xe.y-W.y,se=Ge*Ge+je*je,F=Ge*vt-je*lt;if(Math.abs(F)>Number.EPSILON){const I=Math.sqrt(se),Q=Math.sqrt(lt*lt+vt*vt),ge=be.x-je/I,pe=be.y+Ge/I,Se=xe.x-vt/Q,Xe=xe.y+lt/Q,Ie=((Se-ge)*vt-(Xe-pe)*lt)/(Ge*vt-je*lt);Pe=ge+Ge*Ie-W.x,we=pe+je*Ie-W.y;const Ne=Pe*Pe+we*we;if(Ne<=2)return new Ae(Pe,we);nt=Math.sqrt(Ne/2)}else{let I=!1;Ge>Number.EPSILON?lt>Number.EPSILON&&(I=!0):Ge<-Number.EPSILON?lt<-Number.EPSILON&&(I=!0):Math.sign(je)===Math.sign(vt)&&(I=!0),I?(Pe=-je,we=Ge,nt=Math.sqrt(se)):(Pe=Ge,we=je,nt=Math.sqrt(se/2))}return new Ae(Pe/nt,we/nt)}const Y=[];for(let W=0,be=V.length,xe=be-1,Pe=W+1;W<be;W++,xe++,Pe++)xe===be&&(xe=0),Pe===be&&(Pe=0),Y[W]=G(V[W],V[xe],V[Pe]);const q=[];let z,J=Y.concat();for(let W=0,be=U.length;W<be;W++){const xe=U[W];z=[];for(let Pe=0,we=xe.length,nt=we-1,Ge=Pe+1;Pe<we;Pe++,nt++,Ge++)nt===we&&(nt=0),Ge===we&&(Ge=0),z[Pe]=G(xe[Pe],xe[nt],xe[Ge]);q.push(z),J=J.concat(z)}for(let W=0;W<_;W++){const be=W/_,xe=m*Math.cos(be*Math.PI/2),Pe=y*Math.sin(be*Math.PI/2)+x;for(let we=0,nt=V.length;we<nt;we++){const Ge=$(V[we],Y[we],Pe);Ke(Ge.x,Ge.y,-xe)}for(let we=0,nt=U.length;we<nt;we++){const Ge=U[we];z=q[we];for(let je=0,lt=Ge.length;je<lt;je++){const vt=$(Ge[je],z[je],Pe);Ke(vt.x,vt.y,-xe)}}}const _e=y+x;for(let W=0;W<le;W++){const be=p?$(L[W],J[W],_e):L[W];w?(C.copy(b.normals[0]).multiplyScalar(be.x),T.copy(b.binormals[0]).multiplyScalar(be.y),B.copy(S[0]).add(C).add(T),Ke(B.x,B.y,B.z)):Ke(be.x,be.y,0)}for(let W=1;W<=u;W++)for(let be=0;be<le;be++){const xe=p?$(L[be],J[be],_e):L[be];w?(C.copy(b.normals[W]).multiplyScalar(xe.x),T.copy(b.binormals[W]).multiplyScalar(xe.y),B.copy(S[W]).add(C).add(T),Ke(B.x,B.y,B.z)):Ke(xe.x,xe.y,d/u*W)}for(let W=_-1;W>=0;W--){const be=W/_,xe=m*Math.cos(be*Math.PI/2),Pe=y*Math.sin(be*Math.PI/2)+x;for(let we=0,nt=V.length;we<nt;we++){const Ge=$(V[we],Y[we],Pe);Ke(Ge.x,Ge.y,d+xe)}for(let we=0,nt=U.length;we<nt;we++){const Ge=U[we];z=q[we];for(let je=0,lt=Ge.length;je<lt;je++){const vt=$(Ge[je],z[je],Pe);w?Ke(vt.x,vt.y+S[u-1].y,S[u-1].x+xe):Ke(vt.x,vt.y,d+xe)}}}Me(),Ee();function Me(){const W=r.length/3;if(p){let be=0,xe=le*be;for(let Pe=0;Pe<ue;Pe++){const we=ne[Pe];rt(we[2]+xe,we[1]+xe,we[0]+xe)}be=u+_*2,xe=le*be;for(let Pe=0;Pe<ue;Pe++){const we=ne[Pe];rt(we[0]+xe,we[1]+xe,we[2]+xe)}}else{for(let be=0;be<ue;be++){const xe=ne[be];rt(xe[2],xe[1],xe[0])}for(let be=0;be<ue;be++){const xe=ne[be];rt(xe[0]+le*u,xe[1]+le*u,xe[2]+le*u)}}i.addGroup(W,r.length/3-W,0)}function Ee(){const W=r.length/3;let be=0;ke(V,be),be+=V.length;for(let xe=0,Pe=U.length;xe<Pe;xe++){const we=U[xe];ke(we,be),be+=we.length}i.addGroup(W,r.length/3-W,1)}function ke(W,be){let xe=W.length;for(;--xe>=0;){const Pe=xe;let we=xe-1;we<0&&(we=W.length-1);for(let nt=0,Ge=u+_*2;nt<Ge;nt++){const je=le*nt,lt=le*(nt+1),vt=be+Pe+je,se=be+we+je,F=be+we+lt,I=be+Pe+lt;qe(vt,se,F,I)}}}function Ke(W,be,xe){l.push(W),l.push(be),l.push(xe)}function rt(W,be,xe){ut(W),ut(be),ut(xe);const Pe=r.length/3,we=A.generateTopUV(i,r,Pe-3,Pe-2,Pe-1);Ue(we[0]),Ue(we[1]),Ue(we[2])}function qe(W,be,xe,Pe){ut(W),ut(be),ut(Pe),ut(be),ut(xe),ut(Pe);const we=r.length/3,nt=A.generateSideWallUV(i,r,we-6,we-3,we-2,we-1);Ue(nt[0]),Ue(nt[1]),Ue(nt[3]),Ue(nt[1]),Ue(nt[2]),Ue(nt[3])}function ut(W){r.push(l[W*3+0]),r.push(l[W*3+1]),r.push(l[W*3+2])}function Ue(W){s.push(W.x),s.push(W.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return foe(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new O0[r.type]().fromJSON(r)),new Qv(i,e.options)}}const uoe={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Ae(s,o),new Ae(a,l),new Ae(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],x=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ae(o,1-l),new Ae(c,1-d),new Ae(p,1-y),new Ae(x,1-g)]:[new Ae(a,1-l),new Ae(u,1-d),new Ae(m,1-y),new Ae(_,1-g)]}};function foe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Zv extends xl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zv(e.radius,e.detail)}}class Yp extends xl{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yp(e.radius,e.detail)}}class ex extends Tt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const p=(t-e)/r,m=new N,y=new Ae;for(let x=0;x<=r;x++){for(let _=0;_<=i;_++){const g=s+_/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,u.push(y.x,y.y)}d+=p}for(let x=0;x<r;x++){const _=x*(i+1);for(let g=0;g<i;g++){const A=g+_,S=A,w=A+i+1,b=A+i+2,T=A+1;a.push(S,w,T),a.push(w,b,T)}}this.setIndex(a),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(c,3)),this.setAttribute("uv",new it(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ex(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class tx extends Tt{constructor(e=new Sc([new Ae(0,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new it(r,3)),this.setAttribute("normal",new it(s,3)),this.setAttribute("uv",new it(o,2));function c(u){const d=r.length/3,p=u.extractPoints(t);let m=p.shape;const y=p.holes;lo.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,g=y.length;_<g;_++){const A=y[_];lo.isClockWise(A)===!0&&(y[_]=A.reverse())}const x=lo.triangulateShape(m,y);for(let _=0,g=y.length;_<g;_++){const A=y[_];m=m.concat(A)}for(let _=0,g=m.length;_<g;_++){const A=m[_];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let _=0,g=x.length;_<g;_++){const A=x[_],S=A[0]+d,w=A[1]+d,b=A[2]+d;i.push(S,w,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return hoe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new tx(i,e.curveSegments)}}function hoe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class qp extends Tt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new N,p=new N,m=[],y=[],x=[],_=[];for(let g=0;g<=i;g++){const A=[],S=g/i;let w=0;g===0&&o===0?w=.5/t:g===i&&l===Math.PI&&(w=-.5/t);for(let b=0;b<=t;b++){const T=b/t;d.x=-e*Math.cos(r+T*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(r+T*s)*Math.sin(o+S*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),_.push(T+w,1-S),A.push(c++)}u.push(A)}for(let g=0;g<i;g++)for(let A=0;A<t;A++){const S=u[g][A+1],w=u[g][A],b=u[g+1][A],T=u[g+1][A+1];(g!==0||o>0)&&m.push(S,w,T),(g!==i-1||l<Math.PI)&&m.push(w,b,T)}this.setIndex(m),this.setAttribute("position",new it(y,3)),this.setAttribute("normal",new it(x,3)),this.setAttribute("uv",new it(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class nx extends xl{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nx(e.radius,e.detail)}}class ix extends Tt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new N,d=new N,p=new N;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const x=y/r*s,_=m/i*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(x),d.y=(e+t*Math.cos(_))*Math.sin(x),d.z=t*Math.sin(_),a.push(d.x,d.y,d.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const x=(r+1)*m+y-1,_=(r+1)*(m-1)+y-1,g=(r+1)*(m-1)+y,A=(r+1)*m+y;o.push(x,_,A),o.push(_,g,A)}this.setIndex(o),this.setAttribute("position",new it(a,3)),this.setAttribute("normal",new it(l,3)),this.setAttribute("uv",new it(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ix(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class rx extends Tt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new N,p=new N,m=new N,y=new N,x=new N,_=new N,g=new N;for(let S=0;S<=i;++S){const w=S/i*s*Math.PI*2;A(w,s,o,e,m),A(w+.01,s,o,e,y),_.subVectors(y,m),g.addVectors(y,m),x.crossVectors(_,g),g.crossVectors(x,_),x.normalize(),g.normalize();for(let b=0;b<=r;++b){const T=b/r*Math.PI*2,C=-t*Math.cos(T),B=t*Math.sin(T);d.x=m.x+(C*g.x+B*x.x),d.y=m.y+(C*g.y+B*x.y),d.z=m.z+(C*g.z+B*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/i),u.push(b/r)}}for(let S=1;S<=i;S++)for(let w=1;w<=r;w++){const b=(r+1)*(S-1)+(w-1),T=(r+1)*S+(w-1),C=(r+1)*S+w,B=(r+1)*(S-1)+w;a.push(b,T,B),a.push(T,C,B)}this.setIndex(a),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(c,3)),this.setAttribute("uv",new it(u,2));function A(S,w,b,T,C){const B=Math.cos(S),P=Math.sin(S),L=b/w*S,U=Math.cos(L);C.x=T*(2+U)*.5*B,C.y=T*(2+U)*P*.5,C.z=T*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class sx extends Tt{constructor(e=new ab(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,c=new Ae;let u=new N;const d=[],p=[],m=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new it(d,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(m,2));function x(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),A(),g()}function _(S){u=e.getPointAt(S/t,u);const w=o.normals[S],b=o.binormals[S];for(let T=0;T<=r;T++){const C=T/r*Math.PI*2,B=Math.sin(C),P=-Math.cos(C);l.x=P*w.x+B*b.x,l.y=P*w.y+B*b.y,l.z=P*w.z+B*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let w=1;w<=r;w++){const b=(r+1)*(S-1)+(w-1),T=(r+1)*S+(w-1),C=(r+1)*S+w,B=(r+1)*(S-1)+w;y.push(b,T,B),y.push(T,C,B)}}function A(){for(let S=0;S<=t;S++)for(let w=0;w<=r;w++)c.x=S/t,c.y=w/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sx(new O0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class FN extends Tt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let y=p,x=p+m;y<x;y+=3)for(let _=0;_<3;_++){const g=a.getX(y+_),A=a.getX(y+(_+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),GL(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),GL(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new it(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function GL(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var VL=Object.freeze({__proto__:null,BoxGeometry:$c,CapsuleGeometry:Jv,CircleGeometry:Kv,ConeGeometry:Yv,CylinderGeometry:rh,DodecahedronGeometry:qv,EdgesGeometry:LN,ExtrudeGeometry:Qv,IcosahedronGeometry:Zv,LatheGeometry:Kp,OctahedronGeometry:Yp,PlaneGeometry:jp,PolyhedronGeometry:xl,RingGeometry:ex,ShapeGeometry:tx,SphereGeometry:qp,TetrahedronGeometry:nx,TorusGeometry:ix,TorusKnotGeometry:rx,TubeGeometry:sx,WireframeGeometry:FN});class ON extends Xn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kN extends mo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $p extends Xn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xo extends $p{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return In(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new We(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new We(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new We(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class NN extends Xn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UN extends Xn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new We(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zN extends Xn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class HN extends Xn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GN extends Xn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VN extends Oi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function WN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function jN(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function P1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function cb(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function doe(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*r;if(!(y<t||y>=i)){d.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}d.length!==0&&(c.times=hc(d,c.times.constructor),c.values=hc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function poe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let x;if(s<=a.times[0]){const g=u,A=d-u;x=a.values.slice(g,A)}else if(s>=a.times[y]){const g=y*d+u,A=g+d-u;x=a.values.slice(g,A)}else{const g=a.createInterpolant(),A=u,S=d-u;g.evaluate(s),x=g.resultBuffer.slice(A,S)}l==="quaternion"&&new di().fromArray(x).normalize().conjugate().toArray(x);const _=c.times.length;for(let g=0;g<_;++g){const A=g*m+p;if(l==="quaternion")di.multiplyQuaternionsFlat(c.values,A,x,0,c.values,A);else{const S=m-p*2;for(let w=0;w<S;++w)c.values[A+w]-=x[w]}}}return n.blendMode=UE,n}const moe={convertArray:hc,isTypedArray:WN,getKeyframeOrder:jN,sortedArray:P1,flattenJSON:cb,subclip:doe,makeClipAdditive:poe};class sh{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class XN extends sh{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cc,endingEnd:cc}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case uc:s=e,a=2*t-i;break;case fp:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case uc:o=e,l=2*i-t;break;case fp:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),x=y*y,_=x*y,g=-p*_+2*p*x-p*y,A=(1+p)*_+(-1.5-2*p)*x+(-.5+p)*y+1,S=(-1-m)*_+(1.5+m)*x+.5*y,w=m*_-m*x;for(let b=0;b!==a;++b)s[b]=g*o[u+b]+A*o[c+b]+S*o[l+b]+w*o[d+b];return s}}class ub extends sh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class JN extends sh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class zs{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hc(t,this.TimeBufferType),this.values=hc(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:hc(e.times,Array),values:hc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new JN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ub(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new XN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gf:t=this.InterpolantFactoryMethodDiscrete;break;case Oc:t=this.InterpolantFactoryMethodLinear;break;case ky:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gf;case this.InterpolantFactoryMethodLinear:return Oc;case this.InterpolantFactoryMethodSmooth:return ky}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&WN(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===ky,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let y=0;y!==i;++y){const x=t[d+y];if(x!==t[p+y]||x!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}zs.prototype.TimeBufferType=Float32Array;zs.prototype.ValueBufferType=Float32Array;zs.prototype.DefaultInterpolation=Oc;class Qc extends zs{}Qc.prototype.ValueTypeName="bool";Qc.prototype.ValueBufferType=Array;Qc.prototype.DefaultInterpolation=Gf;Qc.prototype.InterpolantFactoryMethodLinear=void 0;Qc.prototype.InterpolantFactoryMethodSmooth=void 0;class fb extends zs{}fb.prototype.ValueTypeName="color";class Xf extends zs{}Xf.prototype.ValueTypeName="number";class KN extends sh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)di.slerpFlat(s,0,o,c-a,o,c,l);return s}}class cl extends zs{InterpolantFactoryMethodLinear(e){return new KN(this.times,this.values,this.getValueSize(),e)}}cl.prototype.ValueTypeName="quaternion";cl.prototype.DefaultInterpolation=Oc;cl.prototype.InterpolantFactoryMethodSmooth=void 0;class Zc extends zs{}Zc.prototype.ValueTypeName="string";Zc.prototype.ValueBufferType=Array;Zc.prototype.DefaultInterpolation=Gf;Zc.prototype.InterpolantFactoryMethodLinear=void 0;Zc.prototype.InterpolantFactoryMethodSmooth=void 0;class Jf extends zs{}Jf.prototype.ValueTypeName="vector";class Kf{constructor(e,t=-1,i,r=Ov){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ir(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(yoe(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(zs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=jN(l);l=P1(l,1,u),c=P1(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Xf(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,y,x){if(m.length!==0){const _=[],g=[];cb(m,_,g,y),_.length!==0&&x.push(new d(p,_,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)m[p[y].morphTargets[x]]=-1;for(const x in m){const _=[],g=[];for(let A=0;A!==p[y].morphTargets.length;++A){const S=p[y];_.push(S.time),g.push(S.morphTarget===x?1:0)}r.push(new Xf(".morphTargetInfluence["+x+"]",_,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(Jf,m+".position",p,"pos",r),i(cl,m+".quaternion",p,"rot",r),i(Jf,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function goe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xf;case"vector":case"vector2":case"vector3":case"vector4":return Jf;case"color":return fb;case"quaternion":return cl;case"bool":case"boolean":return Qc;case"string":return Zc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function yoe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=goe(n.type);if(n.times===void 0){const t=[],i=[];cb(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Nc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class hb{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],y=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const YN=new hb;class ki{constructor(e){this.manager=e!==void 0?e:YN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ki.DEFAULT_MATERIAL_NAME="__DEFAULT";const Io={};class voe extends Error{constructor(e,t){super(e),this.response=t}}class Fr extends ki{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Nc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Io[e]!==void 0){Io[e].push({onLoad:t,onProgress:i,onError:r});return}Io[e]=[],Io[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Io[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let x=0;const _=new ReadableStream({start(g){A();function A(){d.read().then(({done:S,value:w})=>{if(S)g.close();else{x+=w.byteLength;const b=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:m});for(let T=0,C=u.length;T<C;T++){const B=u[T];B.onProgress&&B.onProgress(b)}g.enqueue(w),A()}})}}});return new Response(_)}else throw new voe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{Nc.add(e,c);const u=Io[e];delete Io[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Io[e];if(u===void 0)throw this.manager.itemError(e),c;delete Io[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xoe extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Fr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Kf.parse(e[i]);t.push(r)}return t}}class _oe extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new jv,l=new Fr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=un),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=un),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Sp extends ki{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Nc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=yp("img");function l(){u(),Nc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Aoe extends ki{constructor(e){super(e)}load(e,t,i,r){const s=new Wp;s.colorSpace=qn;const o=new Sp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Soe extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new bf,a=new Fr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:xi,o.wrapT=c.wrapT!==void 0?c.wrapT:xi,o.magFilter=c.magFilter!==void 0?c.magFilter:un,o.minFilter=c.minFilter!==void 0?c.minFilter:un,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ho),c.mipmapCount===1&&(o.minFilter=un),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class qN extends ki{constructor(e){super(e)}load(e,t,i,r){const s=new mn,o=new Sp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class _l extends kt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new We(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $N extends _l{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(kt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new We(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const QA=new _t,WL=new N,jL=new N;class db{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new _t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Uv,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new $t(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;WL.setFromMatrixPosition(e.matrixWorld),t.position.copy(WL),jL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(jL),t.updateMatrixWorld(),QA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QA),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(QA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class woe extends db{constructor(){super(new _n(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Vf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class pb extends _l{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(kt.DEFAULT_UP),this.updateMatrix(),this.target=new kt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new woe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const XL=new _t,qh=new N,ZA=new N;class Moe extends db{constructor(){super(new _n(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new $t(2,1,1,1),new $t(0,1,1,1),new $t(3,1,1,1),new $t(1,1,1,1),new $t(3,0,1,1),new $t(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),qh.setFromMatrixPosition(e.matrixWorld),i.position.copy(qh),ZA.copy(i.position),ZA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(ZA),i.updateMatrixWorld(),r.makeTranslation(-qh.x,-qh.y,-qh.z),XL.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XL)}}class mb extends _l{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Moe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Eoe extends db{constructor(){super(new no(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gb extends _l{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(kt.DEFAULT_UP),this.updateMatrix(),this.target=new kt,this.shadow=new Eoe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class QN extends _l{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ZN extends _l{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class eU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class tU extends _l{constructor(e=new eU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ox extends ki{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Fr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=ox.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new We().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new We().setHex(o.value);break;case"v2":r.uniforms[s].value=new Ae().fromArray(o.value);break;case"v3":r.uniforms[s].value=new N().fromArray(o.value);break;case"v4":r.uniforms[s].value=new $t().fromArray(o.value);break;case"m3":r.uniforms[s].value=new It().fromArray(o.value);break;case"m4":r.uniforms[s].value=new _t().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ae().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:ON,SpriteMaterial:QE,RawShaderMaterial:kN,ShaderMaterial:mo,PointsMaterial:Wv,MeshPhysicalMaterial:xo,MeshStandardMaterial:$p,MeshPhongMaterial:NN,MeshToonMaterial:UN,MeshNormalMaterial:zN,MeshLambertMaterial:HN,MeshDepthMaterial:KE,MeshDistanceMaterial:YE,MeshBasicMaterial:br,MeshMatcapMaterial:GN,LineDashedMaterial:VN,LineBasicMaterial:Oi,Material:Xn};return new t[e]}}class co{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class nU extends Tt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class iU extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Fr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const _=m.interleavedBuffers[y],g=s(m,_.buffer),A=ff(_.type,g),S=new Xp(A,_.stride);return S.uuid=_.uuid,t[y]=S,S}function s(m,y){if(i[y]!==void 0)return i[y];const _=m.arrayBuffers[y],g=new Uint32Array(_).buffer;return i[y]=g,g}const o=e.isInstancedBufferGeometry?new nU:new Tt,a=e.data.index;if(a!==void 0){const m=ff(a.type,a.array);o.setIndex(new Jt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let x;if(y.isInterleavedBufferAttribute){const _=r(e.data,y.data);x=new ll(_,y.itemSize,y.offset,y.normalized)}else{const _=ff(y.type,y.array),g=y.isInstancedBufferAttribute?jf:Jt;x=new g(_,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),y.updateRange!==void 0&&(x.updateRange.offset=y.updateRange.offset,x.updateRange.count=y.updateRange.count),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],x=[];for(let _=0,g=y.length;_<g;_++){const A=y[_];let S;if(A.isInterleavedBufferAttribute){const w=r(e.data,A.data);S=new ll(w,A.itemSize,A.offset,A.normalized)}else{const w=ff(A.type,A.array);S=new Jt(w,A.itemSize,A.normalized)}A.name!==void 0&&(S.name=A.name),x.push(S)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,y=d.length;m!==y;++m){const x=d[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new us(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class boe extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?co.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Fr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?co.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Fr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Sc().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Jp().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new iU;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in VL?a=VL[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new ox;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Kf.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:ff(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new hb(t);s=new Sp(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const _=p[y],g=a(_);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new bf(g.data,g.width,g.height)))}r[d.uuid]=new fc(m)}else{const m=a(d.url);r[d.uuid]=new fc(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:ff(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Sp(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new bf(y.data,y.width,y.height)))}i[l.uuid]=new fc(u)}else{const u=await s(l.url);i[l.uuid]=new fc(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Wp,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new bf:u=new mn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,Toe)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],JL),u.wrapT=i(a.wrap[1],JL)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,KL)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,KL)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const _=p[y];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let u,d;switch(e.type){case"Scene":o=new F0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new We(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Gv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Hv(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new _n(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new no(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new QN(e.color,e.intensity);break;case"DirectionalLight":o=new gb(e.color,e.intensity);break;case"PointLight":o=new mb(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ZN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new pb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new $N(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new tU().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new ZE(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new ui(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new eb(u,d,p),o.instanceMatrix=new jf(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new jf(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new EN;break;case"Line":o=new ia(a(e.geometry),l(e.material));break;case"LineLoop":o=new tb(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ns(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new nb(a(e.geometry),l(e.material));break;case"Sprite":o=new MN(l(e.material));break;case"Group":o=new Vo;break;case"Bone":o=new Vv;break;default:o=new kt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],x=o.getObjectByProperty("uuid",y.object);x!==void 0&&o.addLevel(x,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Toe={UVMapping:Bv,CubeReflectionMapping:na,CubeRefractionMapping:ol,EquirectangularReflectionMapping:lp,EquirectangularRefractionMapping:cp,CubeUVReflectionMapping:nh},JL={RepeatWrapping:al,ClampToEdgeWrapping:xi,MirroredRepeatWrapping:Hf},KL={NearestFilter:Ln,NearestMipmapNearestFilter:up,NearestMipmapLinearFilter:Mf,LinearFilter:un,LinearMipmapNearestFilter:Dv,LinearMipmapLinearFilter:ho};class rU extends ki{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Nc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Nc.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let ey;class yb{static getContext(){return ey===void 0&&(ey=new(window.AudioContext||window.webkitAudioContext)),ey}static setContext(e){ey=e}}class Coe extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Fr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);yb.getContext().decodeAudioData(c,function(d){t(d)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const YL=new _t,qL=new _t,kl=new _t;class Roe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _n,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _n,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,kl.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(_c*t.fov*.5)/t.zoom;let a,l;qL.elements[12]=-r,YL.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,kl.elements[0]=2*t.near/(l-a),kl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(kl),a=-o*t.aspect-s,l=o*t.aspect-s,kl.elements[0]=2*t.near/(l-a),kl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(kl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(YL)}}class vb{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$L(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$L();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $L(){return(typeof performance>"u"?Date:performance).now()}const Nl=new N,QL=new di,Poe=new N,Ul=new N;class Loe extends kt{constructor(){super(),this.type="AudioListener",this.context=yb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vb}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nl,QL,Poe),Ul.set(0,0,-1).applyQuaternion(QL),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Nl.x,r),t.positionY.linearRampToValueAtTime(Nl.y,r),t.positionZ.linearRampToValueAtTime(Nl.z,r),t.forwardX.linearRampToValueAtTime(Ul.x,r),t.forwardY.linearRampToValueAtTime(Ul.y,r),t.forwardZ.linearRampToValueAtTime(Ul.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Nl.x,Nl.y,Nl.z),t.setOrientation(Ul.x,Ul.y,Ul.z,i.x,i.y,i.z)}}class sU extends kt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const zl=new N,ZL=new di,Ioe=new N,Hl=new N;class Boe extends sU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(zl,ZL,Ioe),Hl.set(0,0,1).applyQuaternion(ZL);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(zl.x,i),t.positionY.linearRampToValueAtTime(zl.y,i),t.positionZ.linearRampToValueAtTime(zl.z,i),t.orientationX.linearRampToValueAtTime(Hl.x,i),t.orientationY.linearRampToValueAtTime(Hl.y,i),t.orientationZ.linearRampToValueAtTime(Hl.z,i)}else t.setPosition(zl.x,zl.y,zl.z),t.setOrientation(Hl.x,Hl.y,Hl.z)}}class Doe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class oU{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){di.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;di.multiplyQuaternionsFlat(e,o,e,t,e,i),di.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const xb="\\[\\]\\.:\\/",Foe=new RegExp("["+xb+"]","g"),_b="[^"+xb+"]",Ooe="[^"+xb.replace("\\.","")+"]",koe=/((?:WC+[\/:])*)/.source.replace("WC",_b),Noe=/(WCOD+)?/.source.replace("WCOD",Ooe),Uoe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_b),zoe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_b),Hoe=new RegExp("^"+koe+Noe+Uoe+zoe+"$"),Goe=["material","materials","bones","map"];class Voe{constructor(e,t,i){const r=i||Ht.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ht{constructor(e,t,i){this.path=t,this.parsedPath=i||Ht.parseTrackName(t),this.node=Ht.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ht.Composite(e,t,i):new Ht(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Foe,"")}static parseTrackName(e){const t=Hoe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Goe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Ht.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ht.Composite=Voe;Ht.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ht.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ht.prototype.GetterByBindingType=[Ht.prototype._getValue_direct,Ht.prototype._getValue_array,Ht.prototype._getValue_arrayElement,Ht.prototype._getValue_toArray];Ht.prototype.SetterByBindingTypeAndVersioning=[[Ht.prototype._setValue_direct,Ht.prototype._setValue_direct_setNeedsUpdate,Ht.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_array,Ht.prototype._setValue_array_setNeedsUpdate,Ht.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_arrayElement,Ht.prototype._setValue_arrayElement_setNeedsUpdate,Ht.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_fromArray,Ht.prototype._setValue_fromArray_setNeedsUpdate,Ht.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Woe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ir(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let x=0,_=o;x!==_;++x)s[x].push(new Ht(p,i[x],r[x]))}else if(y<c){a=e[y];const x=--c,_=e[x];t[_.uuid]=y,e[y]=_,t[m]=x,e[x]=p;for(let g=0,A=o;g!==A;++g){const S=s[g],w=S[x];let b=S[y];S[y]=w,b===void 0&&(b=new Ht(p,i[g],r[g])),S[x]=b}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let m=0,y=r;m!==y;++m){const x=i[m],_=x[d],g=x[u];x[u]=_,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const p=--s,m=e[p],y=--o,x=e[y];t[m.uuid]=d,e[d]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let _=0,g=r;_!==g;++_){const A=i[_],S=A[p],w=A[y];A[d]=S,A[p]=w,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let y=0,x=r;y!==x;++y){const _=i[y];_[d]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=u,m=l.length;p!==m;++p){const y=l[p];d[p]=new Ht(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class aU{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:cc,endingEnd:cc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Xk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case UE:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Ov:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===Jk;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===jk){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=uc,r.endingEnd=uc):(e?r.endingStart=this.zeroSlopeAtStart?uc:cc:r.endingStart=fp,t?r.endingEnd=this.zeroSlopeAtEnd?uc:cc:r.endingEnd=fp)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const joe=new Float32Array(1);class lU extends vo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;y=new oU(Ht.create(i,m,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new ub(new Float32Array(2),new Float32Array(2),1,joe),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Kf.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Ov),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new aU(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Kf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Ab{constructor(e){this.value=e}clone(){return new Ab(this.value.clone===void 0?this.value:this.value.clone())}}let Xoe=0;class Joe extends vo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Xoe++}),this.name="",this.usage=mp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class Koe extends Xp{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Yoe{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class cU{constructor(e,t,i=0,r=1/0){this.ray=new qc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ac,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return L1(e,this,i,t),i.sort(eI),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)L1(e[r],this,i,t);return i.sort(eI),i}}function eI(n,e){return n.distance-e.distance}function L1(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)L1(r[s],e,t,!0)}}class I1{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(In(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qoe{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const tI=new Ae;class $oe{constructor(e=new Ae(1/0,1/0),t=new Ae(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=tI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nI=new N,ty=new N;class Qoe{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nI.subVectors(e,this.start),ty.subVectors(this.end,this.start);const i=ty.dot(ty);let s=ty.dot(nI)/i;return t&&(s=In(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const iI=new N;class Zoe extends kt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Tt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new it(r,3));const s=new Oi({fog:!1,toneMapped:!1});this.cone=new Ns(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wa=new N,ny=new _t,eS=new _t;class eae extends Ns{constructor(e){const t=uU(e),i=new Tt,r=[],s=[],o=new We(0,0,1),a=new We(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new it(r,3)),i.setAttribute("color",new it(s,3));const l=new Oi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");eS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(ny.multiplyMatrices(eS,a.matrixWorld),wa.setFromMatrixPosition(ny),r.setXYZ(o,wa.x,wa.y,wa.z),ny.multiplyMatrices(eS,a.parent.matrixWorld),wa.setFromMatrixPosition(ny),r.setXYZ(o+1,wa.x,wa.y,wa.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function uU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,uU(n.children[t]));return e}class tae extends ui{constructor(e,t,i){const r=new qp(t,4,2),s=new br({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nae=new N,rI=new We,sI=new We;class iae extends kt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Yp(t);r.rotateY(Math.PI*.5),this.material=new br({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Jt(o,3)),this.add(new ui(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rI.copy(this.light.color),sI.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?rI:sI;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nae.setFromMatrixPosition(this.light.matrixWorld).negate())}}class rae extends Ns{constructor(e=10,t=10,i=4473924,r=8947848){i=new We(i),r=new We(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new Tt;u.setAttribute("position",new it(l,3)),u.setAttribute("color",new it(c,3));const d=new Oi({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sae extends Ns{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new We(s),o=new We(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let y=0;y<r;y++){let x=y/r*(Math.PI*2),_=Math.sin(x)*m,g=Math.cos(x)*m;a.push(_,0,g),l.push(p.r,p.g,p.b),x=(y+1)/r*(Math.PI*2),_=Math.sin(x)*m,g=Math.cos(x)*m,a.push(_,0,g),l.push(p.r,p.g,p.b)}}const c=new Tt;c.setAttribute("position",new it(a,3)),c.setAttribute("color",new it(l,3));const u=new Oi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oI=new N,iy=new N,aI=new N;class oae extends kt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Tt;r.setAttribute("position",new it([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Oi({fog:!1,toneMapped:!1});this.lightPlane=new ia(r,s),this.add(this.lightPlane),r=new Tt,r.setAttribute("position",new it([0,0,0,0,0,1],3)),this.targetLine=new ia(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oI.setFromMatrixPosition(this.light.matrixWorld),iy.setFromMatrixPosition(this.light.target.matrixWorld),aI.subVectors(iy,oI),this.lightPlane.lookAt(iy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iy),this.targetLine.scale.z=aI.length()}}const ry=new N,Cn=new Vp;class aae extends Ns{constructor(e){const t=new Tt,i=new Oi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,x){l(y),l(x)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new it(r,3)),t.setAttribute("color",new it(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new We(16755200),u=new We(16711680),d=new We(43775),p=new We(16777215),m=new We(3355443);this.setColors(c,u,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Cn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fn("c",t,e,Cn,0,0,-1),Fn("t",t,e,Cn,0,0,1),Fn("n1",t,e,Cn,-i,-r,-1),Fn("n2",t,e,Cn,i,-r,-1),Fn("n3",t,e,Cn,-i,r,-1),Fn("n4",t,e,Cn,i,r,-1),Fn("f1",t,e,Cn,-i,-r,1),Fn("f2",t,e,Cn,i,-r,1),Fn("f3",t,e,Cn,-i,r,1),Fn("f4",t,e,Cn,i,r,1),Fn("u1",t,e,Cn,i*.7,r*1.1,-1),Fn("u2",t,e,Cn,-i*.7,r*1.1,-1),Fn("u3",t,e,Cn,0,r*2,-1),Fn("cf1",t,e,Cn,-i,0,1),Fn("cf2",t,e,Cn,i,0,1),Fn("cf3",t,e,Cn,0,-r,1),Fn("cf4",t,e,Cn,0,r,1),Fn("cn1",t,e,Cn,-i,0,-1),Fn("cn2",t,e,Cn,i,0,-1),Fn("cn3",t,e,Cn,0,-r,-1),Fn("cn4",t,e,Cn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fn(n,e,t,i,r,s,o){ry.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],ry.x,ry.y,ry.z)}}const sy=new ks;class lae extends Ns{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Tt;s.setIndex(new Jt(i,1)),s.setAttribute("position",new Jt(r,3)),super(s,new Oi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sy.setFromObject(this.object),sy.isEmpty())return;const t=sy.min,i=sy.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cae extends Ns{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Tt;s.setIndex(new Jt(i,1)),s.setAttribute("position",new it(r,3)),super(s,new Oi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class uae extends ia{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Tt;o.setAttribute("position",new it(s,3)),o.computeBoundingSphere(),super(o,new Oi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Tt;l.setAttribute("position",new it(a,3)),l.computeBoundingSphere(),this.add(new ui(l,new br({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const lI=new N;let oy,tS;class fae extends kt{constructor(e=new N(0,0,1),t=new N(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",oy===void 0&&(oy=new Tt,oy.setAttribute("position",new it([0,0,0,0,1,0],3)),tS=new rh(0,.5,1,5,1),tS.translate(0,-.5,0)),this.position.copy(t),this.line=new ia(oy,new Oi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ui(tS,new br({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lI,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hae extends Ns{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Tt;r.setAttribute("position",new it(t,3)),r.setAttribute("color",new it(i,3));const s=new Oi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new We,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dae{constructor(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new vp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const A=[];for(let S=0,w=g.length;S<w;S++){const b=g[S],T=new Sc;T.curves=b.curves,A.push(T)}return A}function i(g,A){const S=A.length;let w=!1;for(let b=S-1,T=0;T<S;b=T++){let C=A[b],B=A[T],P=B.x-C.x,L=B.y-C.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(C=A[T],P=-P,B=A[b],L=-L),g.y<C.y||g.y>B.y)continue;if(g.y===C.y){if(g.x===C.x)return!0}else{const U=L*(g.x-C.x)-P*(g.y-C.y);if(U===0)return!0;if(U<0)continue;w=!w}}else{if(g.y!==C.y)continue;if(B.x<=g.x&&g.x<=C.x||C.x<=g.x&&g.x<=B.x)return!0}}return w}const r=lo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Sc,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],y=0,x;p[y]=void 0,m[y]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new Sc,p:x},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,A=0;for(let S=0,w=p.length;S<w;S++)d[S]=[];for(let S=0,w=p.length;S<w;S++){const b=m[S];for(let T=0;T<b.length;T++){const C=b[T];let B=!0;for(let P=0;P<p.length;P++)i(C.p,p[P].p)&&(S!==P&&A++,B?(B=!1,d[P].push(C)):g=!0);B&&d[S].push(C)}}A>0&&g===!1&&(m=d)}let _;for(let g=0,A=p.length;g<A;g++){l=p[g].s,c.push(l),_=m[g];for(let S=0,w=_.length;S<w;S++)l.holes.push(_[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Up}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Up);const pae=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:IE,AddEquation:Da,AddOperation:Pk,AdditiveAnimationBlendMode:UE,AdditiveBlending:jw,AlphaFormat:Nk,AlwaysCompare:sN,AlwaysDepth:wk,AlwaysStencilFunc:S1,AmbientLight:QN,AnimationAction:aU,AnimationClip:Kf,AnimationLoader:xoe,AnimationMixer:lU,AnimationObjectGroup:Woe,AnimationUtils:moe,ArcCurve:bN,ArrayCamera:AN,ArrowHelper:fae,AttachedBindMode:qw,Audio:sU,AudioAnalyser:Doe,AudioContext:yb,AudioListener:Loe,AudioLoader:Coe,AxesHelper:hae,BackSide:Ji,BasicDepthPacking:Yk,BasicShadowMap:sk,Bone:Vv,BooleanKeyframeTrack:Qc,Box2:$oe,Box3:ks,Box3Helper:cae,BoxGeometry:$c,BoxHelper:lae,BufferAttribute:Jt,BufferGeometry:Tt,BufferGeometryLoader:iU,ByteType:Ok,Cache:Nc,Camera:Vp,CameraHelper:aae,CanvasTexture:Use,CapsuleGeometry:Jv,CatmullRomCurve3:TN,CineonToneMapping:Bk,CircleGeometry:Kv,ClampToEdgeWrapping:xi,Clock:vb,Color:We,ColorKeyframeTrack:fb,ColorManagement:qt,CompressedArrayTexture:kse,CompressedCubeTexture:Nse,CompressedTexture:jv,CompressedTextureLoader:_oe,ConeGeometry:Yv,ConstantAlphaFactor:_k,ConstantColorFactor:vk,CubeCamera:dN,CubeReflectionMapping:na,CubeRefractionMapping:ol,CubeTexture:Wp,CubeTextureLoader:Aoe,CubeUVReflectionMapping:nh,CubicBezierCurve:rb,CubicBezierCurve3:CN,CubicInterpolant:XN,CullFaceBack:Ww,CullFaceFront:rk,CullFaceFrontBack:UZ,CullFaceNone:ik,Curve:Us,CurvePath:PN,CustomBlending:ok,CustomToneMapping:Dk,CylinderGeometry:rh,Cylindrical:qoe,Data3DTexture:WE,DataArrayTexture:Nv,DataTexture:bf,DataTextureLoader:Soe,DataUtils:Wee,DecrementStencilOp:KZ,DecrementWrapStencilOp:qZ,DefaultLoadingManager:YN,DepthFormat:Qa,DepthStencilFormat:Fc,DepthTexture:qE,DetachedBindMode:Fk,DirectionalLight:gb,DirectionalLightHelper:oae,DiscreteInterpolant:JN,DisplayP3ColorSpace:kv,DodecahedronGeometry:qv,DoubleSide:Ts,DstAlphaFactor:dk,DstColorFactor:mk,DynamicCopyUsage:fee,DynamicDrawUsage:see,DynamicReadUsage:lee,EdgesGeometry:LN,EllipseCurve:Xv,EqualCompare:eN,EqualDepth:Ek,EqualStencilFunc:eee,EquirectangularReflectionMapping:lp,EquirectangularRefractionMapping:cp,Euler:Gp,EventDispatcher:vo,ExtrudeGeometry:Qv,FileLoader:Fr,Float16BufferAttribute:qee,Float32BufferAttribute:it,Float64BufferAttribute:$ee,FloatType:Cs,Fog:Gv,FogExp2:Hv,FramebufferTexture:Ose,FrontSide:fo,Frustum:Uv,GLBufferAttribute:Yoe,GLSL1:dee,GLSL3:w1,GreaterCompare:nN,GreaterDepth:Tk,GreaterEqualCompare:rN,GreaterEqualDepth:bk,GreaterEqualStencilFunc:ree,GreaterStencilFunc:nee,GridHelper:rae,Group:Vo,HalfFloatType:Dc,HemisphereLight:$N,HemisphereLightHelper:iae,IcosahedronGeometry:Zv,ImageBitmapLoader:rU,ImageLoader:Sp,ImageUtils:VE,IncrementStencilOp:JZ,IncrementWrapStencilOp:YZ,InstancedBufferAttribute:jf,InstancedBufferGeometry:nU,InstancedInterleavedBuffer:Koe,InstancedMesh:eb,Int16BufferAttribute:Kee,Int32BufferAttribute:Yee,Int8BufferAttribute:jee,IntType:BE,InterleavedBuffer:Xp,InterleavedBufferAttribute:ll,Interpolant:sh,InterpolateDiscrete:Gf,InterpolateLinear:Oc,InterpolateSmooth:ky,InvertStencilOp:$Z,KeepStencilOp:Zl,KeyframeTrack:zs,LOD:EN,LatheGeometry:Kp,Layers:Ac,LessCompare:Zk,LessDepth:Mk,LessEqualCompare:tN,LessEqualDepth:ap,LessEqualStencilFunc:tee,LessStencilFunc:ZZ,Light:_l,LightProbe:tU,Line:ia,Line3:Qoe,LineBasicMaterial:Oi,LineCurve:sb,LineCurve3:RN,LineDashedMaterial:VN,LineLoop:tb,LineSegments:Ns,LinearDisplayP3ColorSpace:Hp,LinearEncoding:HE,LinearFilter:un,LinearInterpolant:ub,LinearMipMapLinearFilter:WZ,LinearMipMapNearestFilter:VZ,LinearMipmapLinearFilter:ho,LinearMipmapNearestFilter:Dv,LinearSRGBColorSpace:po,LinearToneMapping:Lk,LinearTransfer:hp,Loader:ki,LoaderUtils:co,LoadingManager:hb,LoopOnce:jk,LoopPingPong:Jk,LoopRepeat:Xk,LuminanceAlphaFormat:zk,LuminanceFormat:Uk,MOUSE:$l,Material:Xn,MaterialLoader:ox,MathUtils:uf,Matrix3:It,Matrix4:_t,MaxEquation:Yw,Mesh:ui,MeshBasicMaterial:br,MeshDepthMaterial:KE,MeshDistanceMaterial:YE,MeshLambertMaterial:HN,MeshMatcapMaterial:GN,MeshNormalMaterial:zN,MeshPhongMaterial:NN,MeshPhysicalMaterial:xo,MeshStandardMaterial:$p,MeshToonMaterial:UN,MinEquation:Kw,MirroredRepeatWrapping:Hf,MixOperation:Rk,MultiplyBlending:Jw,MultiplyOperation:zp,NearestFilter:Ln,NearestMipMapLinearFilter:GZ,NearestMipMapNearestFilter:HZ,NearestMipmapLinearFilter:Mf,NearestMipmapNearestFilter:up,NeverCompare:Qk,NeverDepth:Sk,NeverStencilFunc:QZ,NoBlending:qo,NoColorSpace:Mr,NoToneMapping:oo,NormalAnimationBlendMode:Ov,NormalBlending:xc,NotEqualCompare:iN,NotEqualDepth:Ck,NotEqualStencilFunc:iee,NumberKeyframeTrack:Xf,Object3D:kt,ObjectLoader:boe,ObjectSpaceNormalMap:$k,OctahedronGeometry:Yp,OneFactor:uk,OneMinusConstantAlphaFactor:Ak,OneMinusConstantColorFactor:xk,OneMinusDstAlphaFactor:pk,OneMinusDstColorFactor:gk,OneMinusSrcAlphaFactor:L0,OneMinusSrcColorFactor:hk,OrthographicCamera:no,P3Primaries:pp,PCFShadowMap:Iv,PCFSoftShadowMap:Cd,PMREMGenerator:E1,Path:vp,PerspectiveCamera:_n,Plane:ko,PlaneGeometry:jp,PlaneHelper:uae,PointLight:mb,PointLightHelper:tae,Points:nb,PointsMaterial:Wv,PolarGridHelper:sae,PolyhedronGeometry:xl,PositionalAudio:Boe,PropertyBinding:Ht,PropertyMixer:oU,QuadraticBezierCurve:ob,QuadraticBezierCurve3:ab,Quaternion:di,QuaternionKeyframeTrack:cl,QuaternionLinearInterpolant:KN,RED_GREEN_RGTC2_Format:_1,RED_RGTC1_Format:Wk,REVISION:Up,RGBADepthPacking:qk,RGBAFormat:rr,RGBAIntegerFormat:NE,RGBA_ASTC_10x10_Format:p1,RGBA_ASTC_10x5_Format:f1,RGBA_ASTC_10x6_Format:h1,RGBA_ASTC_10x8_Format:d1,RGBA_ASTC_12x10_Format:m1,RGBA_ASTC_12x12_Format:g1,RGBA_ASTC_4x4_Format:i1,RGBA_ASTC_5x4_Format:r1,RGBA_ASTC_5x5_Format:s1,RGBA_ASTC_6x5_Format:o1,RGBA_ASTC_6x6_Format:a1,RGBA_ASTC_8x5_Format:l1,RGBA_ASTC_8x6_Format:c1,RGBA_ASTC_8x8_Format:u1,RGBA_BPTC_Format:Oy,RGBA_ETC2_EAC_Format:n1,RGBA_PVRTC_2BPPV1_Format:e1,RGBA_PVRTC_4BPPV1_Format:Zw,RGBA_S3TC_DXT1_Format:By,RGBA_S3TC_DXT3_Format:Dy,RGBA_S3TC_DXT5_Format:Fy,RGB_BPTC_SIGNED_Format:y1,RGB_BPTC_UNSIGNED_Format:v1,RGB_ETC1_Format:Vk,RGB_ETC2_Format:t1,RGB_PVRTC_2BPPV1_Format:Qw,RGB_PVRTC_4BPPV1_Format:$w,RGB_S3TC_DXT1_Format:Iy,RGFormat:Gk,RGIntegerFormat:kE,RawShaderMaterial:kN,Ray:qc,Raycaster:cU,Rec709Primaries:dp,RectAreaLight:ZN,RedFormat:Hk,RedIntegerFormat:OE,ReinhardToneMapping:Ik,RenderTarget:cN,RepeatWrapping:al,ReplaceStencilOp:XZ,ReverseSubtractEquation:lk,RingGeometry:ex,SIGNED_RED_GREEN_RGTC2_Format:A1,SIGNED_RED_RGTC1_Format:x1,SRGBColorSpace:qn,SRGBTransfer:nn,Scene:F0,ShaderChunk:Ct,ShaderLib:bs,ShaderMaterial:mo,ShadowMaterial:ON,Shape:Sc,ShapeGeometry:tx,ShapePath:dae,ShapeUtils:lo,ShortType:kk,Skeleton:Jp,SkeletonHelper:eae,SkinnedMesh:ZE,Source:fc,Sphere:us,SphereGeometry:qp,Spherical:I1,SphericalHarmonics3:eU,SplineCurve:lb,SpotLight:pb,SpotLightHelper:Zoe,Sprite:MN,SpriteMaterial:QE,SrcAlphaFactor:P0,SrcAlphaSaturateFactor:yk,SrcColorFactor:fk,StaticCopyUsage:uee,StaticDrawUsage:mp,StaticReadUsage:aee,StereoCamera:Roe,StreamCopyUsage:hee,StreamDrawUsage:oee,StreamReadUsage:cee,StringKeyframeTrack:Zc,SubtractEquation:ak,SubtractiveBlending:Xw,TOUCH:Ql,TangentSpaceNormalMap:vl,TetrahedronGeometry:nx,Texture:mn,TextureLoader:qN,TorusGeometry:ix,TorusKnotGeometry:rx,Triangle:ir,TriangleFanDrawMode:I0,TriangleStripDrawMode:zE,TrianglesDrawMode:Kk,TubeGeometry:sx,TwoPassDoubleSide:zZ,UVMapping:Bv,Uint16BufferAttribute:jE,Uint32BufferAttribute:XE,Uint8BufferAttribute:Xee,Uint8ClampedBufferAttribute:Jee,Uniform:Ab,UniformsGroup:Joe,UniformsLib:He,UniformsUtils:hN,UnsignedByteType:ao,UnsignedInt248Type:$a,UnsignedIntType:Go,UnsignedShort4444Type:DE,UnsignedShort5551Type:FE,UnsignedShortType:Fv,VSMShadowMap:Ss,Vector2:Ae,Vector3:N,Vector4:$t,VectorKeyframeTrack:Jf,VideoTexture:Fse,WebGL1Renderer:SN,WebGL3DRenderTarget:Iee,WebGLArrayRenderTarget:Lee,WebGLCoordinateSystem:to,WebGLCubeRenderTarget:pN,WebGLMultipleRenderTargets:Bee,WebGLRenderTarget:cs,WebGLRenderer:$E,WebGLUtils:_N,WebGPUCoordinateSystem:gp,WireframeGeometry:FN,WrapAroundEnding:fp,ZeroCurvatureEnding:cc,ZeroFactor:ck,ZeroSlopeEnding:uc,ZeroStencilOp:jZ,_SRGBAFormat:B0,createCanvasElement:lN,sRGBEncoding:Za},Symbol.toStringTag,{value:"Module"}));var fU={exports:{}},eu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */eu.ConcurrentRoot=1;eu.ContinuousEventPriority=4;eu.DefaultEventPriority=16;eu.DiscreteEventPriority=1;eu.IdleEventPriority=536870912;eu.LegacyRoot=0;fU.exports=eu;var pf=fU.exports;function mae(n){let e;const t=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!d(p,y)){const x=p;c(p=y,x)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const gae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cI=gae?O.useEffect:O.useLayoutEffect;function yae(n){const e=typeof n=="function"?mae(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(i),c=O.useRef(r),u=O.useRef(!1),d=O.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(p=i(o),m=!r(d.current,p)),cI(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,u.current=!1});const y=O.useRef(o);cI(()=>{const _=()=>{try{const A=e.getState(),S=l.current(A);c.current(d.current,S)||(a.current=A,d.current=S,s())}catch{u.current=!0,s()}},g=e.subscribe(_);return e.getState()!==y.current&&_(),g},[]);const x=m?p:d.current;return O.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var hU={exports:{}},dU={exports:{}},pU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,Y){var q=G.length;G.push(Y);e:for(;0<q;){var z=q-1>>>1,J=G[z];if(0<r(J,Y))G[z]=Y,G[q]=J,q=z;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Y=G[0],q=G.pop();if(q!==Y){G[0]=q;e:for(var z=0,J=G.length,_e=J>>>1;z<_e;){var Me=2*(z+1)-1,Ee=G[Me],ke=Me+1,Ke=G[ke];if(0>r(Ee,q))ke<J&&0>r(Ke,Ee)?(G[z]=Ke,G[ke]=q,z=ke):(G[z]=Ee,G[Me]=q,z=Me);else if(ke<J&&0>r(Ke,q))G[z]=Ke,G[ke]=q,z=ke;else break e}}return Y}function r(G,Y){var q=G.sortIndex-Y.sortIndex;return q!==0?q:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=G)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function w(G){if(x=!1,S(G),!y)if(t(l)!==null)y=!0,le(b);else{var Y=t(c);Y!==null&&ue(w,Y.startTime-G)}}function b(G,Y){y=!1,x&&(x=!1,g(B),B=-1),m=!0;var q=p;try{for(S(Y),d=t(l);d!==null&&(!(d.expirationTime>Y)||G&&!U());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var J=z(d.expirationTime<=Y);Y=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),S(Y)}else i(l);d=t(l)}if(d!==null)var _e=!0;else{var Me=t(c);Me!==null&&ue(w,Me.startTime-Y),_e=!1}return _e}finally{d=null,p=q,m=!1}}var T=!1,C=null,B=-1,P=5,L=-1;function U(){return!(n.unstable_now()-L<P)}function te(){if(C!==null){var G=n.unstable_now();L=G;var Y=!0;try{Y=C(!0,G)}finally{Y?ne():(T=!1,C=null)}}else T=!1}var ne;if(typeof A=="function")ne=function(){A(te)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=te,ne=function(){$.postMessage(null)}}else ne=function(){_(te,0)};function le(G){C=G,T||(T=!0,ne())}function ue(G,Y){B=_(function(){G(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,le(b))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var q=p;p=Y;try{return G()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=p;p=G;try{return Y()}finally{p=q}},n.unstable_scheduleCallback=function(G,Y,q){var z=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?z+q:z):q=z,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,G={id:u++,callback:Y,priorityLevel:G,startTime:q,expirationTime:J,sortIndex:-1},q>z?(G.sortIndex=q,e(c,G),t(l)===null&&G===t(c)&&(x?(g(B),B=-1):x=!0,ue(w,q-z))):(G.sortIndex=J,e(l,G),y||m||(y=!0,le(b))),G},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(G){var Y=p;return function(){var q=p;p=Y;try{return G.apply(this,arguments)}finally{p=q}}}})(pU);dU.exports=pU;var B1=dU.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vae=function(e){var t={},i=O,r=B1,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b=Symbol.iterator;function T(f){return f===null||typeof f!="object"?null:(f=b&&f[b]||f["@@iterator"],typeof f=="function"?f:null)}function C(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case x:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return h=f.displayName||null,h!==null?h:C(f.type)||"Memo";case S:h=f._payload,f=f._init;try{return C(f(h))}catch{}}return null}function B(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function P(f){var h=f,v=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(v=h.return),f=h.return;while(f)}return h.tag===3?v:null}function L(f){if(P(f)!==f)throw Error(o(188))}function U(f){var h=f.alternate;if(!h){if(h=P(f),h===null)throw Error(o(188));return h!==f?null:f}for(var v=f,M=h;;){var E=v.return;if(E===null)break;var R=E.alternate;if(R===null){if(M=E.return,M!==null){v=M;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===v)return L(E),f;if(R===M)return L(E),h;R=R.sibling}throw Error(o(188))}if(v.return!==M.return)v=E,M=R;else{for(var H=!1,ie=E.child;ie;){if(ie===v){H=!0,v=E,M=R;break}if(ie===M){H=!0,M=E,v=R;break}ie=ie.sibling}if(!H){for(ie=R.child;ie;){if(ie===v){H=!0,v=R,M=E;break}if(ie===M){H=!0,M=R,v=E;break}ie=ie.sibling}if(!H)throw Error(o(189))}}if(v.alternate!==M)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?f:h}function te(f){return f=U(f),f!==null?ne(f):null}function ne(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=ne(f);if(h!==null)return h;f=f.sibling}return null}function V(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=V(f);if(h!==null)return h}f=f.sibling}return null}var $=Array.isArray,le=e.getPublicInstance,ue=e.getRootHostContext,G=e.getChildHostContext,Y=e.prepareForCommit,q=e.resetAfterCommit,z=e.createInstance,J=e.appendInitialChild,_e=e.finalizeInitialChildren,Me=e.prepareUpdate,Ee=e.shouldSetTextContent,ke=e.createTextInstance,Ke=e.scheduleTimeout,rt=e.cancelTimeout,qe=e.noTimeout,ut=e.isPrimaryRenderer,Ue=e.supportsMutation,W=e.supportsPersistence,be=e.supportsHydration,xe=e.getInstanceFromNode,Pe=e.preparePortalMount,we=e.getCurrentEventPriority,nt=e.detachDeletedInstance,Ge=e.supportsMicrotasks,je=e.scheduleMicrotask,lt=e.supportsTestSelectors,vt=e.findFiberRoot,se=e.getBoundingRect,F=e.getTextContent,I=e.isHiddenSubtree,Q=e.matchAccessibilityRole,ge=e.setFocusIfFocusable,pe=e.setupIntersectionObserver,Se=e.appendChild,Xe=e.appendChildToContainer,Ie=e.commitTextUpdate,Ne=e.commitMount,ct=e.commitUpdate,bt=e.insertBefore,Le=e.insertInContainerBefore,Pt=e.removeChild,K=e.removeChildFromContainer,ye=e.resetTextContent,Ce=e.hideInstance,Te=e.hideTextInstance,ot=e.unhideInstance,D=e.unhideTextInstance,j=e.clearContainer,ee=e.cloneInstance,Z=e.createContainerChildSet,ce=e.appendChildToContainerChildSet,Re=e.finalizeContainerChildren,Oe=e.replaceContainerChildren,ze=e.cloneHiddenInstance,Ve=e.cloneHiddenTextInstance,$e=e.canHydrateInstance,Ut=e.canHydrateTextInstance,mt=e.canHydrateSuspenseInstance,Vt=e.isSuspenseInstancePending,Yt=e.isSuspenseInstanceFallback,En=e.registerSuspenseInstanceRetry,Jn=e.getNextHydratableSibling,Ur=e.getFirstHydratableChild,aa=e.getFirstHydratableChildWithinContainer,fs=e.getFirstHydratableChildWithinSuspenseInstance,Ni=e.hydrateInstance,la=e.hydrateTextInstance,Al=e.hydrateSuspenseInstance,k=e.getNextHydratableInstanceAfterSuspenseInstance,oe=e.commitHydratedContainer,he=e.commitHydratedSuspenseInstance,ae=e.clearSuspenseBoundary,de=e.clearSuspenseBoundaryFromContainer,De=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,ft=e.didNotMatchHydratedTextInstance,dt;function St(f){if(dt===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);dt=h&&h[1]||""}return`
`+dt+f}var At=!1;function wt(f,h){if(!f||At)return"";At=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Fe){var M=Fe}Reflect.construct(f,[],h)}else{try{h.call()}catch(Fe){M=Fe}f.call(h.prototype)}else{try{throw Error()}catch(Fe){M=Fe}f()}}catch(Fe){if(Fe&&M&&typeof Fe.stack=="string"){for(var E=Fe.stack.split(`
`),R=M.stack.split(`
`),H=E.length-1,ie=R.length-1;1<=H&&0<=ie&&E[H]!==R[ie];)ie--;for(;1<=H&&0<=ie;H--,ie--)if(E[H]!==R[ie]){if(H!==1||ie!==1)do if(H--,ie--,0>ie||E[H]!==R[ie]){var ve=`
`+E[H].replace(" at new "," at ");return f.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",f.displayName)),ve}while(1<=H&&0<=ie);break}}}finally{At=!1,Error.prepareStackTrace=v}return(f=f?f.displayName||f.name:"")?St(f):""}var gn=Object.prototype.hasOwnProperty,gi=[],on=-1;function ei(f){return{current:f}}function yt(f){0>on||(f.current=gi[on],gi[on]=null,on--)}function tt(f,h){on++,gi[on]=f.current,f.current=h}var zr={},Ot=ei(zr),bn=ei(!1),Hs=zr;function Hr(f,h){var v=f.type.contextTypes;if(!v)return zr;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===h)return M.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in v)E[R]=h[R];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=E),E}function ti(f){return f=f.childContextTypes,f!=null}function zn(){yt(bn),yt(Ot)}function Gs(f,h,v){if(Ot.current!==zr)throw Error(o(168));tt(Ot,h),tt(bn,v)}function nu(f,h,v){var M=f.stateNode;if(h=h.childContextTypes,typeof M.getChildContext!="function")return v;M=M.getChildContext();for(var E in M)if(!(E in h))throw Error(o(108,B(f)||"Unknown",E));return s({},v,M)}function ni(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||zr,Hs=Ot.current,tt(Ot,f),tt(bn,bn.current),!0}function iu(f,h,v){var M=f.stateNode;if(!M)throw Error(o(169));v?(f=nu(f,h,Hs),M.__reactInternalMemoizedMergedChildContext=f,yt(bn),yt(Ot),tt(Ot,f)):yt(bn),tt(bn,v)}var hr=Math.clz32?Math.clz32:HU,em=Math.log,zU=Math.LN2;function HU(f){return f>>>=0,f===0?32:31-(em(f)/zU|0)|0}var tm=64,nm=4194304;function oh(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function im(f,h){var v=f.pendingLanes;if(v===0)return 0;var M=0,E=f.suspendedLanes,R=f.pingedLanes,H=v&268435455;if(H!==0){var ie=H&~E;ie!==0?M=oh(ie):(R&=H,R!==0&&(M=oh(R)))}else H=v&~E,H!==0?M=oh(H):R!==0&&(M=oh(R));if(M===0)return 0;if(h!==0&&h!==M&&!(h&E)&&(E=M&-M,R=h&-h,E>=R||E===16&&(R&4194240)!==0))return h;if(M&4&&(M|=v&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=M;0<h;)v=31-hr(h),E=1<<v,M|=f[v],h&=~E;return M}function GU(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VU(f,h){for(var v=f.suspendedLanes,M=f.pingedLanes,E=f.expirationTimes,R=f.pendingLanes;0<R;){var H=31-hr(R),ie=1<<H,ve=E[H];ve===-1?(!(ie&v)||ie&M)&&(E[H]=GU(ie,h)):ve<=h&&(f.expiredLanes|=ie),R&=~ie}}function ax(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function lx(f){for(var h=[],v=0;31>v;v++)h.push(f);return h}function ah(f,h,v){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-hr(h),f[h]=v}function WU(f,h){var v=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<v;){var E=31-hr(v),R=1<<E;h[E]=0,M[E]=-1,f[E]=-1,v&=~R}}function cx(f,h){var v=f.entangledLanes|=h;for(f=f.entanglements;v;){var M=31-hr(v),E=1<<M;E&h|f[M]&h&&(f[M]|=h),v&=~E}}var Wt=0;function Tb(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var ux=r.unstable_scheduleCallback,Cb=r.unstable_cancelCallback,jU=r.unstable_shouldYield,XU=r.unstable_requestPaint,ii=r.unstable_now,fx=r.unstable_ImmediatePriority,JU=r.unstable_UserBlockingPriority,hx=r.unstable_NormalPriority,KU=r.unstable_IdlePriority,rm=null,Vs=null;function YU(f){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(rm,f,void 0,(f.current.flags&128)===128)}catch{}}function qU(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Ws=typeof Object.is=="function"?Object.is:qU,_o=null,sm=!1,dx=!1;function Rb(f){_o===null?_o=[f]:_o.push(f)}function $U(f){sm=!0,Rb(f)}function js(){if(!dx&&_o!==null){dx=!0;var f=0,h=Wt;try{var v=_o;for(Wt=1;f<v.length;f++){var M=v[f];do M=M(!0);while(M!==null)}_o=null,sm=!1}catch(E){throw _o!==null&&(_o=_o.slice(f+1)),ux(fx,js),E}finally{Wt=h,dx=!1}}return null}var QU=a.ReactCurrentBatchConfig;function om(f,h){if(Ws(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var v=Object.keys(f),M=Object.keys(h);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var E=v[M];if(!gn.call(h,E)||!Ws(f[E],h[E]))return!1}return!0}function ZU(f){switch(f.tag){case 5:return St(f.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 2:case 15:return f=wt(f.type,!1),f;case 11:return f=wt(f.type.render,!1),f;case 1:return f=wt(f.type,!0),f;default:return""}}function hs(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var v in f)h[v]===void 0&&(h[v]=f[v]);return h}return h}var am=ei(null),lm=null,ru=null,px=null;function mx(){px=ru=lm=null}function Pb(f,h,v){ut?(tt(am,h._currentValue),h._currentValue=v):(tt(am,h._currentValue2),h._currentValue2=v)}function gx(f){var h=am.current;yt(am),ut?f._currentValue=h:f._currentValue2=h}function yx(f,h,v){for(;f!==null;){var M=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),f===v)break;f=f.return}}function su(f,h){lm=f,px=ru=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(mr=!0),f.firstContext=null)}function Gr(f){var h=ut?f._currentValue:f._currentValue2;if(px!==f)if(f={context:f,memoizedValue:h,next:null},ru===null){if(lm===null)throw Error(o(308));ru=f,lm.dependencies={lanes:0,firstContext:f}}else ru=ru.next=f;return h}var Xs=null,ca=!1;function vx(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lb(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ao(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function ua(f,h){var v=f.updateQueue;v!==null&&(v=v.shared,Hn!==null&&f.mode&1&&!(Dt&2)?(f=v.interleaved,f===null?(h.next=h,Xs===null?Xs=[v]:Xs.push(v)):(h.next=f.next,f.next=h),v.interleaved=h):(f=v.pending,f===null?h.next=h:(h.next=f.next,f.next=h),v.pending=h))}function cm(f,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var M=h.lanes;M&=f.pendingLanes,v|=M,h.lanes=v,cx(f,v)}}function Ib(f,h){var v=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var E=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var H={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?E=R=H:R=R.next=H,v=v.next}while(v!==null);R===null?E=R=h:R=R.next=h}else E=R=h;v={baseState:M.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:M.shared,effects:M.effects},f.updateQueue=v;return}f=v.lastBaseUpdate,f===null?v.firstBaseUpdate=h:f.next=h,v.lastBaseUpdate=h}function um(f,h,v,M){var E=f.updateQueue;ca=!1;var R=E.firstBaseUpdate,H=E.lastBaseUpdate,ie=E.shared.pending;if(ie!==null){E.shared.pending=null;var ve=ie,Fe=ve.next;ve.next=null,H===null?R=Fe:H.next=Fe,H=ve;var et=f.alternate;et!==null&&(et=et.updateQueue,ie=et.lastBaseUpdate,ie!==H&&(ie===null?et.firstBaseUpdate=Fe:ie.next=Fe,et.lastBaseUpdate=ve))}if(R!==null){var Mt=E.baseState;H=0,et=Fe=ve=null,ie=R;do{var ht=ie.lane,en=ie.eventTime;if((M&ht)===ht){et!==null&&(et=et.next={eventTime:en,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var at=f,bi=ie;switch(ht=h,en=v,bi.tag){case 1:if(at=bi.payload,typeof at=="function"){Mt=at.call(en,Mt,ht);break e}Mt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=bi.payload,ht=typeof at=="function"?at.call(en,Mt,ht):at,ht==null)break e;Mt=s({},Mt,ht);break e;case 2:ca=!0}}ie.callback!==null&&ie.lane!==0&&(f.flags|=64,ht=E.effects,ht===null?E.effects=[ie]:ht.push(ie))}else en={eventTime:en,lane:ht,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},et===null?(Fe=et=en,ve=Mt):et=et.next=en,H|=ht;if(ie=ie.next,ie===null){if(ie=E.shared.pending,ie===null)break;ht=ie,ie=ht.next,ht.next=null,E.lastBaseUpdate=ht,E.shared.pending=null}}while(1);if(et===null&&(ve=Mt),E.baseState=ve,E.firstBaseUpdate=Fe,E.lastBaseUpdate=et,h=E.shared.interleaved,h!==null){E=h;do H|=E.lane,E=E.next;while(E!==h)}else R===null&&(E.shared.lanes=0);pu|=H,f.lanes=H,f.memoizedState=Mt}}function Bb(f,h,v){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var M=f[h],E=M.callback;if(E!==null){if(M.callback=null,M=v,typeof E!="function")throw Error(o(191,E));E.call(M)}}}var Db=new i.Component().refs;function xx(f,h,v,M){h=f.memoizedState,v=v(M,h),v=v==null?h:s({},h,v),f.memoizedState=v,f.lanes===0&&(f.updateQueue.baseState=v)}var fm={isMounted:function(f){return(f=f._reactInternals)?P(f)===f:!1},enqueueSetState:function(f,h,v){f=f._reactInternals;var M=zi(),E=da(f),R=Ao(M,E);R.payload=h,v!=null&&(R.callback=v),ua(f,R),h=Jr(f,E,M),h!==null&&cm(h,f,E)},enqueueReplaceState:function(f,h,v){f=f._reactInternals;var M=zi(),E=da(f),R=Ao(M,E);R.tag=1,R.payload=h,v!=null&&(R.callback=v),ua(f,R),h=Jr(f,E,M),h!==null&&cm(h,f,E)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var v=zi(),M=da(f),E=Ao(v,M);E.tag=2,h!=null&&(E.callback=h),ua(f,E),h=Jr(f,M,v),h!==null&&cm(h,f,M)}};function Fb(f,h,v,M,E,R,H){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,R,H):h.prototype&&h.prototype.isPureReactComponent?!om(v,M)||!om(E,R):!0}function Ob(f,h,v){var M=!1,E=zr,R=h.contextType;return typeof R=="object"&&R!==null?R=Gr(R):(E=ti(h)?Hs:Ot.current,M=h.contextTypes,R=(M=M!=null)?Hr(f,E):zr),h=new h(v,R),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=fm,f.stateNode=h,h._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=E,f.__reactInternalMemoizedMaskedChildContext=R),h}function kb(f,h,v,M){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,M),h.state!==f&&fm.enqueueReplaceState(h,h.state,null)}function _x(f,h,v,M){var E=f.stateNode;E.props=v,E.state=f.memoizedState,E.refs=Db,vx(f);var R=h.contextType;typeof R=="object"&&R!==null?E.context=Gr(R):(R=ti(h)?Hs:Ot.current,E.context=Hr(f,R)),E.state=f.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(xx(f,h,R,v),E.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(h=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),h!==E.state&&fm.enqueueReplaceState(E,E.state,null),um(f,v,E,M),E.state=f.memoizedState),typeof E.componentDidMount=="function"&&(f.flags|=4194308)}var ou=[],au=0,hm=null,dm=0,Vr=[],Wr=0,Sl=null,So=1,wo="";function wl(f,h){ou[au++]=dm,ou[au++]=hm,hm=f,dm=h}function Nb(f,h,v){Vr[Wr++]=So,Vr[Wr++]=wo,Vr[Wr++]=Sl,Sl=f;var M=So;f=wo;var E=32-hr(M)-1;M&=~(1<<E),v+=1;var R=32-hr(h)+E;if(30<R){var H=E-E%5;R=(M&(1<<H)-1).toString(32),M>>=H,E-=H,So=1<<32-hr(h)+E|v<<E|M,wo=R+f}else So=1<<R|v<<E|M,wo=f}function Ax(f){f.return!==null&&(wl(f,1),Nb(f,1,0))}function Sx(f){for(;f===hm;)hm=ou[--au],ou[au]=null,dm=ou[--au],ou[au]=null;for(;f===Sl;)Sl=Vr[--Wr],Vr[Wr]=null,wo=Vr[--Wr],Vr[Wr]=null,So=Vr[--Wr],Vr[Wr]=null}var dr=null,pr=null,dn=!1,lh=!1,ds=null;function Ub(f,h){var v=Kr(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=f,h=f.deletions,h===null?(f.deletions=[v],f.flags|=16):h.push(v)}function zb(f,h){switch(f.tag){case 5:return h=$e(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,dr=f,pr=Ur(h),!0):!1;case 6:return h=Ut(h,f.pendingProps),h!==null?(f.stateNode=h,dr=f,pr=null,!0):!1;case 13:if(h=mt(h),h!==null){var v=Sl!==null?{id:So,overflow:wo}:null;return f.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=Kr(18,null,null,0),v.stateNode=h,v.return=f,f.child=v,dr=f,pr=null,!0}return!1;default:return!1}}function wx(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Mx(f){if(dn){var h=pr;if(h){var v=h;if(!zb(f,h)){if(wx(f))throw Error(o(418));h=Jn(v);var M=dr;h&&zb(f,h)?Ub(M,v):(f.flags=f.flags&-4097|2,dn=!1,dr=f)}}else{if(wx(f))throw Error(o(418));f.flags=f.flags&-4097|2,dn=!1,dr=f}}}function Hb(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;dr=f}function ch(f){if(!be||f!==dr)return!1;if(!dn)return Hb(f),dn=!0,!1;if(f.tag!==3&&(f.tag!==5||De(f.type)&&!Ee(f.type,f.memoizedProps))){var h=pr;if(h){if(wx(f)){for(f=pr;f;)f=Jn(f);throw Error(o(418))}for(;h;)Ub(f,h),h=Jn(h)}}if(Hb(f),f.tag===13){if(!be)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));pr=k(f)}else pr=dr?Jn(f.stateNode):null;return!0}function lu(){be&&(pr=dr=null,lh=dn=!1)}function Ex(f){ds===null?ds=[f]:ds.push(f)}function uh(f,h,v){if(f=v.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var M=v.stateNode}if(!M)throw Error(o(147,f));var E=M,R=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(H){var ie=E.refs;ie===Db&&(ie=E.refs={}),H===null?delete ie[R]:ie[R]=H},h._stringRef=R,h)}if(typeof f!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,f))}return f}function pm(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function Gb(f){var h=f._init;return h(f._payload)}function Vb(f){function h(fe,re){if(f){var me=fe.deletions;me===null?(fe.deletions=[re],fe.flags|=16):me.push(re)}}function v(fe,re){if(!f)return null;for(;re!==null;)h(fe,re),re=re.sibling;return null}function M(fe,re){for(fe=new Map;re!==null;)re.key!==null?fe.set(re.key,re):fe.set(re.index,re),re=re.sibling;return fe}function E(fe,re){return fe=ma(fe,re),fe.index=0,fe.sibling=null,fe}function R(fe,re,me){return fe.index=me,f?(me=fe.alternate,me!==null?(me=me.index,me<re?(fe.flags|=2,re):me):(fe.flags|=2,re)):(fe.flags|=1048576,re)}function H(fe){return f&&fe.alternate===null&&(fe.flags|=2),fe}function ie(fe,re,me,Ye){return re===null||re.tag!==6?(re=l_(me,fe.mode,Ye),re.return=fe,re):(re=E(re,me),re.return=fe,re)}function ve(fe,re,me,Ye){var st=me.type;return st===u?et(fe,re,me.props.children,Ye,me.key):re!==null&&(re.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Gb(st)===re.type)?(Ye=E(re,me.props),Ye.ref=uh(fe,re,me),Ye.return=fe,Ye):(Ye=jm(me.type,me.key,me.props,null,fe.mode,Ye),Ye.ref=uh(fe,re,me),Ye.return=fe,Ye)}function Fe(fe,re,me,Ye){return re===null||re.tag!==4||re.stateNode.containerInfo!==me.containerInfo||re.stateNode.implementation!==me.implementation?(re=c_(me,fe.mode,Ye),re.return=fe,re):(re=E(re,me.children||[]),re.return=fe,re)}function et(fe,re,me,Ye,st){return re===null||re.tag!==7?(re=Pl(me,fe.mode,Ye,st),re.return=fe,re):(re=E(re,me),re.return=fe,re)}function Mt(fe,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return re=l_(""+re,fe.mode,me),re.return=fe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return me=jm(re.type,re.key,re.props,null,fe.mode,me),me.ref=uh(fe,null,re),me.return=fe,me;case c:return re=c_(re,fe.mode,me),re.return=fe,re;case S:var Ye=re._init;return Mt(fe,Ye(re._payload),me)}if($(re)||T(re))return re=Pl(re,fe.mode,me,null),re.return=fe,re;pm(fe,re)}return null}function ht(fe,re,me,Ye){var st=re!==null?re.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return st!==null?null:ie(fe,re,""+me,Ye);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return me.key===st?ve(fe,re,me,Ye):null;case c:return me.key===st?Fe(fe,re,me,Ye):null;case S:return st=me._init,ht(fe,re,st(me._payload),Ye)}if($(me)||T(me))return st!==null?null:et(fe,re,me,Ye,null);pm(fe,me)}return null}function en(fe,re,me,Ye,st){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return fe=fe.get(me)||null,ie(re,fe,""+Ye,st);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case l:return fe=fe.get(Ye.key===null?me:Ye.key)||null,ve(re,fe,Ye,st);case c:return fe=fe.get(Ye.key===null?me:Ye.key)||null,Fe(re,fe,Ye,st);case S:var Lt=Ye._init;return en(fe,re,me,Lt(Ye._payload),st)}if($(Ye)||T(Ye))return fe=fe.get(me)||null,et(re,fe,Ye,st,null);pm(re,Ye)}return null}function at(fe,re,me,Ye){for(var st=null,Lt=null,Et=re,jt=re=0,si=null;Et!==null&&jt<me.length;jt++){Et.index>jt?(si=Et,Et=null):si=Et.sibling;var Xt=ht(fe,Et,me[jt],Ye);if(Xt===null){Et===null&&(Et=si);break}f&&Et&&Xt.alternate===null&&h(fe,Et),re=R(Xt,re,jt),Lt===null?st=Xt:Lt.sibling=Xt,Lt=Xt,Et=si}if(jt===me.length)return v(fe,Et),dn&&wl(fe,jt),st;if(Et===null){for(;jt<me.length;jt++)Et=Mt(fe,me[jt],Ye),Et!==null&&(re=R(Et,re,jt),Lt===null?st=Et:Lt.sibling=Et,Lt=Et);return dn&&wl(fe,jt),st}for(Et=M(fe,Et);jt<me.length;jt++)si=en(Et,fe,jt,me[jt],Ye),si!==null&&(f&&si.alternate!==null&&Et.delete(si.key===null?jt:si.key),re=R(si,re,jt),Lt===null?st=si:Lt.sibling=si,Lt=si);return f&&Et.forEach(function(ga){return h(fe,ga)}),dn&&wl(fe,jt),st}function bi(fe,re,me,Ye){var st=T(me);if(typeof st!="function")throw Error(o(150));if(me=st.call(me),me==null)throw Error(o(151));for(var Lt=st=null,Et=re,jt=re=0,si=null,Xt=me.next();Et!==null&&!Xt.done;jt++,Xt=me.next()){Et.index>jt?(si=Et,Et=null):si=Et.sibling;var ga=ht(fe,Et,Xt.value,Ye);if(ga===null){Et===null&&(Et=si);break}f&&Et&&ga.alternate===null&&h(fe,Et),re=R(ga,re,jt),Lt===null?st=ga:Lt.sibling=ga,Lt=ga,Et=si}if(Xt.done)return v(fe,Et),dn&&wl(fe,jt),st;if(Et===null){for(;!Xt.done;jt++,Xt=me.next())Xt=Mt(fe,Xt.value,Ye),Xt!==null&&(re=R(Xt,re,jt),Lt===null?st=Xt:Lt.sibling=Xt,Lt=Xt);return dn&&wl(fe,jt),st}for(Et=M(fe,Et);!Xt.done;jt++,Xt=me.next())Xt=en(Et,fe,jt,Xt.value,Ye),Xt!==null&&(f&&Xt.alternate!==null&&Et.delete(Xt.key===null?jt:Xt.key),re=R(Xt,re,jt),Lt===null?st=Xt:Lt.sibling=Xt,Lt=Xt);return f&&Et.forEach(function(Rz){return h(fe,Rz)}),dn&&wl(fe,jt),st}function Yr(fe,re,me,Ye){if(typeof me=="object"&&me!==null&&me.type===u&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case l:e:{for(var st=me.key,Lt=re;Lt!==null;){if(Lt.key===st){if(st=me.type,st===u){if(Lt.tag===7){v(fe,Lt.sibling),re=E(Lt,me.props.children),re.return=fe,fe=re;break e}}else if(Lt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Gb(st)===Lt.type){v(fe,Lt.sibling),re=E(Lt,me.props),re.ref=uh(fe,Lt,me),re.return=fe,fe=re;break e}v(fe,Lt);break}else h(fe,Lt);Lt=Lt.sibling}me.type===u?(re=Pl(me.props.children,fe.mode,Ye,me.key),re.return=fe,fe=re):(Ye=jm(me.type,me.key,me.props,null,fe.mode,Ye),Ye.ref=uh(fe,re,me),Ye.return=fe,fe=Ye)}return H(fe);case c:e:{for(Lt=me.key;re!==null;){if(re.key===Lt)if(re.tag===4&&re.stateNode.containerInfo===me.containerInfo&&re.stateNode.implementation===me.implementation){v(fe,re.sibling),re=E(re,me.children||[]),re.return=fe,fe=re;break e}else{v(fe,re);break}else h(fe,re);re=re.sibling}re=c_(me,fe.mode,Ye),re.return=fe,fe=re}return H(fe);case S:return Lt=me._init,Yr(fe,re,Lt(me._payload),Ye)}if($(me))return at(fe,re,me,Ye);if(T(me))return bi(fe,re,me,Ye);pm(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,re!==null&&re.tag===6?(v(fe,re.sibling),re=E(re,me),re.return=fe,fe=re):(v(fe,re),re=l_(me,fe.mode,Ye),re.return=fe,fe=re),H(fe)):v(fe,re)}return Yr}var cu=Vb(!0),Wb=Vb(!1),fh={},jr=ei(fh),hh=ei(fh),uu=ei(fh);function Js(f){if(f===fh)throw Error(o(174));return f}function bx(f,h){tt(uu,h),tt(hh,f),tt(jr,fh),f=ue(h),yt(jr),tt(jr,f)}function fu(){yt(jr),yt(hh),yt(uu)}function jb(f){var h=Js(uu.current),v=Js(jr.current);h=G(v,f.type,h),v!==h&&(tt(hh,f),tt(jr,h))}function Tx(f){hh.current===f&&(yt(jr),yt(hh))}var yn=ei(0);function mm(f){for(var h=f;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Vt(v)||Yt(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Cx=[];function Rx(){for(var f=0;f<Cx.length;f++){var h=Cx[f];ut?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Cx.length=0}var gm=a.ReactCurrentDispatcher,Xr=a.ReactCurrentBatchConfig,hu=0,Tn=null,wi=null,ri=null,ym=!1,dh=!1,ph=0,ez=0;function Mi(){throw Error(o(321))}function Px(f,h){if(h===null)return!1;for(var v=0;v<h.length&&v<f.length;v++)if(!Ws(f[v],h[v]))return!1;return!0}function Lx(f,h,v,M,E,R){if(hu=R,Tn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,gm.current=f===null||f.memoizedState===null?rz:sz,f=v(M,E),dh){R=0;do{if(dh=!1,ph=0,25<=R)throw Error(o(301));R+=1,ri=wi=null,h.updateQueue=null,gm.current=oz,f=v(M,E)}while(dh)}if(gm.current=Sm,h=wi!==null&&wi.next!==null,hu=0,ri=wi=Tn=null,ym=!1,h)throw Error(o(300));return f}function Ix(){var f=ph!==0;return ph=0,f}function Mo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?Tn.memoizedState=ri=f:ri=ri.next=f,ri}function Ks(){if(wi===null){var f=Tn.alternate;f=f!==null?f.memoizedState:null}else f=wi.next;var h=ri===null?Tn.memoizedState:ri.next;if(h!==null)ri=h,wi=f;else{if(f===null)throw Error(o(310));wi=f,f={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},ri===null?Tn.memoizedState=ri=f:ri=ri.next=f}return ri}function Ml(f,h){return typeof h=="function"?h(f):h}function vm(f){var h=Ks(),v=h.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=f;var M=wi,E=M.baseQueue,R=v.pending;if(R!==null){if(E!==null){var H=E.next;E.next=R.next,R.next=H}M.baseQueue=E=R,v.pending=null}if(E!==null){R=E.next,M=M.baseState;var ie=H=null,ve=null,Fe=R;do{var et=Fe.lane;if((hu&et)===et)ve!==null&&(ve=ve.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),M=Fe.hasEagerState?Fe.eagerState:f(M,Fe.action);else{var Mt={lane:et,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};ve===null?(ie=ve=Mt,H=M):ve=ve.next=Mt,Tn.lanes|=et,pu|=et}Fe=Fe.next}while(Fe!==null&&Fe!==R);ve===null?H=M:ve.next=ie,Ws(M,h.memoizedState)||(mr=!0),h.memoizedState=M,h.baseState=H,h.baseQueue=ve,v.lastRenderedState=M}if(f=v.interleaved,f!==null){E=f;do R=E.lane,Tn.lanes|=R,pu|=R,E=E.next;while(E!==f)}else E===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function xm(f){var h=Ks(),v=h.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=f;var M=v.dispatch,E=v.pending,R=h.memoizedState;if(E!==null){v.pending=null;var H=E=E.next;do R=f(R,H.action),H=H.next;while(H!==E);Ws(R,h.memoizedState)||(mr=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),v.lastRenderedState=R}return[R,M]}function Xb(){}function Jb(f,h){var v=Tn,M=Ks(),E=h(),R=!Ws(M.memoizedState,E);if(R&&(M.memoizedState=E,mr=!0),M=M.queue,gh(qb.bind(null,v,M,f),[f]),M.getSnapshot!==h||R||ri!==null&&ri.memoizedState.tag&1){if(v.flags|=2048,mh(9,Yb.bind(null,v,M,E,h),void 0,null),Hn===null)throw Error(o(349));hu&30||Kb(v,h,E)}return E}function Kb(f,h,v){f.flags|=16384,f={getSnapshot:h,value:v},h=Tn.updateQueue,h===null?(h={lastEffect:null,stores:null},Tn.updateQueue=h,h.stores=[f]):(v=h.stores,v===null?h.stores=[f]:v.push(f))}function Yb(f,h,v,M){h.value=v,h.getSnapshot=M,$b(h)&&Jr(f,1,-1)}function qb(f,h,v){return v(function(){$b(h)&&Jr(f,1,-1)})}function $b(f){var h=f.getSnapshot;f=f.value;try{var v=h();return!Ws(f,v)}catch{return!0}}function Bx(f){var h=Mo();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:f},h.queue=f,f=f.dispatch=iz.bind(null,Tn,f),[h.memoizedState,f]}function mh(f,h,v,M){return f={tag:f,create:h,destroy:v,deps:M,next:null},h=Tn.updateQueue,h===null?(h={lastEffect:null,stores:null},Tn.updateQueue=h,h.lastEffect=f.next=f):(v=h.lastEffect,v===null?h.lastEffect=f.next=f:(M=v.next,v.next=f,f.next=M,h.lastEffect=f)),f}function Qb(){return Ks().memoizedState}function _m(f,h,v,M){var E=Mo();Tn.flags|=f,E.memoizedState=mh(1|h,v,void 0,M===void 0?null:M)}function Am(f,h,v,M){var E=Ks();M=M===void 0?null:M;var R=void 0;if(wi!==null){var H=wi.memoizedState;if(R=H.destroy,M!==null&&Px(M,H.deps)){E.memoizedState=mh(h,v,R,M);return}}Tn.flags|=f,E.memoizedState=mh(1|h,v,R,M)}function Dx(f,h){return _m(8390656,8,f,h)}function gh(f,h){return Am(2048,8,f,h)}function Zb(f,h){return Am(4,2,f,h)}function eT(f,h){return Am(4,4,f,h)}function tT(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function nT(f,h,v){return v=v!=null?v.concat([f]):null,Am(4,4,tT.bind(null,h,f),v)}function Fx(){}function iT(f,h){var v=Ks();h=h===void 0?null:h;var M=v.memoizedState;return M!==null&&h!==null&&Px(h,M[1])?M[0]:(v.memoizedState=[f,h],f)}function rT(f,h){var v=Ks();h=h===void 0?null:h;var M=v.memoizedState;return M!==null&&h!==null&&Px(h,M[1])?M[0]:(f=f(),v.memoizedState=[f,h],f)}function tz(f,h){var v=Wt;Wt=v!==0&&4>v?v:4,f(!0);var M=Xr.transition;Xr.transition={};try{f(!1),h()}finally{Wt=v,Xr.transition=M}}function sT(){return Ks().memoizedState}function nz(f,h,v){var M=da(f);v={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null},oT(f)?aT(h,v):(lT(f,h,v),v=zi(),f=Jr(f,M,v),f!==null&&cT(f,h,M))}function iz(f,h,v){var M=da(f),E={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null};if(oT(f))aT(h,E);else{lT(f,h,E);var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var H=h.lastRenderedState,ie=R(H,v);if(E.hasEagerState=!0,E.eagerState=ie,Ws(ie,H))return}catch{}finally{}v=zi(),f=Jr(f,M,v),f!==null&&cT(f,h,M)}}function oT(f){var h=f.alternate;return f===Tn||h!==null&&h===Tn}function aT(f,h){dh=ym=!0;var v=f.pending;v===null?h.next=h:(h.next=v.next,v.next=h),f.pending=h}function lT(f,h,v){Hn!==null&&f.mode&1&&!(Dt&2)?(f=h.interleaved,f===null?(v.next=v,Xs===null?Xs=[h]:Xs.push(h)):(v.next=f.next,f.next=v),h.interleaved=v):(f=h.pending,f===null?v.next=v:(v.next=f.next,f.next=v),h.pending=v)}function cT(f,h,v){if(v&4194240){var M=h.lanes;M&=f.pendingLanes,v|=M,h.lanes=v,cx(f,v)}}var Sm={readContext:Gr,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},rz={readContext:Gr,useCallback:function(f,h){return Mo().memoizedState=[f,h===void 0?null:h],f},useContext:Gr,useEffect:Dx,useImperativeHandle:function(f,h,v){return v=v!=null?v.concat([f]):null,_m(4194308,4,tT.bind(null,h,f),v)},useLayoutEffect:function(f,h){return _m(4194308,4,f,h)},useInsertionEffect:function(f,h){return _m(4,2,f,h)},useMemo:function(f,h){var v=Mo();return h=h===void 0?null:h,f=f(),v.memoizedState=[f,h],f},useReducer:function(f,h,v){var M=Mo();return h=v!==void 0?v(h):h,M.memoizedState=M.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},M.queue=f,f=f.dispatch=nz.bind(null,Tn,f),[M.memoizedState,f]},useRef:function(f){var h=Mo();return f={current:f},h.memoizedState=f},useState:Bx,useDebugValue:Fx,useDeferredValue:function(f){var h=Bx(f),v=h[0],M=h[1];return Dx(function(){var E=Xr.transition;Xr.transition={};try{M(f)}finally{Xr.transition=E}},[f]),v},useTransition:function(){var f=Bx(!1),h=f[0];return f=tz.bind(null,f[1]),Mo().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,v){var M=Tn,E=Mo();if(dn){if(v===void 0)throw Error(o(407));v=v()}else{if(v=h(),Hn===null)throw Error(o(349));hu&30||Kb(M,h,v)}E.memoizedState=v;var R={value:v,getSnapshot:h};return E.queue=R,Dx(qb.bind(null,M,R,f),[f]),M.flags|=2048,mh(9,Yb.bind(null,M,R,v,h),void 0,null),v},useId:function(){var f=Mo(),h=Hn.identifierPrefix;if(dn){var v=wo,M=So;v=(M&~(1<<32-hr(M)-1)).toString(32)+v,h=":"+h+"R"+v,v=ph++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=ez++,h=":"+h+"r"+v.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},sz={readContext:Gr,useCallback:iT,useContext:Gr,useEffect:gh,useImperativeHandle:nT,useInsertionEffect:Zb,useLayoutEffect:eT,useMemo:rT,useReducer:vm,useRef:Qb,useState:function(){return vm(Ml)},useDebugValue:Fx,useDeferredValue:function(f){var h=vm(Ml),v=h[0],M=h[1];return gh(function(){var E=Xr.transition;Xr.transition={};try{M(f)}finally{Xr.transition=E}},[f]),v},useTransition:function(){var f=vm(Ml)[0],h=Ks().memoizedState;return[f,h]},useMutableSource:Xb,useSyncExternalStore:Jb,useId:sT,unstable_isNewReconciler:!1},oz={readContext:Gr,useCallback:iT,useContext:Gr,useEffect:gh,useImperativeHandle:nT,useInsertionEffect:Zb,useLayoutEffect:eT,useMemo:rT,useReducer:xm,useRef:Qb,useState:function(){return xm(Ml)},useDebugValue:Fx,useDeferredValue:function(f){var h=xm(Ml),v=h[0],M=h[1];return gh(function(){var E=Xr.transition;Xr.transition={};try{M(f)}finally{Xr.transition=E}},[f]),v},useTransition:function(){var f=xm(Ml)[0],h=Ks().memoizedState;return[f,h]},useMutableSource:Xb,useSyncExternalStore:Jb,useId:sT,unstable_isNewReconciler:!1};function Ox(f,h){try{var v="",M=h;do v+=ZU(M),M=M.return;while(M);var E=v}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:f,source:h,stack:E}}function kx(f,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var az=typeof WeakMap=="function"?WeakMap:Map;function uT(f,h,v){v=Ao(-1,v),v.tag=3,v.payload={element:null};var M=h.value;return v.callback=function(){Nm||(Nm=!0,t_=M),kx(f,h)},v}function fT(f,h,v){v=Ao(-1,v),v.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var E=h.value;v.payload=function(){return M(E)},v.callback=function(){kx(f,h)}}var R=f.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){kx(f,h),typeof M!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})}),v}function hT(f,h,v){var M=f.pingCache;if(M===null){M=f.pingCache=new az;var E=new Set;M.set(h,E)}else E=M.get(h),E===void 0&&(E=new Set,M.set(h,E));E.has(v)||(E.add(v),f=Az.bind(null,f,h,v),h.then(f,f))}function dT(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function pT(f,h,v,M,E){return f.mode&1?(f.flags|=65536,f.lanes=E,f):(f===h?f.flags|=65536:(f.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=Ao(-1,1),h.tag=2,ua(v,h))),v.lanes|=1),f)}function Ys(f){f.flags|=4}function mT(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var yh,vh,wm,Mm;if(Ue)yh=function(f,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)J(f,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},vh=function(){},wm=function(f,h,v,M,E){if(f=f.memoizedProps,f!==M){var R=h.stateNode,H=Js(jr.current);v=Me(R,v,f,M,E,H),(h.updateQueue=v)&&Ys(h)}},Mm=function(f,h,v,M){v!==M&&Ys(h)};else if(W){yh=function(f,h,v,M){for(var E=h.child;E!==null;){if(E.tag===5){var R=E.stateNode;v&&M&&(R=ze(R,E.type,E.memoizedProps,E)),J(f,R)}else if(E.tag===6)R=E.stateNode,v&&M&&(R=Ve(R,E.memoizedProps,E)),J(f,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),yh(f,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var gT=function(f,h,v,M){for(var E=h.child;E!==null;){if(E.tag===5){var R=E.stateNode;v&&M&&(R=ze(R,E.type,E.memoizedProps,E)),ce(f,R)}else if(E.tag===6)R=E.stateNode,v&&M&&(R=Ve(R,E.memoizedProps,E)),ce(f,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),gT(f,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};vh=function(f,h){var v=h.stateNode;if(!mT(f,h)){f=v.containerInfo;var M=Z(f);gT(M,h,!1,!1),v.pendingChildren=M,Ys(h),Re(f,M)}},wm=function(f,h,v,M,E){var R=f.stateNode,H=f.memoizedProps;if((f=mT(f,h))&&H===M)h.stateNode=R;else{var ie=h.stateNode,ve=Js(jr.current),Fe=null;H!==M&&(Fe=Me(ie,v,H,M,E,ve)),f&&Fe===null?h.stateNode=R:(R=ee(R,Fe,v,H,M,h,f,ie),_e(R,v,M,E,ve)&&Ys(h),h.stateNode=R,f?Ys(h):yh(R,h,!1,!1))}},Mm=function(f,h,v,M){v!==M?(f=Js(uu.current),v=Js(jr.current),h.stateNode=ke(M,f,v,h),Ys(h)):h.stateNode=f.stateNode}}else vh=function(){},wm=function(){},Mm=function(){};function xh(f,h){if(!dn)switch(f.tailMode){case"hidden":h=f.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?f.tail=null:v.sibling=null;break;case"collapsed":v=f.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Ei(f){var h=f.alternate!==null&&f.alternate.child===f.child,v=0,M=0;if(h)for(var E=f.child;E!==null;)v|=E.lanes|E.childLanes,M|=E.subtreeFlags&14680064,M|=E.flags&14680064,E.return=f,E=E.sibling;else for(E=f.child;E!==null;)v|=E.lanes|E.childLanes,M|=E.subtreeFlags,M|=E.flags,E.return=f,E=E.sibling;return f.subtreeFlags|=M,f.childLanes=v,h}function lz(f,h,v){var M=h.pendingProps;switch(Sx(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(h),null;case 1:return ti(h.type)&&zn(),Ei(h),null;case 3:return M=h.stateNode,fu(),yt(bn),yt(Ot),Rx(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(ch(h)?Ys(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ds!==null&&(r_(ds),ds=null))),vh(f,h),Ei(h),null;case 5:Tx(h),v=Js(uu.current);var E=h.type;if(f!==null&&h.stateNode!=null)wm(f,h,E,M,v),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!M){if(h.stateNode===null)throw Error(o(166));return Ei(h),null}if(f=Js(jr.current),ch(h)){if(!be)throw Error(o(175));f=Ni(h.stateNode,h.type,h.memoizedProps,v,f,h,!lh),h.updateQueue=f,f!==null&&Ys(h)}else{var R=z(E,M,v,f,h);yh(R,h,!1,!1),h.stateNode=R,_e(R,E,M,v,f)&&Ys(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Ei(h),null;case 6:if(f&&h.stateNode!=null)Mm(f,h,f.memoizedProps,M);else{if(typeof M!="string"&&h.stateNode===null)throw Error(o(166));if(f=Js(uu.current),v=Js(jr.current),ch(h)){if(!be)throw Error(o(176));if(f=h.stateNode,M=h.memoizedProps,(v=la(f,M,h,!lh))&&(E=dr,E!==null))switch(R=(E.mode&1)!==0,E.tag){case 3:Ze(E.stateNode.containerInfo,f,M,R);break;case 5:ft(E.type,E.memoizedProps,E.stateNode,f,M,R)}v&&Ys(h)}else h.stateNode=ke(M,f,v,h)}return Ei(h),null;case 13:if(yt(yn),M=h.memoizedState,dn&&pr!==null&&h.mode&1&&!(h.flags&128)){for(f=pr;f;)f=Jn(f);return lu(),h.flags|=98560,h}if(M!==null&&M.dehydrated!==null){if(M=ch(h),f===null){if(!M)throw Error(o(318));if(!be)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Al(f,h)}else lu(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Ei(h),null}return ds!==null&&(r_(ds),ds=null),h.flags&128?(h.lanes=v,h):(M=M!==null,v=!1,f===null?ch(h):v=f.memoizedState!==null,M&&!v&&(h.child.flags|=8192,h.mode&1&&(f===null||yn.current&1?Kn===0&&(Kn=3):o_())),h.updateQueue!==null&&(h.flags|=4),Ei(h),null);case 4:return fu(),vh(f,h),f===null&&Pe(h.stateNode.containerInfo),Ei(h),null;case 10:return gx(h.type._context),Ei(h),null;case 17:return ti(h.type)&&zn(),Ei(h),null;case 19:if(yt(yn),E=h.memoizedState,E===null)return Ei(h),null;if(M=(h.flags&128)!==0,R=E.rendering,R===null)if(M)xh(E,!1);else{if(Kn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(R=mm(f),R!==null){for(h.flags|=128,xh(E,!1),f=R.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=v,M=h.child;M!==null;)v=M,E=f,v.flags&=14680066,R=v.alternate,R===null?(v.childLanes=0,v.lanes=E,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,E=R.dependencies,v.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),M=M.sibling;return tt(yn,yn.current&1|2),h.child}f=f.sibling}E.tail!==null&&ii()>e_&&(h.flags|=128,M=!0,xh(E,!1),h.lanes=4194304)}else{if(!M)if(f=mm(R),f!==null){if(h.flags|=128,M=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),xh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!dn)return Ei(h),null}else 2*ii()-E.renderingStartTime>e_&&v!==1073741824&&(h.flags|=128,M=!0,xh(E,!1),h.lanes=4194304);E.isBackwards?(R.sibling=h.child,h.child=R):(f=E.last,f!==null?f.sibling=R:h.child=R,E.last=R)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=ii(),h.sibling=null,f=yn.current,tt(yn,M?f&1|2:f&1),h):(Ei(h),null);case 22:case 23:return s_(),M=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(h.flags|=8192),M&&h.mode&1?gr&1073741824&&(Ei(h),Ue&&h.subtreeFlags&6&&(h.flags|=8192)):Ei(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var cz=a.ReactCurrentOwner,mr=!1;function Ui(f,h,v,M){h.child=f===null?Wb(h,null,v,M):cu(h,f.child,v,M)}function yT(f,h,v,M,E){v=v.render;var R=h.ref;return su(h,E),M=Lx(f,h,v,M,R,E),v=Ix(),f!==null&&!mr?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~E,Eo(f,h,E)):(dn&&v&&Ax(h),h.flags|=1,Ui(f,h,M,E),h.child)}function vT(f,h,v,M,E){if(f===null){var R=v.type;return typeof R=="function"&&!a_(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=R,xT(f,h,R,M,E)):(f=jm(v.type,null,M,h,h.mode,E),f.ref=h.ref,f.return=h,h.child=f)}if(R=f.child,!(f.lanes&E)){var H=R.memoizedProps;if(v=v.compare,v=v!==null?v:om,v(H,M)&&f.ref===h.ref)return Eo(f,h,E)}return h.flags|=1,f=ma(R,M),f.ref=h.ref,f.return=h,h.child=f}function xT(f,h,v,M,E){if(f!==null&&om(f.memoizedProps,M)&&f.ref===h.ref)if(mr=!1,(f.lanes&E)!==0)f.flags&131072&&(mr=!0);else return h.lanes=f.lanes,Eo(f,h,E);return Nx(f,h,v,M,E)}function _T(f,h,v){var M=h.pendingProps,E=M.children,R=f!==null?f.memoizedState:null;if(M.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},tt(du,gr),gr|=v;else if(v&1073741824)h.memoizedState={baseLanes:0,cachePool:null},M=R!==null?R.baseLanes:v,tt(du,gr),gr|=M;else return f=R!==null?R.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,tt(du,gr),gr|=f,null;else R!==null?(M=R.baseLanes|v,h.memoizedState=null):M=v,tt(du,gr),gr|=M;return Ui(f,h,E,v),h.child}function AT(f,h){var v=h.ref;(f===null&&v!==null||f!==null&&f.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function Nx(f,h,v,M,E){var R=ti(v)?Hs:Ot.current;return R=Hr(h,R),su(h,E),v=Lx(f,h,v,M,R,E),M=Ix(),f!==null&&!mr?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~E,Eo(f,h,E)):(dn&&M&&Ax(h),h.flags|=1,Ui(f,h,v,E),h.child)}function ST(f,h,v,M,E){if(ti(v)){var R=!0;ni(h)}else R=!1;if(su(h,E),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),Ob(h,v,M),_x(h,v,M,E),M=!0;else if(f===null){var H=h.stateNode,ie=h.memoizedProps;H.props=ie;var ve=H.context,Fe=v.contextType;typeof Fe=="object"&&Fe!==null?Fe=Gr(Fe):(Fe=ti(v)?Hs:Ot.current,Fe=Hr(h,Fe));var et=v.getDerivedStateFromProps,Mt=typeof et=="function"||typeof H.getSnapshotBeforeUpdate=="function";Mt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ie!==M||ve!==Fe)&&kb(h,H,M,Fe),ca=!1;var ht=h.memoizedState;H.state=ht,um(h,M,H,E),ve=h.memoizedState,ie!==M||ht!==ve||bn.current||ca?(typeof et=="function"&&(xx(h,v,et,M),ve=h.memoizedState),(ie=ca||Fb(h,v,ie,M,ht,ve,Fe))?(Mt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(h.flags|=4194308)):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=ve),H.props=M,H.state=ve,H.context=Fe,M=ie):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{H=h.stateNode,Lb(f,h),ie=h.memoizedProps,Fe=h.type===h.elementType?ie:hs(h.type,ie),H.props=Fe,Mt=h.pendingProps,ht=H.context,ve=v.contextType,typeof ve=="object"&&ve!==null?ve=Gr(ve):(ve=ti(v)?Hs:Ot.current,ve=Hr(h,ve));var en=v.getDerivedStateFromProps;(et=typeof en=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ie!==Mt||ht!==ve)&&kb(h,H,M,ve),ca=!1,ht=h.memoizedState,H.state=ht,um(h,M,H,E);var at=h.memoizedState;ie!==Mt||ht!==at||bn.current||ca?(typeof en=="function"&&(xx(h,v,en,M),at=h.memoizedState),(Fe=ca||Fb(h,v,Fe,M,ht,at,ve)||!1)?(et||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(M,at,ve),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(M,at,ve)),typeof H.componentDidUpdate=="function"&&(h.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof H.componentDidUpdate!="function"||ie===f.memoizedProps&&ht===f.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ie===f.memoizedProps&&ht===f.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=at),H.props=M,H.state=at,H.context=ve,M=Fe):(typeof H.componentDidUpdate!="function"||ie===f.memoizedProps&&ht===f.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ie===f.memoizedProps&&ht===f.memoizedState||(h.flags|=1024),M=!1)}return Ux(f,h,v,M,R,E)}function Ux(f,h,v,M,E,R){AT(f,h);var H=(h.flags&128)!==0;if(!M&&!H)return E&&iu(h,v,!1),Eo(f,h,R);M=h.stateNode,cz.current=h;var ie=H&&typeof v.getDerivedStateFromError!="function"?null:M.render();return h.flags|=1,f!==null&&H?(h.child=cu(h,f.child,null,R),h.child=cu(h,null,ie,R)):Ui(f,h,ie,R),h.memoizedState=M.state,E&&iu(h,v,!0),h.child}function wT(f){var h=f.stateNode;h.pendingContext?Gs(f,h.pendingContext,h.pendingContext!==h.context):h.context&&Gs(f,h.context,!1),bx(f,h.containerInfo)}function MT(f,h,v,M,E){return lu(),Ex(E),h.flags|=256,Ui(f,h,v,M),h.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function bm(f){return{baseLanes:f,cachePool:null}}function ET(f,h,v){var M=h.pendingProps,E=yn.current,R=!1,H=(h.flags&128)!==0,ie;if((ie=H)||(ie=f!==null&&f.memoizedState===null?!1:(E&2)!==0),ie?(R=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(E|=1),tt(yn,E&1),f===null)return Mx(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?Yt(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(E=M.children,f=M.fallback,R?(M=h.mode,R=h.child,E={mode:"hidden",children:E},!(M&1)&&R!==null?(R.childLanes=0,R.pendingProps=E):R=Xm(E,M,0,null),f=Pl(f,M,v,null),R.return=h,f.return=h,R.sibling=f,h.child=R,h.child.memoizedState=bm(v),h.memoizedState=Em,f):zx(h,E));if(E=f.memoizedState,E!==null){if(ie=E.dehydrated,ie!==null){if(H)return h.flags&256?(h.flags&=-257,Tm(f,h,v,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(R=M.fallback,E=h.mode,M=Xm({mode:"visible",children:M.children},E,0,null),R=Pl(R,E,v,null),R.flags|=2,M.return=h,R.return=h,M.sibling=R,h.child=M,h.mode&1&&cu(h,f.child,null,v),h.child.memoizedState=bm(v),h.memoizedState=Em,R);if(!(h.mode&1))h=Tm(f,h,v,null);else if(Yt(ie))h=Tm(f,h,v,Error(o(419)));else if(M=(v&f.childLanes)!==0,mr||M){if(M=Hn,M!==null){switch(v&-v){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}M=R&(M.suspendedLanes|v)?0:R,M!==0&&M!==E.retryLane&&(E.retryLane=M,Jr(f,M,-1))}o_(),h=Tm(f,h,v,Error(o(421)))}else Vt(ie)?(h.flags|=128,h.child=f.child,h=Sz.bind(null,f),En(ie,h),h=null):(v=E.treeContext,be&&(pr=fs(ie),dr=h,dn=!0,ds=null,lh=!1,v!==null&&(Vr[Wr++]=So,Vr[Wr++]=wo,Vr[Wr++]=Sl,So=v.id,wo=v.overflow,Sl=h)),h=zx(h,h.pendingProps.children),h.flags|=4096);return h}return R?(M=TT(f,h,M.children,M.fallback,v),R=h.child,E=f.child.memoizedState,R.memoizedState=E===null?bm(v):{baseLanes:E.baseLanes|v,cachePool:null},R.childLanes=f.childLanes&~v,h.memoizedState=Em,M):(v=bT(f,h,M.children,v),h.memoizedState=null,v)}return R?(M=TT(f,h,M.children,M.fallback,v),R=h.child,E=f.child.memoizedState,R.memoizedState=E===null?bm(v):{baseLanes:E.baseLanes|v,cachePool:null},R.childLanes=f.childLanes&~v,h.memoizedState=Em,M):(v=bT(f,h,M.children,v),h.memoizedState=null,v)}function zx(f,h){return h=Xm({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function bT(f,h,v,M){var E=f.child;return f=E.sibling,v=ma(E,{mode:"visible",children:v}),!(h.mode&1)&&(v.lanes=M),v.return=h,v.sibling=null,f!==null&&(M=h.deletions,M===null?(h.deletions=[f],h.flags|=16):M.push(f)),h.child=v}function TT(f,h,v,M,E){var R=h.mode;f=f.child;var H=f.sibling,ie={mode:"hidden",children:v};return!(R&1)&&h.child!==f?(v=h.child,v.childLanes=0,v.pendingProps=ie,h.deletions=null):(v=ma(f,ie),v.subtreeFlags=f.subtreeFlags&14680064),H!==null?M=ma(H,M):(M=Pl(M,R,E,null),M.flags|=2),M.return=h,v.return=h,v.sibling=M,h.child=v,M}function Tm(f,h,v,M){return M!==null&&Ex(M),cu(h,f.child,null,v),f=zx(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function CT(f,h,v){f.lanes|=h;var M=f.alternate;M!==null&&(M.lanes|=h),yx(f.return,h,v)}function Hx(f,h,v,M,E){var R=f.memoizedState;R===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:E}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=M,R.tail=v,R.tailMode=E)}function RT(f,h,v){var M=h.pendingProps,E=M.revealOrder,R=M.tail;if(Ui(f,h,M.children,v),M=yn.current,M&2)M=M&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&CT(f,v,h);else if(f.tag===19)CT(f,v,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(tt(yn,M),!(h.mode&1))h.memoizedState=null;else switch(E){case"forwards":for(v=h.child,E=null;v!==null;)f=v.alternate,f!==null&&mm(f)===null&&(E=v),v=v.sibling;v=E,v===null?(E=h.child,h.child=null):(E=v.sibling,v.sibling=null),Hx(h,!1,E,v,R);break;case"backwards":for(v=null,E=h.child,h.child=null;E!==null;){if(f=E.alternate,f!==null&&mm(f)===null){h.child=E;break}f=E.sibling,E.sibling=v,v=E,E=f}Hx(h,!0,v,null,R);break;case"together":Hx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Eo(f,h,v){if(f!==null&&(h.dependencies=f.dependencies),pu|=h.lanes,!(v&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,v=ma(f,f.pendingProps),h.child=v,v.return=h;f.sibling!==null;)f=f.sibling,v=v.sibling=ma(f,f.pendingProps),v.return=h;v.sibling=null}return h.child}function uz(f,h,v){switch(h.tag){case 3:wT(h),lu();break;case 5:jb(h);break;case 1:ti(h.type)&&ni(h);break;case 4:bx(h,h.stateNode.containerInfo);break;case 10:Pb(h,h.type._context,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(tt(yn,yn.current&1),h.flags|=128,null):v&h.child.childLanes?ET(f,h,v):(tt(yn,yn.current&1),f=Eo(f,h,v),f!==null?f.sibling:null);tt(yn,yn.current&1);break;case 19:if(M=(v&h.childLanes)!==0,f.flags&128){if(M)return RT(f,h,v);h.flags|=128}var E=h.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),tt(yn,yn.current),M)break;return null;case 22:case 23:return h.lanes=0,_T(f,h,v)}return Eo(f,h,v)}function fz(f,h){switch(Sx(h),h.tag){case 1:return ti(h.type)&&zn(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return fu(),yt(bn),yt(Ot),Rx(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return Tx(h),null;case 13:if(yt(yn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));lu()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return yt(yn),null;case 4:return fu(),null;case 10:return gx(h.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var Cm=!1,El=!1,hz=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Rm(f,h){var v=f.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(M){Qi(f,h,M)}else v.current=null}function Gx(f,h,v){try{v()}catch(M){Qi(f,h,M)}}var PT=!1;function dz(f,h){for(Y(f.containerInfo),Je=h;Je!==null;)if(f=Je,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Je=h;else for(;Je!==null;){f=Je;try{var v=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var M=v.memoizedProps,E=v.memoizedState,R=f.stateNode,H=R.getSnapshotBeforeUpdate(f.elementType===f.type?M:hs(f.type,M),E);R.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Ue&&j(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ie){Qi(f,f.return,ie)}if(h=f.sibling,h!==null){h.return=f.return,Je=h;break}Je=f.return}return v=PT,PT=!1,v}function bl(f,h,v){var M=h.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var E=M=M.next;do{if((E.tag&f)===f){var R=E.destroy;E.destroy=void 0,R!==void 0&&Gx(h,v,R)}E=E.next}while(E!==M)}}function _h(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&f)===f){var M=v.create;v.destroy=M()}v=v.next}while(v!==h)}}function Vx(f){var h=f.ref;if(h!==null){var v=f.stateNode;switch(f.tag){case 5:f=le(v);break;default:f=v}typeof h=="function"?h(f):h.current=f}}function LT(f,h,v){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(rm,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var M=f=f.next;do{var E=M,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&Gx(h,v,R),M=M.next}while(M!==f)}break;case 1:if(Rm(h,v),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(H){Qi(h,v,H)}break;case 5:Rm(h,v);break;case 4:Ue?kT(f,h,v):W&&W&&(h=h.stateNode.containerInfo,v=Z(h),Oe(h,v))}}function IT(f,h,v){for(var M=h;;)if(LT(f,M,v),M.child===null||Ue&&M.tag===4){if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function BT(f){var h=f.alternate;h!==null&&(f.alternate=null,BT(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&nt(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function DT(f){return f.tag===5||f.tag===3||f.tag===4}function FT(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||DT(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function OT(f){if(Ue){e:{for(var h=f.return;h!==null;){if(DT(h))break e;h=h.return}throw Error(o(160))}var v=h;switch(v.tag){case 5:h=v.stateNode,v.flags&32&&(ye(h),v.flags&=-33),v=FT(f),jx(f,v,h);break;case 3:case 4:h=v.stateNode.containerInfo,v=FT(f),Wx(f,v,h);break;default:throw Error(o(161))}}}function Wx(f,h,v){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?Le(v,f,h):Xe(v,f);else if(M!==4&&(f=f.child,f!==null))for(Wx(f,h,v),f=f.sibling;f!==null;)Wx(f,h,v),f=f.sibling}function jx(f,h,v){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?bt(v,f,h):Se(v,f);else if(M!==4&&(f=f.child,f!==null))for(jx(f,h,v),f=f.sibling;f!==null;)jx(f,h,v),f=f.sibling}function kT(f,h,v){for(var M=h,E=!1,R,H;;){if(!E){E=M.return;e:for(;;){if(E===null)throw Error(o(160));switch(R=E.stateNode,E.tag){case 5:H=!1;break e;case 3:R=R.containerInfo,H=!0;break e;case 4:R=R.containerInfo,H=!0;break e}E=E.return}E=!0}if(M.tag===5||M.tag===6)IT(f,M,v),H?K(R,M.stateNode):Pt(R,M.stateNode);else if(M.tag===18)H?de(R,M.stateNode):ae(R,M.stateNode);else if(M.tag===4){if(M.child!==null){R=M.stateNode.containerInfo,H=!0,M.child.return=M,M=M.child;continue}}else if(LT(f,M,v),M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return,M.tag===4&&(E=!1)}M.sibling.return=M.return,M=M.sibling}}function Xx(f,h){if(Ue){switch(h.tag){case 0:case 11:case 14:case 15:bl(3,h,h.return),_h(3,h),bl(5,h,h.return);return;case 1:return;case 5:var v=h.stateNode;if(v!=null){var M=h.memoizedProps;f=f!==null?f.memoizedProps:M;var E=h.type,R=h.updateQueue;h.updateQueue=null,R!==null&&ct(v,R,E,f,M,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));v=h.memoizedProps,Ie(h.stateNode,f!==null?f.memoizedProps:v,v);return;case 3:be&&f!==null&&f.memoizedState.isDehydrated&&oe(h.stateNode.containerInfo);return;case 12:return;case 13:Pm(h);return;case 19:Pm(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:bl(3,h,h.return),_h(3,h),bl(5,h,h.return);return;case 12:return;case 13:Pm(h);return;case 19:Pm(h);return;case 3:be&&f!==null&&f.memoizedState.isDehydrated&&oe(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(W){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Oe(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Pm(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var v=f.stateNode;v===null&&(v=f.stateNode=new hz),h.forEach(function(M){var E=wz.bind(null,f,M);v.has(M)||(v.add(M),M.then(E,E))})}}function pz(f,h){for(Je=h;Je!==null;){h=Je;var v=h.deletions;if(v!==null)for(var M=0;M<v.length;M++){var E=v[M];try{var R=f;Ue?kT(R,E,h):IT(R,E,h);var H=E.alternate;H!==null&&(H.return=null),E.return=null}catch(st){Qi(E,h,st)}}if(v=h.child,h.subtreeFlags&12854&&v!==null)v.return=h,Je=v;else for(;Je!==null;){h=Je;try{var ie=h.flags;if(ie&32&&Ue&&ye(h.stateNode),ie&512){var ve=h.alternate;if(ve!==null){var Fe=ve.ref;Fe!==null&&(typeof Fe=="function"?Fe(null):Fe.current=null)}}if(ie&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var et=h.alternate;(et===null||et.memoizedState===null)&&(Zx=ii())}break;case 22:var Mt=h.memoizedState!==null,ht=h.alternate,en=ht!==null&&ht.memoizedState!==null;if(v=h,Ue){e:if(M=v,E=Mt,R=null,Ue)for(var at=M;;){if(at.tag===5){if(R===null){R=at;var bi=at.stateNode;E?Ce(bi):ot(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(R===null){var Yr=at.stateNode;E?Te(Yr):D(Yr,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===M)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===M)break;for(;at.sibling===null;){if(at.return===null||at.return===M)break e;R===at&&(R=null),at=at.return}R===at&&(R=null),at.sibling.return=at.return,at=at.sibling}}if(Mt&&!en&&v.mode&1){Je=v;for(var fe=v.child;fe!==null;){for(v=Je=fe;Je!==null;){M=Je;var re=M.child;switch(M.tag){case 0:case 11:case 14:case 15:bl(4,M,M.return);break;case 1:Rm(M,M.return);var me=M.stateNode;if(typeof me.componentWillUnmount=="function"){var Ye=M.return;try{me.props=M.memoizedProps,me.state=M.memoizedState,me.componentWillUnmount()}catch(st){Qi(M,Ye,st)}}break;case 5:Rm(M,M.return);break;case 22:if(M.memoizedState!==null){zT(v);continue}}re!==null?(re.return=M,Je=re):zT(v)}fe=fe.sibling}}}switch(ie&4102){case 2:OT(h),h.flags&=-3;break;case 6:OT(h),h.flags&=-3,Xx(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Xx(h.alternate,h);break;case 4:Xx(h.alternate,h)}}catch(st){Qi(h,h.return,st)}if(v=h.sibling,v!==null){v.return=h.return,Je=v;break}Je=h.return}}}function mz(f,h,v){Je=f,NT(f)}function NT(f,h,v){for(var M=(f.mode&1)!==0;Je!==null;){var E=Je,R=E.child;if(E.tag===22&&M){var H=E.memoizedState!==null||Cm;if(!H){var ie=E.alternate,ve=ie!==null&&ie.memoizedState!==null||El;ie=Cm;var Fe=El;if(Cm=H,(El=ve)&&!Fe)for(Je=E;Je!==null;)H=Je,ve=H.child,H.tag===22&&H.memoizedState!==null?HT(E):ve!==null?(ve.return=H,Je=ve):HT(E);for(;R!==null;)Je=R,NT(R),R=R.sibling;Je=E,Cm=ie,El=Fe}UT(f)}else E.subtreeFlags&8772&&R!==null?(R.return=E,Je=R):UT(f)}}function UT(f){for(;Je!==null;){var h=Je;if(h.flags&8772){var v=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:El||_h(5,h);break;case 1:var M=h.stateNode;if(h.flags&4&&!El)if(v===null)M.componentDidMount();else{var E=h.elementType===h.type?v.memoizedProps:hs(h.type,v.memoizedProps);M.componentDidUpdate(E,v.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&Bb(h,R,M);break;case 3:var H=h.updateQueue;if(H!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=le(h.child.stateNode);break;case 1:v=h.child.stateNode}Bb(h,H,v)}break;case 5:var ie=h.stateNode;v===null&&h.flags&4&&Ne(ie,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(be&&h.memoizedState===null){var ve=h.alternate;if(ve!==null){var Fe=ve.memoizedState;if(Fe!==null){var et=Fe.dehydrated;et!==null&&he(et)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}El||h.flags&512&&Vx(h)}catch(Mt){Qi(h,h.return,Mt)}}if(h===f){Je=null;break}if(v=h.sibling,v!==null){v.return=h.return,Je=v;break}Je=h.return}}function zT(f){for(;Je!==null;){var h=Je;if(h===f){Je=null;break}var v=h.sibling;if(v!==null){v.return=h.return,Je=v;break}Je=h.return}}function HT(f){for(;Je!==null;){var h=Je;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{_h(4,h)}catch(ve){Qi(h,v,ve)}break;case 1:var M=h.stateNode;if(typeof M.componentDidMount=="function"){var E=h.return;try{M.componentDidMount()}catch(ve){Qi(h,E,ve)}}var R=h.return;try{Vx(h)}catch(ve){Qi(h,R,ve)}break;case 5:var H=h.return;try{Vx(h)}catch(ve){Qi(h,H,ve)}}}catch(ve){Qi(h,h.return,ve)}if(h===f){Je=null;break}var ie=h.sibling;if(ie!==null){ie.return=h.return,Je=ie;break}Je=h.return}}var Lm=0,Im=1,Bm=2,Dm=3,Fm=4;if(typeof Symbol=="function"&&Symbol.for){var Ah=Symbol.for;Lm=Ah("selector.component"),Im=Ah("selector.has_pseudo_class"),Bm=Ah("selector.role"),Dm=Ah("selector.test_id"),Fm=Ah("selector.text")}function Jx(f){var h=xe(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=vt(f),f===null)throw Error(o(362));return f.stateNode.current}function Kx(f,h){switch(h.$$typeof){case Lm:if(f.type===h.value)return!0;break;case Im:e:{h=h.value,f=[f,0];for(var v=0;v<f.length;){var M=f[v++],E=f[v++],R=h[E];if(M.tag!==5||!I(M)){for(;R!=null&&Kx(M,R);)E++,R=h[E];if(E===h.length){h=!0;break e}else for(M=M.child;M!==null;)f.push(M,E),M=M.sibling}}h=!1}return h;case Bm:if(f.tag===5&&Q(f.stateNode,h.value))return!0;break;case Fm:if((f.tag===5||f.tag===6)&&(f=F(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Dm:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Yx(f){switch(f.$$typeof){case Lm:return"<"+(C(f.value)||"Unknown")+">";case Im:return":has("+(Yx(f)||"")+")";case Bm:return'[role="'+f.value+'"]';case Fm:return'"'+f.value+'"';case Dm:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function GT(f,h){var v=[];f=[f,0];for(var M=0;M<f.length;){var E=f[M++],R=f[M++],H=h[R];if(E.tag!==5||!I(E)){for(;H!=null&&Kx(E,H);)R++,H=h[R];if(R===h.length)v.push(E);else for(E=E.child;E!==null;)f.push(E,R),E=E.sibling}}return v}function qx(f,h){if(!lt)throw Error(o(363));f=Jx(f),f=GT(f,h),h=[],f=Array.from(f);for(var v=0;v<f.length;){var M=f[v++];if(M.tag===5)I(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return h}var gz=Math.ceil,Om=a.ReactCurrentDispatcher,$x=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,Dt=0,Hn=null,Gn=null,yi=0,gr=0,du=ei(0),Kn=0,Sh=null,pu=0,km=0,Qx=0,wh=null,qi=null,Zx=0,e_=1/0;function mu(){e_=ii()+500}var Nm=!1,t_=null,fa=null,Um=!1,ha=null,zm=0,Mh=0,n_=null,Hm=-1,Gm=0;function zi(){return Dt&6?ii():Hm!==-1?Hm:Hm=ii()}function da(f){return f.mode&1?Dt&2&&yi!==0?yi&-yi:QU.transition!==null?(Gm===0&&(f=tm,tm<<=1,!(tm&4194240)&&(tm=64),Gm=f),Gm):(f=Wt,f!==0?f:we()):1}function Jr(f,h,v){if(50<Mh)throw Mh=0,n_=null,Error(o(185));var M=Vm(f,h);return M===null?null:(ah(M,h,v),(!(Dt&2)||M!==Hn)&&(M===Hn&&(!(Dt&2)&&(km|=h),Kn===4&&pa(M,yi)),$i(M,v),h===1&&Dt===0&&!(f.mode&1)&&(mu(),sm&&js())),M)}function Vm(f,h){f.lanes|=h;var v=f.alternate;for(v!==null&&(v.lanes|=h),v=f,f=f.return;f!==null;)f.childLanes|=h,v=f.alternate,v!==null&&(v.childLanes|=h),v=f,f=f.return;return v.tag===3?v.stateNode:null}function $i(f,h){var v=f.callbackNode;VU(f,h);var M=im(f,f===Hn?yi:0);if(M===0)v!==null&&Cb(v),f.callbackNode=null,f.callbackPriority=0;else if(h=M&-M,f.callbackPriority!==h){if(v!=null&&Cb(v),h===1)f.tag===0?$U(WT.bind(null,f)):Rb(WT.bind(null,f)),Ge?je(function(){Dt===0&&js()}):ux(fx,js),v=null;else{switch(Tb(M)){case 1:v=fx;break;case 4:v=JU;break;case 16:v=hx;break;case 536870912:v=KU;break;default:v=hx}v=ZT(v,VT.bind(null,f))}f.callbackPriority=h,f.callbackNode=v}}function VT(f,h){if(Hm=-1,Gm=0,Dt&6)throw Error(o(327));var v=f.callbackNode;if(Rl()&&f.callbackNode!==v)return null;var M=im(f,f===Hn?yi:0);if(M===0)return null;if(M&30||M&f.expiredLanes||h)h=Wm(f,M);else{h=M;var E=Dt;Dt|=2;var R=JT();(Hn!==f||yi!==h)&&(mu(),Tl(f,h));do try{xz();break}catch(ie){XT(f,ie)}while(1);mx(),Om.current=R,Dt=E,Gn!==null?h=0:(Hn=null,yi=0,h=Kn)}if(h!==0){if(h===2&&(E=ax(f),E!==0&&(M=E,h=i_(f,E))),h===1)throw v=Sh,Tl(f,0),pa(f,M),$i(f,ii()),v;if(h===6)pa(f,M);else{if(E=f.current.alternate,!(M&30)&&!yz(E)&&(h=Wm(f,M),h===2&&(R=ax(f),R!==0&&(M=R,h=i_(f,R))),h===1))throw v=Sh,Tl(f,0),pa(f,M),$i(f,ii()),v;switch(f.finishedWork=E,f.finishedLanes=M,h){case 0:case 1:throw Error(o(345));case 2:Cl(f,qi);break;case 3:if(pa(f,M),(M&130023424)===M&&(h=Zx+500-ii(),10<h)){if(im(f,0)!==0)break;if(E=f.suspendedLanes,(E&M)!==M){zi(),f.pingedLanes|=f.suspendedLanes&E;break}f.timeoutHandle=Ke(Cl.bind(null,f,qi),h);break}Cl(f,qi);break;case 4:if(pa(f,M),(M&4194240)===M)break;for(h=f.eventTimes,E=-1;0<M;){var H=31-hr(M);R=1<<H,H=h[H],H>E&&(E=H),M&=~R}if(M=E,M=ii()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*gz(M/1960))-M,10<M){f.timeoutHandle=Ke(Cl.bind(null,f,qi),M);break}Cl(f,qi);break;case 5:Cl(f,qi);break;default:throw Error(o(329))}}}return $i(f,ii()),f.callbackNode===v?VT.bind(null,f):null}function i_(f,h){var v=wh;return f.current.memoizedState.isDehydrated&&(Tl(f,h).flags|=256),f=Wm(f,h),f!==2&&(h=qi,qi=v,h!==null&&r_(h)),f}function r_(f){qi===null?qi=f:qi.push.apply(qi,f)}function yz(f){for(var h=f;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var M=0;M<v.length;M++){var E=v[M],R=E.getSnapshot;E=E.value;try{if(!Ws(R(),E))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pa(f,h){for(h&=~Qx,h&=~km,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var v=31-hr(h),M=1<<v;f[v]=-1,h&=~M}}function WT(f){if(Dt&6)throw Error(o(327));Rl();var h=im(f,0);if(!(h&1))return $i(f,ii()),null;var v=Wm(f,h);if(f.tag!==0&&v===2){var M=ax(f);M!==0&&(h=M,v=i_(f,M))}if(v===1)throw v=Sh,Tl(f,0),pa(f,h),$i(f,ii()),v;if(v===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,Cl(f,qi),$i(f,ii()),null}function jT(f){ha!==null&&ha.tag===0&&!(Dt&6)&&Rl();var h=Dt;Dt|=1;var v=Dn.transition,M=Wt;try{if(Dn.transition=null,Wt=1,f)return f()}finally{Wt=M,Dn.transition=v,Dt=h,!(Dt&6)&&js()}}function s_(){gr=du.current,yt(du)}function Tl(f,h){f.finishedWork=null,f.finishedLanes=0;var v=f.timeoutHandle;if(v!==qe&&(f.timeoutHandle=qe,rt(v)),Gn!==null)for(v=Gn.return;v!==null;){var M=v;switch(Sx(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&zn();break;case 3:fu(),yt(bn),yt(Ot),Rx();break;case 5:Tx(M);break;case 4:fu();break;case 13:yt(yn);break;case 19:yt(yn);break;case 10:gx(M.type._context);break;case 22:case 23:s_()}v=v.return}if(Hn=f,Gn=f=ma(f.current,null),yi=gr=h,Kn=0,Sh=null,Qx=km=pu=0,qi=wh=null,Xs!==null){for(h=0;h<Xs.length;h++)if(v=Xs[h],M=v.interleaved,M!==null){v.interleaved=null;var E=M.next,R=v.pending;if(R!==null){var H=R.next;R.next=E,M.next=H}v.pending=M}Xs=null}return f}function XT(f,h){do{var v=Gn;try{if(mx(),gm.current=Sm,ym){for(var M=Tn.memoizedState;M!==null;){var E=M.queue;E!==null&&(E.pending=null),M=M.next}ym=!1}if(hu=0,ri=wi=Tn=null,dh=!1,ph=0,$x.current=null,v===null||v.return===null){Kn=1,Sh=h,Gn=null;break}e:{var R=f,H=v.return,ie=v,ve=h;if(h=yi,ie.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Fe=ve,et=ie,Mt=et.tag;if(!(et.mode&1)&&(Mt===0||Mt===11||Mt===15)){var ht=et.alternate;ht?(et.updateQueue=ht.updateQueue,et.memoizedState=ht.memoizedState,et.lanes=ht.lanes):(et.updateQueue=null,et.memoizedState=null)}var en=dT(H);if(en!==null){en.flags&=-257,pT(en,H,ie,R,h),en.mode&1&&hT(R,Fe,h),h=en,ve=Fe;var at=h.updateQueue;if(at===null){var bi=new Set;bi.add(ve),h.updateQueue=bi}else at.add(ve);break e}else{if(!(h&1)){hT(R,Fe,h),o_();break e}ve=Error(o(426))}}else if(dn&&ie.mode&1){var Yr=dT(H);if(Yr!==null){!(Yr.flags&65536)&&(Yr.flags|=256),pT(Yr,H,ie,R,h),Ex(ve);break e}}R=ve,Kn!==4&&(Kn=2),wh===null?wh=[R]:wh.push(R),ve=Ox(ve,ie),ie=H;do{switch(ie.tag){case 3:ie.flags|=65536,h&=-h,ie.lanes|=h;var fe=uT(ie,ve,h);Ib(ie,fe);break e;case 1:R=ve;var re=ie.type,me=ie.stateNode;if(!(ie.flags&128)&&(typeof re.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(fa===null||!fa.has(me)))){ie.flags|=65536,h&=-h,ie.lanes|=h;var Ye=fT(ie,R,h);Ib(ie,Ye);break e}}ie=ie.return}while(ie!==null)}YT(v)}catch(st){h=st,Gn===v&&v!==null&&(Gn=v=v.return);continue}break}while(1)}function JT(){var f=Om.current;return Om.current=Sm,f===null?Sm:f}function o_(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),Hn===null||!(pu&268435455)&&!(km&268435455)||pa(Hn,yi)}function Wm(f,h){var v=Dt;Dt|=2;var M=JT();Hn===f&&yi===h||Tl(f,h);do try{vz();break}catch(E){XT(f,E)}while(1);if(mx(),Dt=v,Om.current=M,Gn!==null)throw Error(o(261));return Hn=null,yi=0,Kn}function vz(){for(;Gn!==null;)KT(Gn)}function xz(){for(;Gn!==null&&!jU();)KT(Gn)}function KT(f){var h=QT(f.alternate,f,gr);f.memoizedProps=f.pendingProps,h===null?YT(f):Gn=h,$x.current=null}function YT(f){var h=f;do{var v=h.alternate;if(f=h.return,h.flags&32768){if(v=fz(v,h),v!==null){v.flags&=32767,Gn=v;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Kn=6,Gn=null;return}}else if(v=lz(v,h,gr),v!==null){Gn=v;return}if(h=h.sibling,h!==null){Gn=h;return}Gn=h=f}while(h!==null);Kn===0&&(Kn=5)}function Cl(f,h){var v=Wt,M=Dn.transition;try{Dn.transition=null,Wt=1,_z(f,h,v)}finally{Dn.transition=M,Wt=v}return null}function _z(f,h,v){do Rl();while(ha!==null);if(Dt&6)throw Error(o(327));var M=f.finishedWork,E=f.finishedLanes;if(M===null)return null;if(f.finishedWork=null,f.finishedLanes=0,M===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var R=M.lanes|M.childLanes;if(WU(f,R),f===Hn&&(Gn=Hn=null,yi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Um||(Um=!0,ZT(hx,function(){return Rl(),null})),R=(M.flags&15990)!==0,M.subtreeFlags&15990||R){R=Dn.transition,Dn.transition=null;var H=Wt;Wt=1;var ie=Dt;Dt|=4,$x.current=null,dz(f,M),pz(f,M),q(f.containerInfo),f.current=M,mz(M),XU(),Dt=ie,Wt=H,Dn.transition=R}else f.current=M;if(Um&&(Um=!1,ha=f,zm=E),R=f.pendingLanes,R===0&&(fa=null),YU(M.stateNode),$i(f,ii()),h!==null)for(v=f.onRecoverableError,M=0;M<h.length;M++)v(h[M]);if(Nm)throw Nm=!1,f=t_,t_=null,f;return zm&1&&f.tag!==0&&Rl(),R=f.pendingLanes,R&1?f===n_?Mh++:(Mh=0,n_=f):Mh=0,js(),null}function Rl(){if(ha!==null){var f=Tb(zm),h=Dn.transition,v=Wt;try{if(Dn.transition=null,Wt=16>f?16:f,ha===null)var M=!1;else{if(f=ha,ha=null,zm=0,Dt&6)throw Error(o(331));var E=Dt;for(Dt|=4,Je=f.current;Je!==null;){var R=Je,H=R.child;if(Je.flags&16){var ie=R.deletions;if(ie!==null){for(var ve=0;ve<ie.length;ve++){var Fe=ie[ve];for(Je=Fe;Je!==null;){var et=Je;switch(et.tag){case 0:case 11:case 15:bl(8,et,R)}var Mt=et.child;if(Mt!==null)Mt.return=et,Je=Mt;else for(;Je!==null;){et=Je;var ht=et.sibling,en=et.return;if(BT(et),et===Fe){Je=null;break}if(ht!==null){ht.return=en,Je=ht;break}Je=en}}}var at=R.alternate;if(at!==null){var bi=at.child;if(bi!==null){at.child=null;do{var Yr=bi.sibling;bi.sibling=null,bi=Yr}while(bi!==null)}}Je=R}}if(R.subtreeFlags&2064&&H!==null)H.return=R,Je=H;else e:for(;Je!==null;){if(R=Je,R.flags&2048)switch(R.tag){case 0:case 11:case 15:bl(9,R,R.return)}var fe=R.sibling;if(fe!==null){fe.return=R.return,Je=fe;break e}Je=R.return}}var re=f.current;for(Je=re;Je!==null;){H=Je;var me=H.child;if(H.subtreeFlags&2064&&me!==null)me.return=H,Je=me;else e:for(H=re;Je!==null;){if(ie=Je,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:_h(9,ie)}}catch(st){Qi(ie,ie.return,st)}if(ie===H){Je=null;break e}var Ye=ie.sibling;if(Ye!==null){Ye.return=ie.return,Je=Ye;break e}Je=ie.return}}if(Dt=E,js(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(rm,f)}catch{}M=!0}return M}finally{Wt=v,Dn.transition=h}}return!1}function qT(f,h,v){h=Ox(v,h),h=uT(f,h,1),ua(f,h),h=zi(),f=Vm(f,1),f!==null&&(ah(f,1,h),$i(f,h))}function Qi(f,h,v){if(f.tag===3)qT(f,f,v);else for(;h!==null;){if(h.tag===3){qT(h,f,v);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(fa===null||!fa.has(M))){f=Ox(v,f),f=fT(h,f,1),ua(h,f),f=zi(),h=Vm(h,1),h!==null&&(ah(h,1,f),$i(h,f));break}}h=h.return}}function Az(f,h,v){var M=f.pingCache;M!==null&&M.delete(h),h=zi(),f.pingedLanes|=f.suspendedLanes&v,Hn===f&&(yi&v)===v&&(Kn===4||Kn===3&&(yi&130023424)===yi&&500>ii()-Zx?Tl(f,0):Qx|=v),$i(f,h)}function $T(f,h){h===0&&(f.mode&1?(h=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):h=1);var v=zi();f=Vm(f,h),f!==null&&(ah(f,h,v),$i(f,v))}function Sz(f){var h=f.memoizedState,v=0;h!==null&&(v=h.retryLane),$T(f,v)}function wz(f,h){var v=0;switch(f.tag){case 13:var M=f.stateNode,E=f.memoizedState;E!==null&&(v=E.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(h),$T(f,v)}var QT;QT=function(f,h,v){if(f!==null)if(f.memoizedProps!==h.pendingProps||bn.current)mr=!0;else{if(!(f.lanes&v)&&!(h.flags&128))return mr=!1,uz(f,h,v);mr=!!(f.flags&131072)}else mr=!1,dn&&h.flags&1048576&&Nb(h,dm,h.index);switch(h.lanes=0,h.tag){case 2:var M=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var E=Hr(h,Ot.current);su(h,v),E=Lx(null,h,M,f,E,v);var R=Ix();return h.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ti(M)?(R=!0,ni(h)):R=!1,h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,vx(h),E.updater=fm,h.stateNode=E,E._reactInternals=h,_x(h,M,f,v),h=Ux(null,h,M,!0,R,v)):(h.tag=0,dn&&R&&Ax(h),Ui(null,h,E,v),h=h.child),h;case 16:M=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,E=M._init,M=E(M._payload),h.type=M,E=h.tag=Ez(M),f=hs(M,f),E){case 0:h=Nx(null,h,M,f,v);break e;case 1:h=ST(null,h,M,f,v);break e;case 11:h=yT(null,h,M,f,v);break e;case 14:h=vT(null,h,M,hs(M.type,f),v);break e}throw Error(o(306,M,""))}return h;case 0:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:hs(M,E),Nx(f,h,M,E,v);case 1:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:hs(M,E),ST(f,h,M,E,v);case 3:e:{if(wT(h),f===null)throw Error(o(387));M=h.pendingProps,R=h.memoizedState,E=R.element,Lb(f,h),um(h,M,null,v);var H=h.memoizedState;if(M=H.element,be&&R.isDehydrated)if(R={element:M,isDehydrated:!1,cache:H.cache,transitions:H.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){E=Error(o(423)),h=MT(f,h,M,v,E);break e}else if(M!==E){E=Error(o(424)),h=MT(f,h,M,v,E);break e}else for(be&&(pr=aa(h.stateNode.containerInfo),dr=h,dn=!0,ds=null,lh=!1),v=Wb(h,null,M,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(lu(),M===E){h=Eo(f,h,v);break e}Ui(f,h,M,v)}h=h.child}return h;case 5:return jb(h),f===null&&Mx(h),M=h.type,E=h.pendingProps,R=f!==null?f.memoizedProps:null,H=E.children,Ee(M,E)?H=null:R!==null&&Ee(M,R)&&(h.flags|=32),AT(f,h),Ui(f,h,H,v),h.child;case 6:return f===null&&Mx(h),null;case 13:return ET(f,h,v);case 4:return bx(h,h.stateNode.containerInfo),M=h.pendingProps,f===null?h.child=cu(h,null,M,v):Ui(f,h,M,v),h.child;case 11:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:hs(M,E),yT(f,h,M,E,v);case 7:return Ui(f,h,h.pendingProps,v),h.child;case 8:return Ui(f,h,h.pendingProps.children,v),h.child;case 12:return Ui(f,h,h.pendingProps.children,v),h.child;case 10:e:{if(M=h.type._context,E=h.pendingProps,R=h.memoizedProps,H=E.value,Pb(h,M,H),R!==null)if(Ws(R.value,H)){if(R.children===E.children&&!bn.current){h=Eo(f,h,v);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var ie=R.dependencies;if(ie!==null){H=R.child;for(var ve=ie.firstContext;ve!==null;){if(ve.context===M){if(R.tag===1){ve=Ao(-1,v&-v),ve.tag=2;var Fe=R.updateQueue;if(Fe!==null){Fe=Fe.shared;var et=Fe.pending;et===null?ve.next=ve:(ve.next=et.next,et.next=ve),Fe.pending=ve}}R.lanes|=v,ve=R.alternate,ve!==null&&(ve.lanes|=v),yx(R.return,v,h),ie.lanes|=v;break}ve=ve.next}}else if(R.tag===10)H=R.type===h.type?null:R.child;else if(R.tag===18){if(H=R.return,H===null)throw Error(o(341));H.lanes|=v,ie=H.alternate,ie!==null&&(ie.lanes|=v),yx(H,v,h),H=R.sibling}else H=R.child;if(H!==null)H.return=R;else for(H=R;H!==null;){if(H===h){H=null;break}if(R=H.sibling,R!==null){R.return=H.return,H=R;break}H=H.return}R=H}Ui(f,h,E.children,v),h=h.child}return h;case 9:return E=h.type,M=h.pendingProps.children,su(h,v),E=Gr(E),M=M(E),h.flags|=1,Ui(f,h,M,v),h.child;case 14:return M=h.type,E=hs(M,h.pendingProps),E=hs(M.type,E),vT(f,h,M,E,v);case 15:return xT(f,h,h.type,h.pendingProps,v);case 17:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:hs(M,E),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,ti(M)?(f=!0,ni(h)):f=!1,su(h,v),Ob(h,M,E),_x(h,M,E,v),Ux(null,h,M,!0,f,v);case 19:return RT(f,h,v);case 22:return _T(f,h,v)}throw Error(o(156,h.tag))};function ZT(f,h){return ux(f,h)}function Mz(f,h,v,M){this.tag=f,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(f,h,v,M){return new Mz(f,h,v,M)}function a_(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ez(f){if(typeof f=="function")return a_(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===A)return 14}return 2}function ma(f,h){var v=f.alternate;return v===null?(v=Kr(f.tag,h,f.key,f.mode),v.elementType=f.elementType,v.type=f.type,v.stateNode=f.stateNode,v.alternate=f,f.alternate=v):(v.pendingProps=h,v.type=f.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=f.flags&14680064,v.childLanes=f.childLanes,v.lanes=f.lanes,v.child=f.child,v.memoizedProps=f.memoizedProps,v.memoizedState=f.memoizedState,v.updateQueue=f.updateQueue,h=f.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=f.sibling,v.index=f.index,v.ref=f.ref,v}function jm(f,h,v,M,E,R){var H=2;if(M=f,typeof f=="function")a_(f)&&(H=1);else if(typeof f=="string")H=5;else e:switch(f){case u:return Pl(v.children,E,R,h);case d:H=8,E|=8;break;case p:return f=Kr(12,v,h,E|2),f.elementType=p,f.lanes=R,f;case _:return f=Kr(13,v,h,E),f.elementType=_,f.lanes=R,f;case g:return f=Kr(19,v,h,E),f.elementType=g,f.lanes=R,f;case w:return Xm(v,E,R,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:H=10;break e;case y:H=9;break e;case x:H=11;break e;case A:H=14;break e;case S:H=16,M=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=Kr(H,v,h,E),h.elementType=f,h.type=M,h.lanes=R,h}function Pl(f,h,v,M){return f=Kr(7,f,M,h),f.lanes=v,f}function Xm(f,h,v,M){return f=Kr(22,f,M,h),f.elementType=w,f.lanes=v,f.stateNode={},f}function l_(f,h,v){return f=Kr(6,f,null,h),f.lanes=v,f}function c_(f,h,v){return h=Kr(4,f.children!==null?f.children:[],f.key,h),h.lanes=v,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function bz(f,h,v,M,E){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lx(0),this.expirationTimes=lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lx(0),this.identifierPrefix=M,this.onRecoverableError=E,be&&(this.mutableSourceEagerHydrationData=null)}function eC(f,h,v,M,E,R,H,ie,ve){return f=new bz(f,h,v,ie,ve),h===1?(h=1,R===!0&&(h|=8)):h=0,R=Kr(3,null,null,h),f.current=R,R.stateNode=f,R.memoizedState={element:M,isDehydrated:v,cache:null,transitions:null},vx(R),f}function tC(f){if(!f)return zr;f=f._reactInternals;e:{if(P(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ti(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var v=f.type;if(ti(v))return nu(f,v,h)}return h}function nC(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=te(h),f===null?null:f.stateNode}function iC(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var v=f.retryLane;f.retryLane=v!==0&&v<h?v:h}}function u_(f,h){iC(f,h),(f=f.alternate)&&iC(f,h)}function Tz(f){return f=te(f),f===null?null:f.stateNode}function Cz(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=zi();Jr(f,134217728,h),u_(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=zi(),v=da(f);Jr(f,v,h),u_(f,v)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var v=oh(h.pendingLanes);v!==0&&(cx(h,v|1),$i(h,ii()),!(Dt&6)&&(mu(),js()))}break;case 13:var M=zi();jT(function(){return Jr(f,1,M)}),u_(f,1)}},t.batchedUpdates=function(f,h){var v=Dt;Dt|=1;try{return f(h)}finally{Dt=v,Dt===0&&(mu(),sm&&js())}},t.createComponentSelector=function(f){return{$$typeof:Lm,value:f}},t.createContainer=function(f,h,v,M,E,R,H){return eC(f,h,!1,null,v,M,E,R,H)},t.createHasPseudoClassSelector=function(f){return{$$typeof:Im,value:f}},t.createHydrationContainer=function(f,h,v,M,E,R,H,ie,ve){return f=eC(v,M,!0,f,E,R,H,ie,ve),f.context=tC(null),v=f.current,M=zi(),E=da(v),R=Ao(M,E),R.callback=h??null,ua(v,R),f.current.lanes=E,ah(f,E,M),$i(f,M),f},t.createPortal=function(f,h,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:f,containerInfo:h,implementation:v}},t.createRoleSelector=function(f){return{$$typeof:Bm,value:f}},t.createTestNameSelector=function(f){return{$$typeof:Dm,value:f}},t.createTextSelector=function(f){return{$$typeof:Fm,value:f}},t.deferredUpdates=function(f){var h=Wt,v=Dn.transition;try{return Dn.transition=null,Wt=16,f()}finally{Wt=h,Dn.transition=v}},t.discreteUpdates=function(f,h,v,M,E){var R=Wt,H=Dn.transition;try{return Dn.transition=null,Wt=1,f(h,v,M,E)}finally{Wt=R,Dn.transition=H,Dt===0&&mu()}},t.findAllNodes=qx,t.findBoundingRects=function(f,h){if(!lt)throw Error(o(363));h=qx(f,h),f=[];for(var v=0;v<h.length;v++)f.push(se(h[v]));for(h=f.length-1;0<h;h--){v=f[h];for(var M=v.x,E=M+v.width,R=v.y,H=R+v.height,ie=h-1;0<=ie;ie--)if(h!==ie){var ve=f[ie],Fe=ve.x,et=Fe+ve.width,Mt=ve.y,ht=Mt+ve.height;if(M>=Fe&&R>=Mt&&E<=et&&H<=ht){f.splice(h,1);break}else if(M!==Fe||v.width!==ve.width||ht<R||Mt>H){if(!(R!==Mt||v.height!==ve.height||et<M||Fe>E)){Fe>M&&(ve.width+=Fe-M,ve.x=M),et<E&&(ve.width=E-Fe),f.splice(h,1);break}}else{Mt>R&&(ve.height+=Mt-R,ve.y=R),ht<H&&(ve.height=H-Mt),f.splice(h,1);break}}}return f},t.findHostInstance=nC,t.findHostInstanceWithNoPortals=function(f){return f=U(f),f=f!==null?V(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return nC(f)},t.flushControlled=function(f){var h=Dt;Dt|=1;var v=Dn.transition,M=Wt;try{Dn.transition=null,Wt=1,f()}finally{Wt=M,Dn.transition=v,Dt=h,Dt===0&&(mu(),js())}},t.flushPassiveEffects=Rl,t.flushSync=jT,t.focusWithin=function(f,h){if(!lt)throw Error(o(363));for(f=Jx(f),h=GT(f,h),h=Array.from(h),f=0;f<h.length;){var v=h[f++];if(!I(v)){if(v.tag===5&&ge(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Wt},t.getFindAllNodesFailureDescription=function(f,h){if(!lt)throw Error(o(363));var v=0,M=[];f=[Jx(f),0];for(var E=0;E<f.length;){var R=f[E++],H=f[E++],ie=h[H];if((R.tag!==5||!I(R))&&(Kx(R,ie)&&(M.push(Yx(ie)),H++,H>v&&(v=H)),H<h.length))for(R=R.child;R!==null;)f.push(R,H),R=R.sibling}if(v<h.length){for(f=[];v<h.length;v++)f.push(Yx(h[v]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return le(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Tz,findFiberByHostInstance:f.findFiberByHostInstance||Cz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{rm=h.inject(f),Vs=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,v,M){if(!lt)throw Error(o(363));f=qx(f,h);var E=pe(f,v,M).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(f,h){var v=h._getVersion;v=v(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,v]:f.mutableSourceEagerHydrationData.push(h,v)},t.runWithPriority=function(f,h){var v=Wt;try{return Wt=f,h()}finally{Wt=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,v,M){var E=h.current,R=zi(),H=da(E);return v=tC(v),h.context===null?h.context=v:h.pendingContext=v,h=Ao(R,H),h.payload={element:f},M=M===void 0?null:M,M!==null&&(h.callback=M),ua(E,h),f=Jr(E,H,R),f!==null&&cm(f,E,H),H},t};hU.exports=vae;var xae=hU.exports;const _ae=$f(xae),Aae=n=>typeof n=="object"&&typeof n.then=="function",dc=[];function mU(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function gU(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of dc)if(mU(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=dc.indexOf(r);s!==-1&&dc.splice(s,1)},promise:(Aae(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(dc.push(r),!t)throw r.promise}const Sae=(n,e,t)=>gU(n,e,!1,t),wae=(n,e,t)=>void gU(n,e,!0,t),Mae=n=>{if(n===void 0||n.length===0)dc.splice(0,dc.length);else{const e=dc.find(t=>mU(n,t.keys,t.equal));e&&e.remove()}},Sb={},Eae=n=>void Object.assign(Sb,n);function bae(n,e){function t(u,{args:d=[],attach:p,...m},y){let x=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;_=Hu(g,{type:u,root:y,attach:p,primitive:!0})}else{const g=Sb[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=Hu(new g(...d),{type:u,root:y,attach:p,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof Tt?_.__r3f.attach="geometry":_ instanceof Xn&&(_.__r3f.attach="material")),x!=="inject"&&rS(_,m),_}function i(u,d){let p=!1;if(d){var m,y;(m=d.__r3f)!=null&&m.attach?iS(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||Hu(d,{}),d.__r3f.parent=u,F1(d),Gu(d)}}function r(u,d,p){let m=!1;if(d){var y,x;if((y=d.__r3f)!=null&&y.attach)iS(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const _=u.children.filter(A=>A!==d),g=_.indexOf(p);u.children=[..._.slice(0,g),d,..._.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(d),d.__r3f||Hu(d,{}),d.__r3f.parent=u,F1(d),Gu(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,y,x;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==d)),(y=d.__r3f)!=null&&y.attach)pI(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var _;u.remove(d),(_=d.__r3f)!=null&&_.root&&Fae(d.__r3f.root,d)}const A=(x=d.__r3f)==null?void 0:x.primitive,S=!A&&(p===void 0?d.dispose!==null:p);if(!A){var g;s((g=d.__r3f)==null?void 0:g.objects,d,S),s(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const w=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?B1.unstable_scheduleCallback(B1.unstable_IdlePriority,w):w()}Gu(u)}}function a(u,d,p,m){var y;const x=(y=u.__r3f)==null?void 0:y.parent;if(!x)return;const _=t(d,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&i(_,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>i(_,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(x,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=_,g.ref&&(typeof g.ref=="function"?g.ref(_):g.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:_ae({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,i(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,m){var y;if(((y=u==null?void 0:u.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:g,...A}=m,{args:S=[],children:w,...b}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((C,B)=>C!==S[B]))return[!0];const T=wU(u,A,b,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[d,p],m,y,x,_){d?a(u,m,x,_):rS(u,p)},commitMount(u,d,p,m){var y;const x=(y=u.__r3f)!=null?y:{};u.raycast&&x.handlers&&x.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Hu(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&pI(m,u,p),u.isObject3D&&(u.visible=!1),Gu(u)},unhideInstance(u,d){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&iS(y,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Gu(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():pf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&cn.fun(performance.now)?performance.now:cn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:cn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:cn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:rS}}var uI,fI;const nS=n=>"colorSpace"in n||"outputColorSpace"in n,yU=()=>{var n;return(n=Sb.ColorManagement)!=null?n:null},vU=n=>n&&n.isOrthographicCamera,Tae=n=>n&&n.hasOwnProperty("current"),Qp=typeof window<"u"&&((uI=window.document)!=null&&uI.createElement||((fI=window.navigator)==null?void 0:fI.product)==="ReactNative")?O.useLayoutEffect:O.useEffect;function xU(n){const e=O.useRef(n);return Qp(()=>void(e.current=n),[n]),e}function Cae({set:n}){return Qp(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class _U extends O.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}_U.getDerivedStateFromError=()=>({error:!0});const AU="__default",hI=new Map,Rae=n=>n&&!!n.memoized&&!!n.changes;function SU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const $h=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},cn={obj:n=>n===Object(n)&&!cn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(cn.str(n)||cn.num(n))return n===e;const s=cn.obj(n);if(s&&i==="reference")return n===e;const o=cn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!cn.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(cn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Pae(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Lae(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Hu(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function D1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const dI=/-\d+$/;function iS(n,e,t){if(cn.str(t)){if(dI.test(t)){const s=t.replace(dI,""),{target:o,key:a}=D1(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=D1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function pI(n,e,t){var i,r;if(cn.str(t)){const{target:s,key:o}=D1(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function wU(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(r),m=[];if(c){const x=Object.keys(l);for(let _=0;_<x.length;_++)r.hasOwnProperty(x[_])||p.unshift([x[_],AU+"remove"])}p.forEach(([x,_])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&x==="object"||cn.equ(_,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,_,!0,[]]);let A=[];x.includes("-")&&(A=x.split("-")),m.push([x,_,!1,A]);for(const S in r){const w=r[S];S.startsWith(`${x}-`)&&m.push([S,w,!1,S.split("-")])}});const y={...r};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:m}}const Iae=typeof process<"u"&&!1;function rS(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=Rae(e)?e:wU(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,x,_]=c[p];if(nS(n)){const w="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?w:b):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?w:b)}let g=n,A=g[m];if(_.length&&(A=_.reduce((S,w)=>S[w],n),!(A&&A.set))){const[S,...w]=_.reverse();g=w.reverse().reduce((b,T)=>b[T],n),m=S}if(y===AU+"remove")if(g.constructor){let S=hI.get(g.constructor);S||(S=new g.constructor,hI.set(g.constructor,S)),y=S[m]}else y=0;if(x)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Ac)){if(Array.isArray(y))A.fromArray?A.fromArray(y):A.set(...y);else if(A.copy&&y&&y.constructor&&(Iae?A.constructor.name===y.constructor.name:A.constructor===y.constructor))A.copy(y);else if(y!==void 0){const S=A instanceof We;!S&&A.setScalar?A.setScalar(y):A instanceof Ac&&y instanceof Ac?A.mask=y.mask:A.set(y),!yU()&&!a.linear&&S&&A.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof mn&&g[m].format===rr&&g[m].type===ao){const S=g[m];nS(S)&&nS(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}Gu(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&F1(n),n}function Gu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function F1(n){n.onUpdate==null||n.onUpdate(n)}function Bae(n,e){n.manual||(vU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function ay(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Dae(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return pf.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return pf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return pf.ContinuousEventPriority;default:return pf.DefaultEventPriority}}function MU(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Fae(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{MU(t.capturedMap,e,i,r)})}function Oae(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=n.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const A=$h(m[g]);A&&(A.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(g){const A=$h(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var S;A.events.compute==null||A.events.compute(l,A,(S=A.previousRoot)==null?void 0:S.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(y).sort((g,A)=>{const S=$h(g.object),w=$h(A.object);return!S||!w?g.distance-A.distance:w.events.priority-S.events.priority||g.distance-A.distance}).filter(g=>{const A=ay(g);return d.has(A)?!1:(d.add(A),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let A=g.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())d.has(ay(g.intersection))||p.push(g.intersection);return p}function r(l,c,u,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const x=$h(y.object)||p,{raycaster:_,pointer:g,camera:A,internal:S}=x,w=new N(g.x,g.y,0).unproject(A),b=L=>{var U,te;return(U=(te=S.capturedMap.get(L))==null?void 0:te.has(y.eventObject))!=null?U:!1},T=L=>{const U={intersection:y,target:c.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(y.eventObject,U):S.capturedMap.set(L,new Map([[y.eventObject,U]])),c.target.setPointerCapture(L)},C=L=>{const U=S.capturedMap.get(L);U&&MU(S.capturedMap,y.eventObject,U,L)};let B={};for(let L in c){let U=c[L];typeof U!="function"&&(B[L]=U)}let P={...y,...B,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:w,ray:_.ray,camera:A,stopPropagation(){const L="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!L||L.has(y.eventObject))&&(P.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=l.slice(0,l.indexOf(y));s([...U,y])}},target:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:C},currentTarget:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:C},nativeEvent:c};if(d(P),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(ay(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(u,m?t:void 0),g=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=_.map(S=>S.eventObject)),y&&!_.length&&g<=2&&(o(u,p.interaction),d&&d(u)),m&&s(_);function A(S){const w=S.eventObject,b=w.__r3f,T=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const C=ay(S),B=p.hovered.get(C);B?B.stopped&&S.stopPropagation():(p.hovered.set(C,S),T.onPointerOver==null||T.onPointerOver(S),T.onPointerEnter==null||T.onPointerEnter(S))}T.onPointerMove==null||T.onPointerMove(S)}else{const C=T[l];C?(!y||p.initialHits.includes(w))&&(o(u,p.interaction.filter(B=>!p.initialHits.includes(B))),C(S)):y&&p.initialHits.includes(w)&&o(u,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(_,u,g,A)}}return{handlePointer:a}}const EU=n=>!!(n!=null&&n.render),bU=O.createContext(null),kae=(n,e)=>{const t=yae((a,l)=>{const c=new N,u=new N,d=new N;function p(g=l().camera,A=u,S=l().size){const{width:w,height:b,top:T,left:C}=S,B=w/b;A instanceof N?d.copy(A):d.set(...A);const P=g.getWorldPosition(c).distanceTo(d);if(vU(g))return{width:w/g.zoom,height:b/g.zoom,top:T,left:C,factor:1,distance:P,aspect:B};{const L=g.fov*Math.PI/180,U=2*Math.tan(L/2)*P,te=U*(w/b);return{width:te,height:U,top:T,left:C,factor:w/te,distance:P,aspect:B}}}let m;const y=g=>a(A=>({performance:{...A.performance,current:g}})),x=new Ae;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vb,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,S,w,b)=>{const T=l().camera,C={width:g,height:A,top:w||0,left:b||0,updateStyle:S};a(B=>({size:C,viewport:{...B.viewport,...p(T,u,C)}}))},setDpr:g=>a(A=>{const S=SU(g);return{viewport:{...A.viewport,dpr:S,initialDpr:A.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:O.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,S)=>{const w=l().internal;return w.priority=w.priority+(A>0?1:0),w.subscribers.push({ref:g,priority:A,store:S}),w.subscribers=w.subscribers.sort((b,T)=>b.priority-T.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(A>0?1:0),b.subscribers=b.subscribers.filter(T=>T.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,Bae(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let ly,Nae=new Set,Uae=new Set,zae=new Set;function sS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Qh(n,e){switch(n){case"before":return sS(Nae,e);case"after":return sS(Uae,e);case"tail":return sS(zae,e)}}let oS,aS;function lS(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),oS=e.internal.subscribers,ly=0;ly<oS.length;ly++)aS=oS[ly],aS.ref.current(aS.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Hae(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Qh("before",l);for(const u of n.values()){var c;r=u.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=lS(l,r))}if(Qh("after",l),t===0)return Qh("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var u;if(!l)return n.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&Qh("before",l),u)lS(l,u,d);else for(const p of n.values())lS(l,p.store.getState());c&&Qh("after",l)}return{loop:s,invalidate:o,advance:a}}function TU(){const n=O.useContext(bU);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function wr(n=t=>t,e){return TU()(n,e)}function wb(n,e=0){const t=TU(),i=t.getState().internal.subscribe,r=xU(n);return Qp(()=>i(r,e,t),[e,i,t]),null}const mI=new WeakMap;function CU(n,e){return function(t,...i){let r=mI.get(t);return r||(r=new t,mI.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Pae(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function Zp(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Sae(CU(t,i),[n,...r],{equal:cn.equ});return Array.isArray(e)?s:s[0]}Zp.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return wae(CU(t),[n,...i])};Zp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Mae([n,...t])};const Yf=new Map,{invalidate:gI,advance:yI}=Hae(Yf),{reconciler:k0,applyProps:Uu}=bae(Yf,Dae),zu={objects:"shallow",strict:!1},Gae=(n,e)=>{const t=typeof n=="function"?n(e):n;return EU(t)?t:new $E({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Vae(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Wae(n){const e=Yf.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||kae(gI,yI),o=t||k0.createContainer(s,pf.ConcurrentRoot,null,!1,null,"",r,null);e||Yf.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:y,onCreated:x,shadows:_=!1,linear:g=!1,flat:A=!1,legacy:S=!1,orthographic:w=!1,frameloop:b="always",dpr:T=[1,2],performance:C,raycaster:B,camera:P,onPointerMissed:L}=u,U=s.getState(),te=U.gl;U.gl||U.set({gl:te=Gae(d,n)});let ne=U.raycaster;ne||U.set({raycaster:ne=new cU});const{params:V,...$}=B||{};if(cn.equ($,ne,zu)||Uu(ne,{...$}),cn.equ(V,ne.params,zu)||Uu(ne,{params:{...ne.params,...V}}),!U.camera||U.camera===c&&!cn.equ(c,P,zu)){c=P;const J=P instanceof Vp,_e=J?P:w?new no(0,0,0,0,.1,1e3):new _n(75,0,.1,1e3);J||(_e.position.z=5,P&&Uu(_e,P),!U.camera&&!(P!=null&&P.rotation)&&_e.lookAt(0,0,0)),U.set({camera:_e}),ne.camera=_e}if(!U.scene){let J;m instanceof F0?J=m:(J=new F0,m&&Uu(J,m)),U.set({scene:Hu(J)})}if(!U.xr){var le;const J=(Ee,ke)=>{const Ke=s.getState();Ke.frameloop!=="never"&&yI(Ee,!0,Ke,ke)},_e=()=>{const Ee=s.getState();Ee.gl.xr.enabled=Ee.gl.xr.isPresenting,Ee.gl.xr.setAnimationLoop(Ee.gl.xr.isPresenting?J:null),Ee.gl.xr.isPresenting||gI(Ee)},Me={connect(){const Ee=s.getState().gl;Ee.xr.addEventListener("sessionstart",_e),Ee.xr.addEventListener("sessionend",_e)},disconnect(){const Ee=s.getState().gl;Ee.xr.removeEventListener("sessionstart",_e),Ee.xr.removeEventListener("sessionend",_e)}};typeof((le=te.xr)==null?void 0:le.addEventListener)=="function"&&Me.connect(),U.set({xr:Me})}if(te.shadowMap){const J=te.shadowMap.enabled,_e=te.shadowMap.type;if(te.shadowMap.enabled=!!_,cn.boo(_))te.shadowMap.type=Cd;else if(cn.str(_)){var ue;const Me={basic:sk,percentage:Iv,soft:Cd,variance:Ss};te.shadowMap.type=(ue=Me[_])!=null?ue:Cd}else cn.obj(_)&&Object.assign(te.shadowMap,_);(J!==te.shadowMap.enabled||_e!==te.shadowMap.type)&&(te.shadowMap.needsUpdate=!0)}const G=yU();G&&("enabled"in G?G.enabled=!S:"legacyMode"in G&&(G.legacyMode=S)),Uu(te,{outputEncoding:g?3e3:3001,toneMapping:A?oo:IE}),U.legacy!==S&&U.set(()=>({legacy:S})),U.linear!==g&&U.set(()=>({linear:g})),U.flat!==A&&U.set(()=>({flat:A})),d&&!cn.fun(d)&&!EU(d)&&!cn.equ(d,te,zu)&&Uu(te,d),y&&!U.events.handlers&&U.set({events:y(s)});const z=Vae(n,p);return cn.equ(z,U.size,zu)||U.setSize(z.width,z.height,z.updateStyle,z.top,z.left),T&&U.viewport.dpr!==SU(T)&&U.setDpr(T),U.frameloop!==b&&U.setFrameloop(b),U.onPointerMissed||U.set({onPointerMissed:L}),C&&!cn.equ(C,U.performance,zu)&&U.set(J=>({performance:{...J.performance,...C}})),a=x,l=!0,this},render(u){return l||this.configure(),k0.updateContainer(O.createElement(jae,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){RU(n)}}}function jae({store:n,children:e,onCreated:t,rootElement:i}){return Qp(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),O.createElement(bU.Provider,{value:n},e)}function RU(n,e){const t=Yf.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),k0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Lae(r),Yf.delete(n),e&&e(n)}catch{}},500)})}}k0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:O.version});function qf(){return qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qf.apply(this,arguments)}function O1(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=t&&!i;return i||(i=setTimeout(l,e)),u&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}O1.debounce=O1;var Xae=O1;const vI=$f(Xae);function Jae(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=O.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=O.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=O.useRef(!1);O.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,y]=O.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:S,top:w,width:b,height:T,bottom:C,right:B,x:P,y:L}=l.current.element.getBoundingClientRect(),U={left:S,top:w,width:b,height:T,bottom:C,right:B,x:P,y:L};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),d.current&&!$ae(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[A,u?vI(A,u):A,c?vI(A,c):A]},[a,r,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=A=>{!A||A===l.current.element||(x(),l.current.element=A,l.current.scrollContainers=PU(A),_())};return Yae(y,!!t),Kae(m),O.useEffect(()=>{x(),_()},[t,y,m]),O.useEffect(()=>x,[]),[g,o,p]}function Kae(n){O.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Yae(n,e){O.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function PU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...PU(n.parentElement)]}const qae=["x","y","top","bottom","left","right","width","height"],$ae=(n,e)=>qae.every(t=>n[t]===e[t]);var Qae=Object.defineProperty,Zae=Object.defineProperties,ele=Object.getOwnPropertyDescriptors,xI=Object.getOwnPropertySymbols,tle=Object.prototype.hasOwnProperty,nle=Object.prototype.propertyIsEnumerable,_I=(n,e,t)=>e in n?Qae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,AI=(n,e)=>{for(var t in e||(e={}))tle.call(e,t)&&_I(n,t,e[t]);if(xI)for(var t of xI(e))nle.call(e,t)&&_I(n,t,e[t]);return n},ile=(n,e)=>Zae(n,ele(e));function LU(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=LU(i,e,t);if(r)return r;i=e?null:i.sibling}}function IU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Mb=IU(O.createContext(null));class BU extends O.Component{render(){return O.createElement(Mb.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:SI,ReactCurrentDispatcher:wI}=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function rle(){const n=O.useContext(Mb);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=O.useId();return O.useMemo(()=>{for(const i of[SI==null?void 0:SI.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=LU(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function sle(){var n,e;const t=rle(),[i]=O.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==Mb&&!i.has(s)&&i.set(s,(e=wI==null?void 0:wI.current)==null?void 0:e.readContext(IU(s))),r=r.return}return i}function ole(){const n=sle();return O.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>O.createElement(e,null,O.createElement(t.Provider,ile(AI({},i),{value:n.get(t)}))),e=>O.createElement(BU,AI({},e))),[n])}const cS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ale(n){const{handlePointer:e}=Oae(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(cS).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=cS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=cS[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const lle=O.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=ale,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:_,raycaster:g,camera:A,scene:S,onPointerMissed:w,onCreated:b,...T},C){O.useMemo(()=>Eae(pae),[]);const B=ole(),[P,L]=Jae({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=O.useRef(null),te=O.useRef(null);O.useImperativeHandle(C,()=>U.current);const ne=xU(w),[V,$]=O.useState(!1),[le,ue]=O.useState(!1);if(V)throw V;if(le)throw le;const G=O.useRef(null);Qp(()=>{const q=U.current;L.width>0&&L.height>0&&q&&(G.current||(G.current=Wae(q)),G.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:_,raycaster:g,camera:A,scene:S,size:L,onPointerMissed:(...z)=>ne.current==null?void 0:ne.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?Tae(a)?a.current:a:te.current),l&&z.setEvents({compute:(J,_e)=>{const Me=J[l+"X"],Ee=J[l+"Y"];_e.pointer.set(Me/_e.size.width*2-1,-(Ee/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),b==null||b(z)}}),G.current.render(O.createElement(B,null,O.createElement(_U,{set:ue},O.createElement(O.Suspense,{fallback:O.createElement(Cae,{set:$})},e)))))}),O.useEffect(()=>{const q=U.current;if(q)return()=>RU(q)},[]);const Y=a?"none":"auto";return O.createElement("div",qf({ref:te,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...r}},T),O.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},O.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),DU=O.forwardRef(function(e,t){return O.createElement(BU,null,O.createElement(lle,qf({},e,{ref:t})))});function cle(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function MI(n,e){if(e===Kk)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===I0||e===zE){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===I0)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const ule=parseInt(Up.replace(/\D+/g,""));var fle=Object.defineProperty,hle=(n,e,t)=>e in n?fle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xt=(n,e,t)=>(hle(n,typeof e!="symbol"?e+"":e,t),t);const cy=new qc,EI=new ko,dle=Math.cos(70*(Math.PI/180)),bI=(n,e)=>(n%e+e)%e;let ple=class extends vo{constructor(e,t){super(),xt(this,"object"),xt(this,"domElement"),xt(this,"enabled",!0),xt(this,"target",new N),xt(this,"minDistance",0),xt(this,"maxDistance",1/0),xt(this,"minZoom",0),xt(this,"maxZoom",1/0),xt(this,"minPolarAngle",0),xt(this,"maxPolarAngle",Math.PI),xt(this,"minAzimuthAngle",-1/0),xt(this,"maxAzimuthAngle",1/0),xt(this,"enableDamping",!1),xt(this,"dampingFactor",.05),xt(this,"enableZoom",!0),xt(this,"zoomSpeed",1),xt(this,"enableRotate",!0),xt(this,"rotateSpeed",1),xt(this,"enablePan",!0),xt(this,"panSpeed",1),xt(this,"screenSpacePanning",!0),xt(this,"keyPanSpeed",7),xt(this,"zoomToCursor",!1),xt(this,"autoRotate",!1),xt(this,"autoRotateSpeed",2),xt(this,"reverseOrbit",!1),xt(this,"reverseHorizontalOrbit",!1),xt(this,"reverseVerticalOrbit",!1),xt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),xt(this,"mouseButtons",{LEFT:$l.ROTATE,MIDDLE:$l.DOLLY,RIGHT:$l.PAN}),xt(this,"touches",{ONE:Ql.ROTATE,TWO:Ql.DOLLY_PAN}),xt(this,"target0"),xt(this,"position0"),xt(this,"zoom0"),xt(this,"_domElementKeyEvents",null),xt(this,"getPolarAngle"),xt(this,"getAzimuthalAngle"),xt(this,"setPolarAngle"),xt(this,"setAzimuthalAngle"),xt(this,"getDistance"),xt(this,"listenToKeyEvents"),xt(this,"stopListenToKeyEvents"),xt(this,"saveState"),xt(this,"reset"),xt(this,"update"),xt(this,"connect"),xt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=K=>{let ye=bI(K,2*Math.PI),Ce=u.phi;Ce<0&&(Ce+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Te=Math.abs(ye-Ce);2*Math.PI-Te<Te&&(ye<Ce?ye+=2*Math.PI:Ce+=2*Math.PI),d.phi=ye-Ce,i.update()},this.setAzimuthalAngle=K=>{let ye=bI(K,2*Math.PI),Ce=u.theta;Ce<0&&(Ce+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Te=Math.abs(ye-Ce);2*Math.PI-Te<Te&&(ye<Ce?ye+=2*Math.PI:Ce+=2*Math.PI),d.theta=ye-Ce,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",Se),this._domElementKeyEvents=K},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Se),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const K=new N,ye=new N(0,1,0),Ce=new di().setFromUnitVectors(e.up,ye),Te=Ce.clone().invert(),ot=new N,D=new di,j=2*Math.PI;return function(){const Z=i.object.position;Ce.setFromUnitVectors(e.up,ye),Te.copy(Ce).invert(),K.copy(Z).sub(i.target),K.applyQuaternion(Ce),u.setFromVector3(K),i.autoRotate&&l===a.NONE&&V(te()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let ce=i.minAzimuthAngle,Re=i.maxAzimuthAngle;isFinite(ce)&&isFinite(Re)&&(ce<-Math.PI?ce+=j:ce>Math.PI&&(ce-=j),Re<-Math.PI?Re+=j:Re>Math.PI&&(Re-=j),ce<=Re?u.theta=Math.max(ce,Math.min(Re,u.theta)):u.theta=u.theta>(ce+Re)/2?Math.max(ce,u.theta):Math.min(Re,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&P||i.object.isOrthographicCamera?u.radius=J(u.radius):u.radius=J(u.radius*p),K.setFromSpherical(u),K.applyQuaternion(Te),Z.copy(i.target).add(K),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let Oe=!1;if(i.zoomToCursor&&P){let ze=null;if(i.object instanceof _n&&i.object.isPerspectiveCamera){const Ve=K.length();ze=J(Ve*p);const $e=Ve-ze;i.object.position.addScaledVector(C,$e),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ve=new N(B.x,B.y,0);Ve.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Oe=!0;const $e=new N(B.x,B.y,0);$e.unproject(i.object),i.object.position.sub($e).add(Ve),i.object.updateMatrixWorld(),ze=K.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;ze!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(ze).add(i.object.position):(cy.origin.copy(i.object.position),cy.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(cy.direction))<dle?e.lookAt(i.target):(EI.setFromNormalAndCoplanarPoint(i.object.up,i.target),cy.intersectPlane(EI,i.target))))}else i.object instanceof no&&i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Oe=!0);return p=1,P=!1,Oe||ot.distanceToSquared(i.object.position)>c||8*(1-D.dot(i.object.quaternion))>c?(i.dispatchEvent(r),ot.copy(i.object.position),D.copy(i.object.quaternion),Oe=!1,!0):!1}})(),this.connect=K=>{K===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=K,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ne),i.domElement.addEventListener("pointerdown",vt),i.domElement.addEventListener("pointercancel",I),i.domElement.addEventListener("wheel",pe)},this.dispose=()=>{var K,ye,Ce,Te,ot,D;(K=i.domElement)==null||K.removeEventListener("contextmenu",Ne),(ye=i.domElement)==null||ye.removeEventListener("pointerdown",vt),(Ce=i.domElement)==null||Ce.removeEventListener("pointercancel",I),(Te=i.domElement)==null||Te.removeEventListener("wheel",pe),(ot=i.domElement)==null||ot.ownerDocument.removeEventListener("pointermove",se),(D=i.domElement)==null||D.ownerDocument.removeEventListener("pointerup",F),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Se)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new I1,d=new I1;let p=1;const m=new N,y=new Ae,x=new Ae,_=new Ae,g=new Ae,A=new Ae,S=new Ae,w=new Ae,b=new Ae,T=new Ae,C=new N,B=new Ae;let P=!1;const L=[],U={};function te(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ne(){return Math.pow(.95,i.zoomSpeed)}function V(K){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=K:d.theta-=K}function $(K){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=K:d.phi-=K}const le=(()=>{const K=new N;return function(Ce,Te){K.setFromMatrixColumn(Te,0),K.multiplyScalar(-Ce),m.add(K)}})(),ue=(()=>{const K=new N;return function(Ce,Te){i.screenSpacePanning===!0?K.setFromMatrixColumn(Te,1):(K.setFromMatrixColumn(Te,0),K.crossVectors(i.object.up,K)),K.multiplyScalar(Ce),m.add(K)}})(),G=(()=>{const K=new N;return function(Ce,Te){const ot=i.domElement;if(ot&&i.object instanceof _n&&i.object.isPerspectiveCamera){const D=i.object.position;K.copy(D).sub(i.target);let j=K.length();j*=Math.tan(i.object.fov/2*Math.PI/180),le(2*Ce*j/ot.clientHeight,i.object.matrix),ue(2*Te*j/ot.clientHeight,i.object.matrix)}else ot&&i.object instanceof no&&i.object.isOrthographicCamera?(le(Ce*(i.object.right-i.object.left)/i.object.zoom/ot.clientWidth,i.object.matrix),ue(Te*(i.object.top-i.object.bottom)/i.object.zoom/ot.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Y(K){i.object instanceof _n&&i.object.isPerspectiveCamera||i.object instanceof no&&i.object.isOrthographicCamera?p/=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function q(K){i.object instanceof _n&&i.object.isPerspectiveCamera||i.object instanceof no&&i.object.isOrthographicCamera?p*=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function z(K){if(!i.zoomToCursor||!i.domElement)return;P=!0;const ye=i.domElement.getBoundingClientRect(),Ce=K.clientX-ye.left,Te=K.clientY-ye.top,ot=ye.width,D=ye.height;B.x=Ce/ot*2-1,B.y=-(Te/D)*2+1,C.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function J(K){return Math.max(i.minDistance,Math.min(i.maxDistance,K))}function _e(K){y.set(K.clientX,K.clientY)}function Me(K){z(K),w.set(K.clientX,K.clientY)}function Ee(K){g.set(K.clientX,K.clientY)}function ke(K){x.set(K.clientX,K.clientY),_.subVectors(x,y).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(V(2*Math.PI*_.x/ye.clientHeight),$(2*Math.PI*_.y/ye.clientHeight)),y.copy(x),i.update()}function Ke(K){b.set(K.clientX,K.clientY),T.subVectors(b,w),T.y>0?Y(ne()):T.y<0&&q(ne()),w.copy(b),i.update()}function rt(K){A.set(K.clientX,K.clientY),S.subVectors(A,g).multiplyScalar(i.panSpeed),G(S.x,S.y),g.copy(A),i.update()}function qe(K){z(K),K.deltaY<0?q(ne()):K.deltaY>0&&Y(ne()),i.update()}function ut(K){let ye=!1;switch(K.code){case i.keys.UP:G(0,i.keyPanSpeed),ye=!0;break;case i.keys.BOTTOM:G(0,-i.keyPanSpeed),ye=!0;break;case i.keys.LEFT:G(i.keyPanSpeed,0),ye=!0;break;case i.keys.RIGHT:G(-i.keyPanSpeed,0),ye=!0;break}ye&&(K.preventDefault(),i.update())}function Ue(){if(L.length==1)y.set(L[0].pageX,L[0].pageY);else{const K=.5*(L[0].pageX+L[1].pageX),ye=.5*(L[0].pageY+L[1].pageY);y.set(K,ye)}}function W(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const K=.5*(L[0].pageX+L[1].pageX),ye=.5*(L[0].pageY+L[1].pageY);g.set(K,ye)}}function be(){const K=L[0].pageX-L[1].pageX,ye=L[0].pageY-L[1].pageY,Ce=Math.sqrt(K*K+ye*ye);w.set(0,Ce)}function xe(){i.enableZoom&&be(),i.enablePan&&W()}function Pe(){i.enableZoom&&be(),i.enableRotate&&Ue()}function we(K){if(L.length==1)x.set(K.pageX,K.pageY);else{const Ce=Pt(K),Te=.5*(K.pageX+Ce.x),ot=.5*(K.pageY+Ce.y);x.set(Te,ot)}_.subVectors(x,y).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(V(2*Math.PI*_.x/ye.clientHeight),$(2*Math.PI*_.y/ye.clientHeight)),y.copy(x)}function nt(K){if(L.length==1)A.set(K.pageX,K.pageY);else{const ye=Pt(K),Ce=.5*(K.pageX+ye.x),Te=.5*(K.pageY+ye.y);A.set(Ce,Te)}S.subVectors(A,g).multiplyScalar(i.panSpeed),G(S.x,S.y),g.copy(A)}function Ge(K){const ye=Pt(K),Ce=K.pageX-ye.x,Te=K.pageY-ye.y,ot=Math.sqrt(Ce*Ce+Te*Te);b.set(0,ot),T.set(0,Math.pow(b.y/w.y,i.zoomSpeed)),Y(T.y),w.copy(b)}function je(K){i.enableZoom&&Ge(K),i.enablePan&&nt(K)}function lt(K){i.enableZoom&&Ge(K),i.enableRotate&&we(K)}function vt(K){var ye,Ce;i.enabled!==!1&&(L.length===0&&((ye=i.domElement)==null||ye.ownerDocument.addEventListener("pointermove",se),(Ce=i.domElement)==null||Ce.ownerDocument.addEventListener("pointerup",F)),ct(K),K.pointerType==="touch"?Xe(K):Q(K))}function se(K){i.enabled!==!1&&(K.pointerType==="touch"?Ie(K):ge(K))}function F(K){var ye,Ce,Te;bt(K),L.length===0&&((ye=i.domElement)==null||ye.releasePointerCapture(K.pointerId),(Ce=i.domElement)==null||Ce.ownerDocument.removeEventListener("pointermove",se),(Te=i.domElement)==null||Te.ownerDocument.removeEventListener("pointerup",F)),i.dispatchEvent(o),l=a.NONE}function I(K){bt(K)}function Q(K){let ye;switch(K.button){case 0:ye=i.mouseButtons.LEFT;break;case 1:ye=i.mouseButtons.MIDDLE;break;case 2:ye=i.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case $l.DOLLY:if(i.enableZoom===!1)return;Me(K),l=a.DOLLY;break;case $l.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(i.enablePan===!1)return;Ee(K),l=a.PAN}else{if(i.enableRotate===!1)return;_e(K),l=a.ROTATE}break;case $l.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(i.enableRotate===!1)return;_e(K),l=a.ROTATE}else{if(i.enablePan===!1)return;Ee(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ge(K){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;ke(K);break;case a.DOLLY:if(i.enableZoom===!1)return;Ke(K);break;case a.PAN:if(i.enablePan===!1)return;rt(K);break}}function pe(K){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),i.dispatchEvent(s),qe(K),i.dispatchEvent(o))}function Se(K){i.enabled===!1||i.enablePan===!1||ut(K)}function Xe(K){switch(Le(K),L.length){case 1:switch(i.touches.ONE){case Ql.ROTATE:if(i.enableRotate===!1)return;Ue(),l=a.TOUCH_ROTATE;break;case Ql.PAN:if(i.enablePan===!1)return;W(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ql.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;xe(),l=a.TOUCH_DOLLY_PAN;break;case Ql.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Pe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ie(K){switch(Le(K),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;we(K),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;nt(K),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;je(K),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;lt(K),i.update();break;default:l=a.NONE}}function Ne(K){i.enabled!==!1&&K.preventDefault()}function ct(K){L.push(K)}function bt(K){delete U[K.pointerId];for(let ye=0;ye<L.length;ye++)if(L[ye].pointerId==K.pointerId){L.splice(ye,1);return}}function Le(K){let ye=U[K.pointerId];ye===void 0&&(ye=new Ae,U[K.pointerId]=ye),ye.set(K.pageX,K.pageY)}function Pt(K){const ye=K.pointerId===L[0].pointerId?L[1]:L[0];return U[ye.pointerId]}t!==void 0&&this.connect(t),this.update()}};class Eb extends ki{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new xle(t)}),this.register(function(t){return new Tle(t)}),this.register(function(t){return new Cle(t)}),this.register(function(t){return new Rle(t)}),this.register(function(t){return new Ale(t)}),this.register(function(t){return new Sle(t)}),this.register(function(t){return new wle(t)}),this.register(function(t){return new Mle(t)}),this.register(function(t){return new vle(t)}),this.register(function(t){return new Ele(t)}),this.register(function(t){return new _le(t)}),this.register(function(t){return new ble(t)}),this.register(function(t){return new gle(t)}),this.register(function(t){return new Ple(t)}),this.register(function(t){return new Lle(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=co.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Fr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(co.decodeText(new Uint8Array(e.slice(0,4)))===FU){try{o[zt.KHR_BINARY_GLTF]=new Ile(e)}catch(u){r&&r(u);return}s=JSON.parse(o[zt.KHR_BINARY_GLTF].content)}else s=JSON.parse(co.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new jle(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case zt.KHR_MATERIALS_UNLIT:o[u]=new yle;break;case zt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Ble(s,this.dracoLoader);break;case zt.KHR_TEXTURE_TRANSFORM:o[u]=new Dle;break;case zt.KHR_MESH_QUANTIZATION:o[u]=new Fle;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function mle(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const zt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class gle{constructor(e){this.parser=e,this.name=zt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new We(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new gb(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new mb(u),c.distance=d;break;case"spot":c=new pb(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,La(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class yle{constructor(){this.name=zt.KHR_MATERIALS_UNLIT}getMaterialType(){return br}extendParams(e,t,i){const r=[];e.color=new We(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class vle{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class xle{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ae(a,a)}return Promise.all(s)}}class _le{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ale{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new We(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Sle{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class wle{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new We(a[0],a[1],a[2]),Promise.all(s)}}class Mle{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Ele{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new We(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class ble{constructor(e){this.parser=e,this.name=zt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:xo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Tle{constructor(e){this.parser=e,this.name=zt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Cle{constructor(e){this.parser=e,this.name=zt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Rle{constructor(e){this.parser=e,this.name=zt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ple{constructor(e){this.name=zt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,r.mode,r.filter),m})})}else return null}}class Lle{constructor(e){this.name=zt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==es.TRIANGLES&&c.mode!==es.TRIANGLE_STRIP&&c.mode!==es.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const y of d){const x=new _t,_=new N,g=new di,A=new N(1,1,1),S=new eb(y.geometry,y.material,p);for(let w=0;w<p;w++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,w),l.SCALE&&A.fromBufferAttribute(l.SCALE,w),S.setMatrixAt(w,x.compose(_,g,A));for(const w in l)w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&y.geometry.setAttribute(w,l[w]);kt.prototype.copy.call(S,y),this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const FU="glTF",Zh=12,TI={JSON:1313821514,BIN:5130562};class Ile{constructor(e){this.name=zt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Zh);if(this.header={magic:co.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==FU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Zh,r=new DataView(e,Zh);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===TI.JSON){const l=new Uint8Array(e,Zh+s,o);this.content=co.decodeText(l)}else if(a===TI.BIN){const l=Zh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ble{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=zt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=k1[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=k1[u]||u.toLowerCase();if(o[u]!==void 0){const p=i.accessors[e.attributes[u]],m=Tf[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(p){for(const m in p.attributes){const y=p.attributes[m],x=l[m];x!==void 0&&(y.normalized=x)}d(p)},a,c)})})}}class Dle{constructor(){this.name=zt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Fle{constructor(){this.name=zt.KHR_MESH_QUANTIZATION}}class OU extends sh{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,d=(i-t)/u,p=d*d,m=p*d,y=e*c,x=y-c,_=-2*m+3*p,g=m-p,A=1-_,S=g-p+d;for(let w=0;w!==a;w++){const b=o[x+w+a],T=o[x+w+l]*u,C=o[y+w+a],B=o[y+w]*u;s[w]=A*b+S*T+_*C+g*B}return s}}const Ole=new di;class kle extends OU{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Ole.fromArray(s).normalize().toArray(s),s}}const es={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Tf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},CI={9728:Ln,9729:un,9984:up,9985:Dv,9986:Mf,9987:ho},RI={33071:xi,33648:Hf,10497:al},uS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},k1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ule>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ma={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Nle={CUBICSPLINE:void 0,LINEAR:Oc,STEP:Gf},fS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ule(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new $p({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fo})),n.DefaultMaterial}function Gl(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function La(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function zle(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Hle(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Gle(n){let e;const t=n.extensions&&n.extensions[zt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+hS(t.attributes):e=n.indices+":"+hS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+hS(n.targets[i]);return e}function hS(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function N1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Vle(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Wle=new _t;class jle{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new mle,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new qN(this.options.manager):this.textureLoader=new rU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Fr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Gl(s,a,r),La(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[zt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(co.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=uS[r.type],a=Tf[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Jt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=uS[r.type],c=Tf[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let x,_;if(m&&m!==d){const g=Math.floor(p/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=t.cache.get(A);S||(x=new c(a,g*m,r.count*m/u),S=new Xp(x,m/u),t.cache.add(A,S)),_=new ll(S,l,p%m/u,y)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),_=new Jt(x,l,y);if(r.sparse!==void 0){const g=uS.SCALAR,A=Tf[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,b=new A(o[1],S,r.sparse.count*g),T=new c(o[2],w,r.sparse.count*l);a!==null&&(_=new Jt(_.array.slice(),_.itemSize,_.normalized));for(let C=0,B=b.length;C<B;C++){const P=b[C];if(_.setX(P,T[C*l]),l>=2&&_.setY(P,T[C*l+1]),l>=3&&_.setZ(P,T[C*l+2]),l>=4&&_.setW(P,T[C*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=CI[p.magFilter]||un,u.minFilter=CI[p.minFilter]||ho,u.wrapS=RI[p.wrapS]||al,u.wrapT=RI[p.wrapT]||al,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(x){const _=new mn(x);_.needsUpdate=!0,p(_)}),t.load(co.resolveURL(d,s.path),y,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||Vle(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[zt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[zt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[zt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Wv,Xn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Oi,Xn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return $p}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[zt.KHR_MATERIALS_UNLIT]){const d=r[zt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new We(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ts);const u=s.alphaMode||fS.OPAQUE;if(u===fS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===fS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==br&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ae(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==br&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==br&&(a.emissive=new We().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==br&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),La(d,s),t.associations.set(d,{materials:e}),s.extensions&&Gl(r,d,s),d})}createUniqueName(e){const t=Ht.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[zt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return PI(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Gle(c),d=r[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[zt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=PI(new Tt,c,t),r[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Ule(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,y=u.length;m<y;m++){const x=u[m],_=o[m];let g;const A=c[m];if(_.mode===es.TRIANGLES||_.mode===es.TRIANGLE_STRIP||_.mode===es.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new ZE(x,A):new ui(x,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),_.mode===es.TRIANGLE_STRIP?g.geometry=MI(g.geometry,zE):_.mode===es.TRIANGLE_FAN&&(g.geometry=MI(g.geometry,I0));else if(_.mode===es.LINES)g=new Ns(x,A);else if(_.mode===es.LINE_STRIP)g=new ia(x,A);else if(_.mode===es.LINE_LOOP)g=new tb(x,A);else if(_.mode===es.POINTS)g=new nb(x,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&Hle(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),La(g,s),_.extensions&&Gl(r,g,_),t.assignFinalMaterial(g),d.push(g)}for(let m=0,y=d.length;m<y;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&Gl(r,d[0],s),d[0];const p=new Vo;s.extensions&&Gl(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,y=d.length;m<y;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new _n(uf.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new no(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),La(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new _t;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Jp(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const p=i.channels[u],m=i.samplers[p.sampler],y=p.target,x=y.node,_=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],p=u[1],m=u[2],y=u[3],x=u[4],_=[];for(let g=0,A=d.length;g<A;g++){const S=d[g],w=p[g],b=m[g],T=y[g],C=x[g];if(S===void 0)continue;S.updateMatrix();let B;switch(Ma[C.path]){case Ma.weights:B=Xf;break;case Ma.rotation:B=cl;break;case Ma.position:case Ma.scale:default:B=Jf;break}const P=S.name?S.name:S.uuid,L=T.interpolation!==void 0?Nle[T.interpolation]:Oc,U=[];Ma[C.path]===Ma.weights?S.traverse(function(ne){ne.morphTargetInfluences&&U.push(ne.name?ne.name:ne.uuid)}):U.push(P);let te=b.array;if(b.normalized){const ne=N1(te.constructor),V=new Float32Array(te.length);for(let $=0,le=te.length;$<le;$++)V[$]=te[$]*ne;te=V}for(let ne=0,V=U.length;ne<V;ne++){const $=new B(U[ne]+"."+Ma[C.path],w.array,te,L);T.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(ue){const G=this instanceof cl?kle:OU;return new G(this.times,this.values,this.getValueSize()/3,ue)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push($)}}return new Kf(r,void 0,_)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,Wle)});for(let m=0,y=d.length;m<y;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new Vv:c.length>1?u=new Vo:c.length===1?u=c[0]:u=new kt,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),La(u,s),s.extensions&&Gl(i,u,s),s.matrix!==void 0){const d=new _t;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Vo;i.name&&(s.name=r.createUniqueName(i.name)),La(s,i),i.extensions&&Gl(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Xn||p instanceof mn)&&d.set(p,m);return u.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}}function Xle(n,e,t){const i=e.attributes,r=new ks;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new N(l[0],l[1],l[2]),new N(c[0],c[1],c[2])),a.normalized){const u=N1(Tf[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const x=N1(Tf[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new us;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function PI(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=k1[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return La(n,e),Xle(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?zle(n,e.targets,t):n})}const dS=new WeakMap;class Jle extends ki{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Fr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(dS.has(e)){const l=dS.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),dS.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new Tt;e.index&&t.setIndex(new Jt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Jt(o,a))}return t}_loadLibrary(e,t){const i=new Fr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=Kle.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Kle(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(d,p,m,c),x=y.attributes.map(_=>_.array.buffer);y.index&&x.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},x)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const _ in u){const g=self[d[_]];let A,S;if(c.useUniqueIDs)S=u[_],A=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[u[_]]),S===-1)continue;A=a.GetAttribute(p,S)}x.attributes.push(r(o,a,p,_,g,A))}return y===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,u,d){const p=d.num_components(),y=l.num_points()*p,x=y*u.BYTES_PER_ELEMENT,_=s(o,u),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,_,x,g);const A=new u(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:c,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let uy;const pS=()=>{if(uy)return uy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const x=d.charCodeAt(y);p[y]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let y=0;y<d.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(d,p,m,y,x,_){const g=s.exports.sbrk,A=m+3&-4,S=g(A*y),w=g(x.length),b=new Uint8Array(s.exports.memory.buffer);b.set(x,w);const T=d(S,m,y,w,x.length);if(T===0&&_&&_(S,A,y),p.set(b.subarray(S,S+m*y)),g(S-g(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return uy={ready:o,supported:!0,decodeVertexBuffer(d,p,m,y,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,y,s.exports[c[x]])},decodeIndexBuffer(d,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,y)},decodeIndexSequence(d,p,m,y){l(s.exports.meshopt_decodeIndexSequence,d,p,m,y)},decodeGltfBuffer(d,p,m,y,x,_){l(s.exports[u[x]],d,p,m,y,s.exports[c[_]])}},uy};let fy=null,kU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function NU(n,e,t){return i=>{t&&t(i),n&&(fy||(fy=new Jle),fy.setDecoderPath(typeof n=="string"?n:kU),i.setDRACOLoader(fy)),e&&i.setMeshoptDecoder(typeof pS=="function"?pS():pS)}}function tu(n,e=!0,t=!0,i){return Zp(Eb,n,NU(e,t,i))}tu.preload=(n,e=!0,t=!0,i)=>Zp.preload(Eb,n,NU(e,t,i));tu.clear=n=>Zp.clear(Eb,n);tu.setDecoderPath=n=>{kU=n};function Yle(n,e,t){const i=wr(p=>p.size),r=wr(p=>p.viewport),s=typeof n=="number"?n:i.width*r.dpr,o=typeof e=="number"?e:i.height*r.dpr,a=(typeof n=="number"?t:n)||{},{samples:l=0,depth:c,...u}=a,d=O.useMemo(()=>{const p=new cs(s,o,{minFilter:un,magFilter:un,type:Dc,...u});return c&&(p.depthTexture=new qE(s,o,Cs)),p.samples=l,p},[]);return O.useLayoutEffect(()=>{d.setSize(s,o),l&&(d.samples=l)},[l,d,s,o]),O.useEffect(()=>()=>d.dispose(),[]),d}const qle=n=>typeof n=="function",UU=O.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...s},o)=>{const a=wr(({set:_})=>_),l=wr(({camera:_})=>_),c=wr(({size:_})=>_),u=O.useRef(null),d=O.useRef(null),p=Yle(e);O.useLayoutEffect(()=>{s.manual||(u.current.aspect=c.width/c.height)},[c,s]),O.useLayoutEffect(()=>{u.current.updateProjectionMatrix()});let m=0,y=null;const x=qle(r);return wb(_=>{x&&(t===1/0||m<t)&&(d.current.visible=!1,_.gl.setRenderTarget(p),y=_.scene.background,n&&(_.scene.background=n),_.gl.render(_.scene,u.current),_.scene.background=y,_.gl.setRenderTarget(null),d.current.visible=!0,m++)}),O.useLayoutEffect(()=>{if(i){const _=l;return a(()=>({camera:u.current})),()=>a(()=>({camera:_}))}},[u,i,a]),O.createElement(O.Fragment,null,O.createElement("perspectiveCamera",qf({ref:cle([u,o])},s),!x&&r),O.createElement("group",{ref:d},x&&r(p.texture)))}),$le=O.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=wr(T=>T.invalidate),p=wr(T=>T.camera),m=wr(T=>T.gl),y=wr(T=>T.events),x=wr(T=>T.setEvents),_=wr(T=>T.set),g=wr(T=>T.get),A=wr(T=>T.performance),S=e||p,w=i||y.connected||m.domElement,b=O.useMemo(()=>new ple(S),[S]);return wb(()=>{b.enabled&&b.update()},-1),O.useEffect(()=>(s&&b.connect(s===!0?w:s),b.connect(w),()=>void b.dispose()),[s,w,t,b,d]),O.useEffect(()=>{const T=P=>{d(),t&&A.regress(),o&&o(P)},C=P=>{a&&a(P)},B=P=>{l&&l(P)};return b.addEventListener("change",T),b.addEventListener("start",C),b.addEventListener("end",B),()=>{b.removeEventListener("start",C),b.removeEventListener("end",B),b.removeEventListener("change",T)}},[o,a,l,b,d,x]),O.useEffect(()=>{if(n){const T=g().controls;return _({controls:b}),()=>_({controls:T})}},[n,b]),O.createElement("primitive",qf({ref:u,object:b,enableDamping:r},c))});function Qle(n,e){const t=O.useRef(),[i]=O.useState(()=>e?e instanceof kt?{current:e}:e:t),[r]=O.useState(()=>new lU(void 0));O.useLayoutEffect(()=>{e&&(i.current=e instanceof kt?e:e.current),r._root=i.current});const s=O.useRef({}),o=O.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(i.current)return s.current[l.name]||(s.current[l.name]=r.clipAction(l,i.current))},configurable:!0})),{ref:i,clips:n,actions:a,names:n.map(l=>l.name),mixer:r}},[n]);return wb((a,l)=>r.update(l)),O.useEffect(()=>{const a=i.current;return()=>{s.current={},r.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&r.uncacheAction(l,a)})}},[n]),o}function Zle(n){const e=O.useRef(),{nodes:t,materials:i,animations:r}=tu("/waving.glb"),{actions:s}=Qle(r,e);return Ii.useEffect(()=>{s["Armature|mixamo.com|Layer0"].play()},[s]),X.jsx("group",{ref:e,...n,dispose:null,children:X.jsx("group",{name:"Scene",children:X.jsxs("group",{name:"Armature",rotation:[Math.PI/2,0,0],scale:.01,children:[X.jsx("primitive",{object:t.mixamorigHips}),X.jsx("skinnedMesh",{name:"Wolf3D_Body",geometry:t.Wolf3D_Body.geometry,material:i["Wolf3D_Body.001"],skeleton:t.Wolf3D_Body.skeleton}),X.jsx("skinnedMesh",{name:"Wolf3D_Hair",geometry:t.Wolf3D_Hair.geometry,material:i["Wolf3D_Hair.001"],skeleton:t.Wolf3D_Hair.skeleton}),X.jsx("skinnedMesh",{name:"Wolf3D_Outfit_Bottom",geometry:t.Wolf3D_Outfit_Bottom.geometry,material:i["Wolf3D_Outfit_Bottom.001"],skeleton:t.Wolf3D_Outfit_Bottom.skeleton}),X.jsx("skinnedMesh",{name:"Wolf3D_Outfit_Footwear",geometry:t.Wolf3D_Outfit_Footwear.geometry,material:i["Wolf3D_Outfit_Footwear.001"],skeleton:t.Wolf3D_Outfit_Footwear.skeleton}),X.jsx("skinnedMesh",{name:"Wolf3D_Outfit_Top",geometry:t.Wolf3D_Outfit_Top.geometry,material:i["Wolf3D_Outfit_Top.001"],skeleton:t.Wolf3D_Outfit_Top.skeleton}),X.jsx("skinnedMesh",{name:"EyeLeft",geometry:t.EyeLeft.geometry,material:i["Wolf3D_Eye.001"],skeleton:t.EyeLeft.skeleton}),X.jsx("skinnedMesh",{name:"EyeRight",geometry:t.EyeRight.geometry,material:i["Wolf3D_Eye.001"],skeleton:t.EyeRight.skeleton}),X.jsx("skinnedMesh",{name:"Wolf3D_Head",geometry:t.Wolf3D_Head.geometry,material:i["Wolf3D_Skin.001"],skeleton:t.Wolf3D_Head.skeleton}),X.jsx("skinnedMesh",{name:"Wolf3D_Teeth",geometry:t.Wolf3D_Teeth.geometry,material:i["Wolf3D_Teeth.001"],skeleton:t.Wolf3D_Teeth.skeleton})]})})})}tu.preload("/waving.glb");function U1({lookRight:n=!1}){return X.jsxs(DU,{shadows:!0,children:[X.jsx(UU,{makeDefault:!0,position:[0,1.5,2.2]}),X.jsx($le,{target:[0,.9,0],minPolarAngle:Math.PI/2,maxPolarAngle:Math.PI/2,enablePan:!1,enableZoom:!1}),X.jsx(Zle,{rotation:[0,n?Math.PI/8:-Math.PI/8,0]}),X.jsx("ambientLight",{intensity:2,color:"#EFEFEF"})]})}const ece=Z3().shape({name:Py().required("Name is required"),email:Py().email("Invalid email address").required("Email is required"),message:Py().required("Message is required")});function tce(){const n=RQ({initialValues:{name:"",email:"",message:""},validationSchema:ece,onSubmit:e=>{IZ.send("service_e2sbfi5","template_ybjdyod",{from_name:e.name,from_email:e.email,message:e.message},"Jex7CmoNVzlb1zQ35").then(()=>{alert("Message sent successfully!")},()=>{alert("Error sending message")})}});return X.jsxs("div",{className:ms.container,id:"contact",children:[X.jsxs(Kt.div,{className:ms.formContainer,initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:[X.jsx("h1",{children:"Get In Touch"}),X.jsx("p",{children:"Have a question or want to work together?"}),X.jsxs("form",{className:ms.form,onSubmit:n.handleSubmit,children:[X.jsxs("div",{className:ms.formGroup,children:[X.jsx("label",{htmlFor:"name",children:"Name"}),X.jsx("input",{type:"text",id:"name",name:"name",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.name}),n.touched.name&&n.errors.name?X.jsx("div",{className:ms.error,children:n.errors.name}):null]}),X.jsxs("div",{className:ms.formGroup,children:[X.jsx("label",{htmlFor:"email",children:"Email"}),X.jsx("input",{type:"email",id:"email",name:"email",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.email}),n.touched.email&&n.errors.email?X.jsx("div",{className:ms.error,children:n.errors.email}):null]}),X.jsxs("div",{className:ms.formGroup,children:[X.jsx("label",{htmlFor:"message",children:"Message"}),X.jsx("textarea",{id:"message",name:"message",rows:"5",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.message}),n.touched.message&&n.errors.message?X.jsx("div",{className:ms.error,children:n.errors.message}):null]}),X.jsx("button",{type:"submit",className:ms.formButton,children:"Submit"})]})]}),X.jsx(Kt.div,{className:ms.hero,initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:X.jsx(U1,{})})]})}const nce="_container_1vb4i_1",ice="_bento_1vb4i_29",rce="_bento1_1vb4i_49 _bento_1vb4i_29",sce="_bento2_1vb4i_123 _bento1_1vb4i_49 _bento_1vb4i_29",oce="_bento3_1vb4i_133 _bento_1vb4i_29",ace="_company_1vb4i_149",lce="_bento4_1vb4i_153 _bento_1vb4i_29",cce="_divider_1vb4i_167",uce="_bento5_1vb4i_203 _primaryButton_s2sxs_1",Bo={container:nce,bento:ice,bento1:rce,bento2:sce,bento3:oce,company:ace,bento4:lce,divider:cce,bento5:uce};function fce(){const n={rest:{scale:.8},inView:{scale:1}},e=t=>({transition:{type:"spring",duration:.8,delay:t},variants:n});return X.jsxs(Kt.div,{className:Bo.container,initial:"rest",whileInView:"inView",children:[X.jsxs(Kt.div,{className:Bo.bento1,...e(.1),children:[X.jsxs("h2",{children:["6",X.jsx("span",{children:"+"})]}),X.jsx("p",{children:"Seasoned Expertise"})]}),X.jsxs(Kt.div,{className:Bo.bento2,...e(.2),children:[X.jsx("h2",{children:"2"}),X.jsx("p",{children:"Companies"})]}),X.jsxs(Kt.div,{className:Bo.bento3,...e(0),children:[X.jsxs("div",{className:Bo.company,children:[X.jsx("h2",{children:"Software Engineer (Full Stack Developer)"}),X.jsx("p",{children:"Bourke Technologies  Full-time"}),X.jsx("p",{children:"Sep 2017 - Jan 2021  3 yrs 5 mos"})]}),X.jsx("hr",{className:Bo.divider}),X.jsxs("div",{className:Bo.company,children:[X.jsx("h2",{children:"Lead Web Developer"}),X.jsx("p",{children:"ShopShareTV  Full-time"}),X.jsx("p",{children:"Jan 2021 - Present  2 yrs 7 mos"})]})]}),X.jsx(Kt.div,{className:Bo.bento4,...e(.3),children:X.jsxs("p",{children:["B.Eng. (Hons) Software Engineering",X.jsx("br",{})," Informatics Institute of Technology (LK) Affiliated with University of Westminster (UK) ",X.jsx("br",{}),"2018 - 2023"]})}),X.jsxs(Lp,{to:"/about",className:Bo.bento5,children:["Experience ",X.jsx(wf,{})]})]})}const hce="/assets/main_new-35160b35.png",dce="_container_xfcje_5",pce="_avatarContainer_xfcje_29",mce="_avatarImgContainer_xfcje_51",gce="_content_xfcje_67",yce="_background_xfcje_77",vce="_title_xfcje_101",xce="_subtitle_xfcje_117",_ce="_subtitleHighlight_xfcje_133",Ace="_btnContainer_xfcje_141",Sce="_btn_xfcje_141",wce="_avatar_xfcje_29",xr={container:dce,avatarContainer:pce,avatarImgContainer:mce,content:gce,background:yce,title:vce,subtitle:xce,subtitleHighlight:_ce,btnContainer:Ace,btn:Sce,avatar:wce};function Mce(n){return{x:n.clientX||n.touches&&n.touches[0].clientX,y:n.clientY||n.touches&&n.touches[0].clientY}}function Ece(n,e,t){let i=0,r=0,s,o,a,l,c={x:window.innerWidth,y:window.innerHeight};return n<=c.x/2&&(s=c.x/2-n,o=s/(c.x/2)*100,i=t*o/100*-1),n>=c.x/2&&(s=n-c.x/2,o=s/(c.x/2)*100,i=t*o/100),e<=c.y/2&&(a=c.y/2-e,l=a/(c.y/2)*100,r=t*.5*l/100*-1),e>=c.y/2&&(a=e-c.y/2,l=a/(c.y/2)*100,r=t*l/100),{x:i,y:r}}function bce(n,e,t){let i=Ece(n.x,n.y,t);e.rotation.y=uf.degToRad(uf.clamp(i.x,-26,26)),e.rotation.x=uf.degToRad(uf.clamp(i.y,-20,16))}function Tce(n){const{nodes:e,materials:t}=tu("/head_only.glb"),i=e.Head;return O.useEffect(()=>{const r=s=>{const o=Mce(s);i&&bce(o,i,50)};return document.addEventListener("mousemove",r),()=>{document.removeEventListener("mousemove",r)}},[i]),X.jsxs("group",{...n,dispose:null,children:[X.jsx("primitive",{object:e.Hips}),X.jsx("mesh",{geometry:e.Wolf3D_Outfit_Top.geometry,material:t.Wolf3D_Outfit_Top}),X.jsx("skinnedMesh",{geometry:e.Wolf3D_Hair.geometry,material:t.Wolf3D_Hair,skeleton:e.Wolf3D_Hair.skeleton}),X.jsx("skinnedMesh",{geometry:e.EyeLeft.geometry,material:t.Wolf3D_Eye,skeleton:e.EyeLeft.skeleton}),X.jsx("skinnedMesh",{geometry:e.EyeRight.geometry,material:t.Wolf3D_Eye,skeleton:e.EyeRight.skeleton}),X.jsx("skinnedMesh",{geometry:e.Wolf3D_Head.geometry,material:t.Wolf3D_Skin,skeleton:e.Wolf3D_Head.skeleton})]})}tu.preload("/head_only.glb");function Cce(){return X.jsxs("div",{className:xr.container,children:[X.jsx("div",{className:xr.background}),X.jsxs("div",{className:xr.content,children:[X.jsxs("div",{className:xr.avatarContainer,children:[X.jsxs(DU,{children:[X.jsx(UU,{makeDefault:!0,position:[0,1.7,.66]}),X.jsx("ambientLight",{intensity:2,color:"#EFEFEF"}),X.jsx(Tce,{})]}),X.jsx("div",{className:xr.avatarImgContainer,children:X.jsx("img",{className:xr.avatar,src:hce,alt:"avatar"})})]}),X.jsx(Kt.h1,{className:xr.title,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:"Anushka Madushanka"}),X.jsxs(Kt.h2,{className:xr.subtitle,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[X.jsx("span",{className:xr.subtitleHighlight,children:"Full stack"})," Developer"]}),X.jsxs(Kt.div,{className:xr.btnContainer,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[X.jsx(Kt.a,{href:"/",className:xr.btn,whileHover:{scale:1.1,transition:{duration:.2}},whileTap:{scale:.9},children:X.jsx(RJ,{})}),X.jsx(Kt.a,{href:"https://www.linkedin.com/in/anushka-madushanka/",target:"_blank",className:xr.btn,whileHover:{scale:1.1,transition:{duration:.2}},whileTap:{scale:.9},children:X.jsx(bJ,{})}),X.jsx(Kt.a,{href:"https://github.com/AnushkaMadushanka/",target:"_blank",className:xr.btn,whileHover:{scale:1.1,transition:{duration:.2}},whileTap:{scale:.9},children:X.jsx(EJ,{})})]})]})]})}const Rce="/assets/grad-a460c525.jpg",Pce="_primaryButton_s2sxs_1",bb={primaryButton:Pce},Lce="_container_dzopj_1",Ice="_avatar_dzopj_19",Bce="_content_dzopj_53",Dce="_btn_dzopj_87",mS={container:Lce,avatar:Ice,content:Bce,btn:Dce};function Fce(){return X.jsxs("div",{className:mS.container,id:"about",children:[X.jsx(Kt.div,{className:mS.avatar,initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:X.jsx("img",{src:Rce,alt:"avatar"})}),X.jsxs(Kt.div,{className:mS.content,initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:[X.jsx("h2",{children:"My Story"}),X.jsxs("p",{children:["I am a skilled software engineer specializing in"," ",X.jsx("span",{children:"desktop, web, and game development."})," I have excellent problem-solving abilities, a passion for learning, and a commitment to delivering exceptional outcomes. I write clean, efficient, and well-organized code that adheres to industry best practices."]}),X.jsx(Lp,{to:"/about",children:X.jsxs(Kt.a,{className:bb.primaryButton,whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},children:["Learn More ",X.jsx(wf,{})]})})]})]})}const Oce="_container_xfv50_1",kce="_header_xfv50_25",Nce="_projects_xfv50_37",Uce="_projectCard_xfv50_49",zce="_projectImage_xfv50_67",Hce="_projectInfo_xfv50_77",Gce="_projectLinks_xfv50_117",Ea={container:Oce,header:kce,projects:Nce,projectCard:Uce,projectImage:zce,projectInfo:Hce,projectLinks:Gce},LI=[{title:"Ludo Shooter",description:"A wave-based shooter where you have to destroy the board pieces coming to kill you. But every time you reload, the dice will roll and add a random modifier to your game",githubLink:"https://github.com/AnushkaMadushanka/ludo-shooter",staticImageUrl:"https://img.itch.zone/aW1hZ2UvMTYyMTkzNS85NDkzMTE4LnBuZw==/347x500/M9Yxah.png",releaseLink:"https://anushka-madushanka.itch.io/ludo-shooter",youtubeSource:"https://youtu.be/VAIWMgyLycM"},{title:"Nightmarescape",description:"The First Person Endless Runner where you can test your reflexes as you try to escape from the creature that is following you through the tunnels",githubLink:"https://github.com/AnushkaMadushanka/nightmarescape",staticImageUrl:"https://i.ibb.co/4YmHSpb/Frame-7.png",releaseLink:"https://play.google.com/store/apps/details?id=com.anushka.nightmarescape",youtubeSource:"https://www.youtube.com/watch/b6FQ_OjQ8X0"},{title:"Operation Alone",description:"A top-down shooter game about finding your way out through tunnels filled with zombies",githubLink:"https://github.com/AnushkaMadushanka/Operation-Alone",staticImageUrl:"http://i3.ytimg.com/vi/b6FQ_OjQ8X0/maxresdefault.jpg",releaseLink:"https://anushka-madushanka.itch.io/operation-alone",youtubeSource:"https://www.youtube.com/watch/b6FQ_OjQ8X0"},{title:"MoCap using HPE",description:"A low-cost vision based motion capture system using 3D human pose estimation that will accept a video with human motion and process that human motion into a 3D animation that can be used in their preferred 3d program such as Blender, 3Ds Max",githubLink:"https://github.com/AnushkaMadushanka/mocap-hpe",staticImageUrl:"https://i.ibb.co/9qgvq3Z/Frame-5.png",youtubeSource:"https://www.youtube.com/watch?v=rZU_7MSCpr0",releaseLink:"https://www.youtube.com/watch?v=rZU_7MSCpr0"},{title:"Simple Forum using CodeIgniter",description:"A simple forum application developed using CodeIgniter framework. This is a simple forum application that allows users to most of the basic forum functionalities.",githubLink:"https://github.com/AnushkaMadushanka/cw-forum",staticImageUrl:"https://i.ibb.co/mD0prbc/Frame-6.png",youtubeSource:"https://youtu.be/GWy1kGbydBM",releaseLink:"https://youtu.be/GWy1kGbydBM"},{title:"SQL Dummy Data Generator",description:"A C# program that creates dummy data for your SQL databases. With few clicks you can create sample databases with data for your specific needs",staticImageUrl:"http://i3.ytimg.com/vi/b3AlZ1YqNBw/maxresdefault.jpg",githubLink:"https://github.com/AnushkaMadushanka/SQL-Dummy-Data-Generator",releaseLink:"https://github.com/AnushkaMadushanka/SQL-Dummy-Data-Generator/releases",youtubeSource:"https://www.youtube.com/watch/b3AlZ1YqNBw"},{title:"Auto Extension Reloader",description:"This plugin allows developers to see the current status of the building process of their specific extension. get notification when the status change and it will reload the extension after a build",githubLink:"https://github.com/AnushkaMadushanka/auto-extension-reloader",releaseLink:"https://www.npmjs.com/package/auto-extension-reloader",staticImageUrl:"http://i3.ytimg.com/vi/gczjrjCIrVU/maxresdefault.jpg",youtubeSource:"https://www.youtube.com/watch/gczjrjCIrVU"},{title:"Audio Visualization Project #1",description:"Testing the broads of audio visualization in unity 3d",githubLink:"https://github.com/AnushkaMadushanka/Audio-Visualization",staticImageUrl:"https://i.ytimg.com/vi/NCvmuG4uP6A/hqdefault.jpg?sqp=-oaymwEZCNACELwBSFXyq4qpAwsIARUAAIhCGAFwAQ==&rs=AOn4CLDJSSHGVk9pimq1GAMT8RkbCn_ZNg",releaseLink:"https://www.youtube.com/watch?v=NCvmuG4uP6A",youtubeSource:"https://www.youtube.com/watch/NCvmuG4uP6A"},{title:"Audio Visualization Project #2",description:"Testing the broads of audio visualization in unity 3d",staticImageUrl:"https://i.ytimg.com/vi/ll_8dB-HIwE/hqdefault.jpg?sqp=-oaymwEZCNACELwBSFXyq4qpAwsIARUAAIhCGAFwAQ==&rs=AOn4CLAcpXmH6M7rbgv2Hwura7T0xdknqg",githubLink:"https://github.com/AnushkaMadushanka/Audio-Visualization",releaseLink:"https://www.youtube.com/watch?v=ll_8dB-HIwE",youtubeSource:"https://www.youtube.com/watch/ll_8dB-HIwE"}];function Vce(){const[n,e]=O.useState(3),t=LI.slice(0,n);return X.jsxs("div",{className:Ea.container,id:"projects",children:[X.jsx(Kt.h1,{className:Ea.header,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:"Projects"}),X.jsx("div",{className:Ea.projects,children:t.map((i,r)=>X.jsxs(Kt.div,{className:Ea.projectCard,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},children:[X.jsxs("div",{className:Ea.main,children:[X.jsx("div",{className:Ea.projectImage,children:X.jsx("img",{src:i.staticImageUrl,alt:i.title})}),X.jsxs("div",{className:Ea.projectInfo,children:[X.jsx("h2",{children:i.title}),X.jsx("p",{children:i.description})]})]}),X.jsxs("div",{className:Ea.projectLinks,children:[X.jsxs("a",{href:i.githubLink,target:"_blank",rel:"noopener noreferrer",children:["Github ",X.jsx(wf,{})]}),X.jsxs("a",{href:i.releaseLink,target:"_blank",rel:"noopener noreferrer",children:["Demo ",X.jsx(wf,{})]})]})]},r))}),n<LI.length&&X.jsxs("button",{className:bb.primaryButton,onClick:()=>{e(n+3)},children:["Load More ",X.jsx(wf,{})]})]})}function Wce(n){return gl({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.516 7c1.933 0 3.5 1.567 3.5 3.5s-1.567 3.5-3.5 3.5-3.5-1.567-3.5-3.5l-0.016-0.5c0-3.866 3.134-7 7-7v2c-1.336 0-2.591 0.52-3.536 1.464-0.182 0.182-0.348 0.375-0.497 0.578 0.179-0.028 0.362-0.043 0.548-0.043zM12.516 7c1.933 0 3.5 1.567 3.5 3.5s-1.567 3.5-3.5 3.5-3.5-1.567-3.5-3.5l-0.016-0.5c0-3.866 3.134-7 7-7v2c-1.336 0-2.591 0.52-3.536 1.464-0.182 0.182-0.348 0.375-0.497 0.578 0.179-0.028 0.362-0.043 0.549-0.043z"}}]})(n)}const jce="_container_1p5xb_1",Xce="_header_1p5xb_25",Jce="_testimonials_1p5xb_37",Kce="_testimonialCard_1p5xb_49",Yce="_icon_1p5xb_69",qce="_testimonialText_1p5xb_79",$ce="_testimonialInfo_1p5xb_99",Qce="_avatar_1p5xb_111",Zce="_info_1p5xb_123",Do={container:jce,header:Xce,testimonials:Jce,testimonialCard:Kce,icon:Yce,testimonialText:qce,testimonialInfo:$ce,avatar:Qce,info:Zce},II=[{name:"Sarah Johnson",job_title:"CEO at TechSolutions Inc.",testimonial:"Anushka's expertise as a full stack developer has been invaluable to our projects. His attention to detail and problem-solving skills consistently deliver high-quality solutions.",avatar:"https://i.pravatar.cc/300?img=1"},{name:"Michael Lee",job_title:"Software Engineer at XYZ Tech",testimonial:"Working alongside Anushka has been a pleasure. His proficiency in both front-end and back-end development makes him an asset to any team. He's dedicated and always delivers exceptional results.",avatar:"https://i.pravatar.cc/300?img=2"},{name:"Emily Patel",job_title:"Project Manager at ABC Innovations",testimonial:"Anushka's commitment to understanding our project's requirements and delivering scalable solutions has been remarkable. His technical proficiency and collaborative approach significantly contributed to our project's success.",avatar:"https://i.pravatar.cc/300?img=3"},{name:"Javier Rodriguez",job_title:"CTO at Digital Nexus",testimonial:"Anushka's skill set as a full stack developer is impressive. His ability to adapt to new technologies and swiftly resolve complex issues demonstrates his exceptional capabilities in the field.",avatar:"https://i.pravatar.cc/300?img=4"},{name:"Priya Gupta",job_title:"Lead Developer at SoftwareXpert",testimonial:"Anushka's proficiency across the full stack spectrum is commendable. His innovative solutions and reliable code have been instrumental in enhancing our product's performance and functionality.",avatar:"https://i.pravatar.cc/300?img=5"}];function eue(){const[n,e]=O.useState(3),t=II.slice(0,n);return X.jsxs("div",{className:Do.container,id:"testimonials",children:[X.jsx(Kt.h1,{className:Do.header,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:"Testimonials"}),X.jsx("div",{className:Do.testimonials,children:t.map((i,r)=>X.jsxs(Kt.div,{className:Do.testimonialCard,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},children:[X.jsxs("div",{className:Do.testimonialText,children:[X.jsx("div",{className:Do.icon,children:X.jsx(Wce,{})}),X.jsx("p",{children:i.testimonial})]}),X.jsxs("div",{className:Do.testimonialInfo,children:[X.jsx("div",{className:Do.avatar,children:X.jsx("img",{src:i.avatar,alt:i.name})}),X.jsxs("div",{className:Do.info,children:[X.jsx("h2",{children:i.name}),X.jsx("p",{children:i.job_title})]})]})]},r))}),n<II.length&&X.jsxs("button",{className:bb.primaryButton,onClick:()=>{e(n+3)},children:["Load More ",X.jsx(wf,{})]})]})}function tue(){return X.jsxs(X.Fragment,{children:[X.jsx(Cce,{}),X.jsx(Fce,{}),X.jsx(fce,{}),X.jsx(Vce,{}),X.jsx(eue,{}),X.jsx(tce,{})]})}const nue="_container_zprnf_1",iue="_section_zprnf_13",rue="_hero_zprnf_25",sue="_content_zprnf_49",Vl={container:nue,section:iue,hero:rue,content:sue};function oue(){return X.jsxs("div",{className:Vl.container,children:[X.jsxs("div",{className:Vl.section,children:[X.jsx(Kt.div,{className:Vl.hero,initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:X.jsx(U1,{lookRight:!0})}),X.jsxs(Kt.div,{className:Vl.content,initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:[X.jsx("h2",{children:"My Story"}),X.jsxs("p",{children:["Hi, Im Anushka Madushanka, a full stack developer with over 6 years of experience in the industry. Im passionate about creating web and mobile applications that are user-friendly, scalable, and secure. I have a bachelors degree in computer software engineering from the University of Westminster and a strong knowledge of various programming languages and frameworks, such as NodeJs, SQL, MongoDB, C#, JavaScript, Angular, and ReactJs. I also have expertise in HTML and CSS and can hand-code a given design into pixel-perfect CSS.",X.jsx("br",{}),X.jsx("br",{})," I have worked on several projects for different clients, ranging from social commerce platforms to live video conferencing apps to indoor navigation systems.",X.jsx("br",{}),X.jsx("br",{})," You can check out more of my projects on my GitHub profile. Im always eager to learn new technologies and take on new challenges. Im also open to new opportunities and collaborations. If you are interested in working with me or have any questions, feel free to contact me through my LinkedIn profile or email me at anushka.madushanka@gmail.com. I look forward to hearing from you. Thank you for visiting my portfolio website."]})]})]}),X.jsxs("div",{className:Vl.section,children:[X.jsxs(Kt.div,{className:Vl.content,initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:[X.jsx("h2",{children:"Experience"}),X.jsxs("p",{children:["Software Engineer (Full Stack Developer) Bourke Technologies  Full-time Sep 2017 - Jan 2021  3 yrs 5 mos",X.jsxs("ul",{children:[X.jsxs("li",{children:["Shopshare.tv - social commerce platform for shoppers to get help, guidance, and inspiration as they shop online. ",X.jsx("br",{}),"Technologies: React, NodeJs, GraphQL, AWS, PostgreSQL, Sequalize"]}),X.jsxs("li",{children:["Shopcast.tv - Widget that shows up on online shopping sites to get help, guidance on specific products.",X.jsx("br",{}),"Technologies: React (NextJS), NodeJs, GraphQL, AWS, PostgreSQL, Sequalize"]}),X.jsxs("li",{children:["Hospital Communication System - Live video conferencing app to use inside hospitals for better. communication.",X.jsx("br",{}),"Technologies: React Native, .NET WEB API, Genie, Microsoft SQL Server"]}),X.jsxs("li",{children:["Bunnings- Indoor navigation system for supermarkets.",X.jsx("br",{}),"Technologies: Angular, .NET WEB API, Genie, Microsoft SQL Server, Unity"]}),X.jsxs("li",{children:["Burgercafe - POS system and admin panel for managing your products.",X.jsx("br",{}),"Technologies: .NET MVC, Genie, Microsoft SQL Server, WPF, Firebase"]}),X.jsxs("li",{children:["Buckingham Tea - Tea e-commerce website",X.jsx("br",{}),"Technologies: Angular, .NET WEB API, Genie, Microsoft SQL Server, Stripe Payment APIs, Firebase"]})]}),"Lead Web Developer ShopShareTV - Customised Shopping Videos  Full-time Jan 2021 - Present  2 yrs 7 mos"]})]}),X.jsx(Kt.div,{className:Vl.hero,initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5},children:X.jsx(U1,{lookRight:!0})})]})]})}const aue=yV([{path:"/",element:X.jsxs(X.Fragment,{children:[X.jsx(xJ,{}),X.jsxs("div",{className:h3.container,children:[X.jsx(HJ,{}),X.jsx(uV,{})]})]}),children:[{path:"/",element:X.jsx(tue,{})},{path:"/about",element:X.jsx(oue,{})},{path:"*",element:X.jsx("div",{children:"404"})}]}]);function lue(){const[n,e]=O.useState(!0);return O.useEffect(()=>{const t=document.querySelector("body");UV(t);const i=setTimeout(()=>{e(!1),zV(t)},1e3);return()=>clearTimeout(i)},[]),X.jsxs(X.Fragment,{children:[X.jsx(Cw,{children:n&&X.jsx(Kt.div,{className:h3.loading,initial:{opacity:1},exit:{opacity:0},children:X.jsx("img",{src:f3,alt:"logo"})})}),X.jsx(EV,{router:aue})]})}gS.createRoot(document.getElementById("root")).render(X.jsx(Ii.StrictMode,{children:X.jsx(lue,{})}))});export default cue();
